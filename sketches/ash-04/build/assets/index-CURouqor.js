var va=Object.defineProperty;var ka=(n,e,t)=>e in n?va(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var pn=(n,e,t)=>(ka(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();function ae(){}function Or(n,e){for(const t in e)n[t]=e[t];return n}function Ea(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function cs(n){return n()}function zi(){return Object.create(null)}function tt(n){n.forEach(cs)}function yn(n){return typeof n=="function"}function ce(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let zn;function Aa(n,e){return n===e?!0:(zn||(zn=document.createElement("a")),zn.href=e,n===zn.href)}function Sa(n){return Object.keys(n).length===0}function tr(n,...e){if(n==null){for(const r of e)r(void 0);return ae}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ds(n){let e;return tr(n,t=>e=t)(),e}function ne(n,e,t){n.$$.on_destroy.push(tr(e,t))}function Ge(n,e,t,r){if(n){const i=hs(n,e,t,r);return n[0](i)}}function hs(n,e,t,r){return n[1]&&r?Or(t.ctx.slice(),n[1](r(e))):t.ctx}function We(n,e,t,r){if(n[2]&&r){const i=n[2](r(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const l=[],s=Math.max(e.dirty.length,i.length);for(let a=0;a<s;a+=1)l[a]=e.dirty[a]|i[a];return l}return e.dirty|i}return e.dirty}function qe(n,e,t,r,i,l){if(i){const s=hs(e,t,r,l);n.p(s,i)}}function Ke(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function mg(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function gg(n){return n??""}function ve(n,e,t){return n.set(t),e}function j(n,e){n.appendChild(e)}function L(n,e,t){n.insertBefore(e,t||null)}function N(n){n.parentNode&&n.parentNode.removeChild(n)}function Wt(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function O(n){return document.createElement(n)}function Ve(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Pe(n){return document.createTextNode(n)}function $(){return Pe(" ")}function Me(){return Pe("")}function be(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function pg(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function E(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Ta(n){return Array.from(n.childNodes)}function et(n,e){e=""+e,n.data!==e&&(n.data=e)}function Bt(n,e){n.value=e??""}function fe(n,e,t,r){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function Pi(n,e,t){for(let r=0;r<n.options.length;r+=1){const i=n.options[r];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function Ca(n){const e=n.querySelector(":checked");return e&&e.__value}let Pn;function Ra(){if(Pn===void 0){Pn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Pn=!0}}return Pn}function ms(n,e){getComputedStyle(n).position==="static"&&(n.style.position="relative");const r=O("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=Ra();let l;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",l=be(window,"message",s=>{s.source===r.contentWindow&&e()})):(r.src="about:blank",r.onload=()=>{l=be(r.contentWindow,"resize",e),e()}),j(n,r),()=>{(i||l&&r.contentWindow)&&l(),N(r)}}function W(n,e,t){n.classList.toggle(e,!!t)}function Ia(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}function qn(n,e){return new n(e)}let vn;function vt(n){vn=n}function zt(){if(!vn)throw new Error("Function called outside component initialization");return vn}function qt(n){zt().$$.on_mount.push(n)}function Ma(n){zt().$$.after_update.push(n)}function St(n){zt().$$.on_destroy.push(n)}function at(){const n=zt();return(e,t,{cancelable:r=!1}={})=>{const i=n.$$.callbacks[e];if(i){const l=Ia(e,t,{cancelable:r});return i.slice().forEach(s=>{s.call(n,l)}),!l.defaultPrevented}return!0}}function Sr(n,e){return zt().$$.context.set(n,e),e}function Kn(n){return zt().$$.context.get(n)}function Di(n){return zt().$$.context.has(n)}function st(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const nn=[],Ae=[];let on=[];const zr=[],Na=Promise.resolve();let Pr=!1;function Ba(){Pr||(Pr=!0,Na.then(Jr))}function an(n){on.push(n)}function it(n){zr.push(n)}const Tr=new Set;let xt=0;function Jr(){if(xt!==0)return;const n=vn;do{try{for(;xt<nn.length;){const e=nn[xt];xt++,vt(e),La(e.$$)}}catch(e){throw nn.length=0,xt=0,e}for(vt(null),nn.length=0,xt=0;Ae.length;)Ae.pop()();for(let e=0;e<on.length;e+=1){const t=on[e];Tr.has(t)||(Tr.add(t),t())}on.length=0}while(nn.length);for(;zr.length;)zr.pop()();Pr=!1,Tr.clear(),vt(n)}function La(n){if(n.fragment!==null){n.update(),tt(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(an)}}function Oa(n){const e=[],t=[];on.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),on=e}const Un=new Set;let jt;function me(){jt={r:0,c:[],p:jt}}function ge(){jt.r||tt(jt.c),jt=jt.p}function v(n,e){n&&n.i&&(Un.delete(n),n.i(e))}function A(n,e,t,r){if(n&&n.o){if(Un.has(n))return;Un.add(n),jt.c.push(()=>{Un.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function Ui(n,e){const t=e.token={};function r(i,l,s,a){if(e.token!==t)return;e.resolved=a;let o=e.ctx;s!==void 0&&(o=o.slice(),o[s]=a);const u=i&&(e.current=i)(o);let c=!1;e.block&&(e.blocks?e.blocks.forEach((f,d)=>{d!==l&&f&&(me(),A(f,1,1,()=>{e.blocks[d]===f&&(e.blocks[d]=null)}),ge())}):e.block.d(1),u.c(),v(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[l]=u),c&&Jr()}if(Ea(n)){const i=zt();if(n.then(l=>{vt(i),r(e.then,1,e.value,l),vt(null)},l=>{if(vt(i),r(e.catch,2,e.error,l),vt(null),!e.hasCatch)throw l}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,n),!0;e.resolved=n}}function za(n,e,t){const r=e.slice(),{resolved:i}=n;n.current===n.then&&(r[n.value]=i),n.current===n.catch&&(r[n.error]=i),n.block.p(r,t)}function Fe(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function gs(n,e){A(n,1,1,()=>{e.delete(n.key)})}function ps(n,e,t,r,i,l,s,a,o,u,c,f){let d=n.length,m=l.length,h=d;const _={};for(;h--;)_[n[h].key]=h;const g=[],p=new Map,w=new Map,I=[];for(h=m;h--;){const M=f(i,l,h),R=t(M);let U=s.get(R);U?I.push(()=>U.p(M,e)):(U=u(R,M),U.c()),p.set(R,g[h]=U),R in _&&w.set(R,Math.abs(h-_[R]))}const k=new Set,T=new Set;function C(M){v(M,1),M.m(a,c),s.set(M.key,M),c=M.first,m--}for(;d&&m;){const M=g[m-1],R=n[d-1],U=M.key,G=R.key;M===R?(c=M.first,d--,m--):p.has(G)?!s.has(U)||k.has(U)?C(M):T.has(G)?d--:w.get(U)>w.get(G)?(T.add(U),C(M)):(k.add(G),d--):(o(R,s),d--)}for(;d--;){const M=n[d];p.has(M.key)||o(M,s)}for(;m;)C(g[m-1]);return tt(I),g}function Fi(n,e){const t={},r={},i={$$scope:1};let l=n.length;for(;l--;){const s=n[l],a=e[l];if(a){for(const o in s)o in a||(r[o]=1);for(const o in a)i[o]||(t[o]=a[o],i[o]=1);n[l]=a}else for(const o in s)i[o]=1}for(const s in r)s in t||(t[s]=void 0);return t}function ji(n){return typeof n=="object"&&n!==null?n:{}}function lt(n,e,t){const r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function D(n){n&&n.c()}function z(n,e,t){const{fragment:r,after_update:i}=n.$$;r&&r.m(e,t),an(()=>{const l=n.$$.on_mount.map(cs).filter(yn);n.$$.on_destroy?n.$$.on_destroy.push(...l):tt(l),n.$$.on_mount=[]}),i.forEach(an)}function P(n,e){const t=n.$$;t.fragment!==null&&(Oa(t.after_update),tt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Pa(n,e){n.$$.dirty[0]===-1&&(nn.push(n),Ba(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function de(n,e,t,r,i,l,s=null,a=[-1]){const o=vn;vt(n);const u=n.$$={fragment:null,ctx:[],props:l,update:ae,not_equal:i,bound:zi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:zi(),dirty:a,skip_bound:!1,root:e.target||o.$$.root};s&&s(u.root);let c=!1;if(u.ctx=t?t(n,e.props||{},(f,d,...m)=>{const h=m.length?m[0]:d;return u.ctx&&i(u.ctx[f],u.ctx[f]=h)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](h),c&&Pa(n,f)),d}):[],u.update(),c=!0,tt(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const f=Ta(e.target);u.fragment&&u.fragment.l(f),f.forEach(N)}else u.fragment&&u.fragment.c();e.intro&&v(n.$$.fragment),z(n,e.target,e.anchor),Jr()}vt(o)}class he{constructor(){pn(this,"$$");pn(this,"$$set")}$destroy(){P(this,1),this.$destroy=ae}$on(e,t){if(!yn(t))return ae;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Sa(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Da="4",en=[];function Ua(n,e){return{subscribe:mt(n,e).subscribe}}function mt(n,e=ae){let t;const r=new Set;function i(a){if(ce(n,a)&&(n=a,t)){const o=!en.length;for(const u of r)u[1](),en.push(u,n);if(o){for(let u=0;u<en.length;u+=2)en[u][0](en[u+1]);en.length=0}}}function l(a){i(a(n))}function s(a,o=ae){const u=[a,o];return r.add(u),r.size===1&&(t=e(i,l)||ae),a(n),()=>{r.delete(u),r.size===0&&t&&(t(),t=null)}}return{set:i,update:l,subscribe:s}}function Fa(n,e,t){const r=!Array.isArray(n),i=r?[n]:n;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=e.length<2;return Ua(t,(s,a)=>{let o=!1;const u=[];let c=0,f=ae;const d=()=>{if(c)return;f();const h=e(r?u[0]:u,s,a);l?s(h):f=yn(h)?h:ae},m=i.map((h,_)=>tr(h,g=>{u[_]=g,c&=~(1<<_),o&&d()},()=>{c|=1<<_}));return o=!0,d(),function(){tt(m),f(),o=!1}})}const Vt="*";let Dr=[];function ja(n){Dr.push(...n)}function nr(){let n;const{stack:e}=new Error,{url:t}=import.meta,r=e.split(`
`),i=r.findIndex(l=>l.includes(t));i>=0&&r.splice(0,i+1);for(let l=0;l<r.length;l++)for(let s=0;s<Dr.length;s++){const a=Dr[s];if(r[l].includes(a)){n=a;break}}return n||(n=Vt),n}let Ur=new Map;function Ha(n,e){const t=localStorage.getItem(`fragment.${n}`);return t?typeof t=="string"?JSON.parse(t):t:e}function Va(n,e){localStorage.setItem(`fragment.${n}`,JSON.stringify(e))}function ut(n,e,{persist:t=!1,reset:r=!1}={}){const i=t&&!r?Ha(n,e):e,l=mt(i);return t&&l.subscribe(s=>{Va(n,s)}),Ur.set(n,l),l}function Qr(n,e,{persist:t=!1,reset:r=!1}={}){return Ur.has(n)?Ur.get(n):ut(n,e,{persist:t,reset:r})}function rr(n){const e=mt(new Map);return[e,(i,{context:l=nr()}={})=>(typeof i!="function"&&console.warn(`${n} argument must be a function.`),e.update(s=>(s.has(l)||s.set(l,[]),s.set(l,[...s.get(l),i]),s)),()=>{e.update(s=>(s.set(l,[...s.get(l)].filter(a=>a!==i)),s))}),i=>{e.update(l=>(l.delete(i),l))}]}const ht=Qr("layout.current",{},{persist:!1}),kt=ut("layout",{editing:!1,previewing:!1,registerChild:(n,e)=>{qt(()=>{n.children=e(),n.root&&ht.set(Ga(n))})}});function Ga(n){return JSON.parse(JSON.stringify(n,(e,t)=>{if(!(t instanceof HTMLElement))return t}))}function pt(n=()=>{},e=ds(ht)){const{children:t=[]}=e;n(e);for(let r=0;r<t.length;r++){const i=t[r];pt(n,i)}}const Wa=(n,e)=>{ht.update(t=>(pt(r=>{r.id===n.id&&(r.children=e)},t),t))},qa=n=>{ht.update(e=>(pt(t=>{!t.root&&t.type!=="module"&&(t.depth=t.depth+1)},n),n))},Ka=(n,e)=>{ht.update(t=>(pt(r=>{if(r.id===n.parent){const i=r.children.findIndex(a=>a.id===n.id),{size:l}=r.children[i];r.children[i].size=l*.5,e.size=l*.5;const s=[...r.children];s.splice(i+1,0,e),r.children=s}}),t))},Ya=(n,e)=>{ht.update(t=>(pt(r=>{r.id===n.id&&(r.children=[...r.children,e])},t),t))},_s=n=>{ht.update(e=>(pt(t=>{const{children:r=[]}=t,i=r.findIndex(l=>l.id===n.id);if(i>=0){const l=[...r];l.splice(i,1),l.forEach(s=>{s.size=1/l.length}),l.length===0&&_s(t),t.children=l}},e),e))},Xa=(n,e={})=>{ht.update(t=>(pt(r=>{r.mID===n.mID&&(typeof e=="object"?Object.assign(r,e):typeof e=="function"&&Object.assign(r,e(r)))},t),t))},Ja=(n=[])=>{ht.update(e=>(pt(t=>{n.forEach(r=>{r.id===t.id&&(t.size=r.size)})},e),e))},Hi=mt([]);let bs=["log","warn","error","dir"],Yn=!1,ws={};ht.subscribe(n=>{let e=!1;pt(t=>{t.type==="module"&&t.name==="console"&&(e=!0)},n),e&&!Yn?Qa():Yn&&!e&&Za()});let ys=console.clear;function Qa(){Yn=!0,bs.forEach(n=>{const e=console[`${n}`];ws[`${n}`]=e,console[`${n}`]=(...t)=>{let r=t.some(i=>typeof i=="string"&&i.includes("[vite]"));r||e(...t),Hi.update(i=>{if(r)return i;if(i.length>0){const l=i[i.length-1],{level:s,args:a}=l;if(s===n&&a[0]===t[0])return i[i.length-1].count++,i}return[...i,{level:n,args:t,count:1}]})}}),console.clear=()=>{ys(),Hi.update(()=>[])}}function Za(){Yn=!1,bs.forEach(n=>{const e=ws[n];console[`${n}`]=e}),console.clear=ys}typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Da);function $a(n){let e;return{c(){e=O("div"),e.innerHTML='<div class="icon-cross-side svelte-1blgog3"></div> <div class="icon-cross-side svelte-1blgog3"></div>',E(e,"class","icon-cross svelte-1blgog3")},m(t,r){L(t,e,r)},p:ae,i:ae,o:ae,d(t){t&&N(e)}}}class vs extends he{constructor(e){super(),de(this,e,null,$a,ce,{})}}function xa(n){let e,t,r,i,l,s,a,o;const u=n[8].default,c=Ge(u,n,n[7],null);return{c(){e=O("div"),t=O("button"),r=O("span"),i=Pe(n[0]),l=$(),c&&c.c(),E(r,"class","label"),W(r,"visually-hidden",!n[2]),E(t,"class","button svelte-1rmm7m7"),t.disabled=n[1],E(t,"title",n[3]),E(e,"class","button-container svelte-1rmm7m7"),W(e,"disabled",n[1])},m(f,d){L(f,e,d),j(e,t),j(t,r),j(r,i),j(t,l),c&&c.m(t,null),s=!0,a||(o=[be(t,"click",n[9]),be(t,"mouseenter",n[10]),be(t,"mouseleave",n[11])],a=!0)},p(f,[d]){(!s||d&1)&&et(i,f[0]),(!s||d&4)&&W(r,"visually-hidden",!f[2]),c&&c.p&&(!s||d&128)&&qe(c,u,f,f[7],s?We(u,f[7],d,null):Ke(f[7]),null),(!s||d&2)&&(t.disabled=f[1]),(!s||d&8)&&E(t,"title",f[3]),(!s||d&2)&&W(e,"disabled",f[1])},i(f){s||(v(c,f),s=!0)},o(f){A(c,f),s=!1},d(f){f&&N(e),c&&c.d(f),a=!1,tt(o)}}}function eu(n,e,t){let{$$slots:r={},$$scope:i}=e,{value:l=null}=e,{label:s}=e,{disabled:a=!1}=e,{showLabel:o=!0}=e,{title:u=""}=e,{context:c=null}=e,{key:f=""}=e;function d(_){st.call(this,n,_)}function m(_){st.call(this,n,_)}function h(_){st.call(this,n,_)}return n.$$set=_=>{"value"in _&&t(4,l=_.value),"label"in _&&t(0,s=_.label),"disabled"in _&&t(1,a=_.disabled),"showLabel"in _&&t(2,o=_.showLabel),"title"in _&&t(3,u=_.title),"context"in _&&t(5,c=_.context),"key"in _&&t(6,f=_.key),"$$scope"in _&&t(7,i=_.$$scope)},[s,a,o,u,l,c,f,i,r,d,m,h]}class Lt extends he{constructor(e){super(),de(this,e,eu,xa,ce,{value:4,label:0,disabled:1,showLabel:2,title:3,context:5,key:6})}}function tu(n){let e,t,r,i;return{c(){e=O("div"),t=Ve("svg"),r=Ve("path"),E(r,"stroke","currentColor"),E(r,"stroke-linecap","round"),E(r,"stroke-linejoin","round"),E(r,"stroke-width","1.5"),E(r,"d","M15.25 10.75L12 14.25L8.75 10.75"),E(t,"class","chevron chevron-bottom"),E(t,"width",n[0]),E(t,"height",n[1]),E(t,"fill","none"),E(t,"viewBox","0 0 24 24"),E(e,"class","chevrons svelte-15xj9cl"),E(e,"style",i=`width: ${n[0]}px;`)},m(l,s){L(l,e,s),j(e,t),j(t,r)},p(l,[s]){s&1&&E(t,"width",l[0]),s&2&&E(t,"height",l[1]),s&1&&i!==(i=`width: ${l[0]}px;`)&&E(e,"style",i)},i:ae,o:ae,d(l){l&&N(e)}}}function nu(n,e,t){let{width:r=24}=e,{height:i=24}=e;return n.$$set=l=>{"width"in l&&t(0,r=l.width),"height"in l&&t(1,i=l.height)},[r,i]}class ks extends he{constructor(e){super(),de(this,e,nu,tu,ce,{width:0,height:1})}}function Vi(n,e,t){const r=n.slice();return r[14]=e[t],r}function Gi(n){let e,t=n[14].label+"",r,i,l,s;return{c(){e=O("option"),r=Pe(t),e.__value=i=n[14].value,Bt(e,e.__value),e.selected=l=n[4]===n[14].value,e.disabled=s=n[14].disabled},m(a,o){L(a,e,o),j(e,r)},p(a,o){o&32&&t!==(t=a[14].label+"")&&et(r,t),o&32&&i!==(i=a[14].value)&&(e.__value=i,Bt(e,e.__value)),o&48&&l!==(l=a[4]===a[14].value)&&(e.selected=l),o&32&&s!==(s=a[14].disabled)&&(e.disabled=s)},d(a){a&&N(e)}}}function Wi(n){let e,t;return e=new ks({}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function ru(n){let e,t,r,i,l,s,a,o=Fe(n[5]),u=[];for(let f=0;f<o.length;f+=1)u[f]=Gi(Vi(n,o,f));let c=n[5].length>1&&Wi();return{c(){e=O("div"),t=O("div"),r=O("select");for(let f=0;f<u.length;f+=1)u[f].c();i=$(),c&&c.c(),E(r,"class","select svelte-1jhxmty"),E(r,"name",n[0]),r.disabled=n[1],E(r,"title",n[2]),n[4]===void 0&&an(()=>n[12].call(r)),E(t,"class","container svelte-1jhxmty"),E(e,"class","select-input svelte-1jhxmty"),W(e,"disabled",n[1]),W(e,"single",n[5].length===1)},m(f,d){L(f,e,d),j(e,t),j(t,r);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(r,null);n[11](r),Pi(r,n[4],!0),j(t,i),c&&c.m(t,null),l=!0,s||(a=[be(r,"change",n[6]),be(r,"change",n[12])],s=!0)},p(f,[d]){if(d&48){o=Fe(f[5]);let m;for(m=0;m<o.length;m+=1){const h=Vi(f,o,m);u[m]?u[m].p(h,d):(u[m]=Gi(h),u[m].c(),u[m].m(r,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=o.length}(!l||d&1)&&E(r,"name",f[0]),(!l||d&2)&&(r.disabled=f[1]),(!l||d&4)&&E(r,"title",f[2]),d&48&&Pi(r,f[4]),f[5].length>1?c?d&32&&v(c,1):(c=Wi(),c.c(),v(c,1),c.m(t,null)):c&&(me(),A(c,1,1,()=>{c=null}),ge()),(!l||d&2)&&W(e,"disabled",f[1]),(!l||d&32)&&W(e,"single",f[5].length===1)},i(f){l||(v(c),l=!0)},o(f){A(c),l=!1},d(f){f&&N(e),Wt(u,f),n[11](null),c&&c.d(),s=!1,tt(a)}}}function Es(n,e=typeof n){return n===null?"null":n===void 0?"undefined":e==="object"?Es(n.value):e==="function"?n.name:n.toString()}function iu(n,e,t){let{options:r=[]}=e,{name:i=""}=e,{value:l}=e,{disabled:s=!1}=e,{title:a=""}=e,{context:o=null}=e,{key:u=""}=e,c,f,d=[];const m=at();function h(p){const w=d.findIndex(T=>T.value===p.currentTarget.value),I=r[w],k=typeof I=="object"?I.value:I;t(7,l=k),m("change",k)}function _(p){Ae[p?"unshift":"push"](()=>{c=p,t(3,c)})}function g(){f=Ca(this),t(4,f),t(8,r),t(7,l),t(5,d),t(8,r),t(7,l)}return n.$$set=p=>{"options"in p&&t(8,r=p.options),"name"in p&&t(0,i=p.name),"value"in p&&t(7,l=p.value),"disabled"in p&&t(1,s=p.disabled),"title"in p&&t(2,a=p.title),"context"in p&&t(9,o=p.context),"key"in p&&t(10,u=p.key)},n.$$.update=()=>{if(n.$$.dirty&384){t(5,d=[]);for(let p=0;p<r.length;p++){let w=r[p],I=typeof w,k=I==="object"&&typeof w.disabled=="boolean"?w.disabled:!1,T=I==="object"?w.value:w,C=Es(w),M;T===l&&t(4,f=C),w.label?M=w.label:M=C,t(5,d[p]={label:M,value:C,disabled:k},d)}}},[i,s,a,c,f,d,h,l,r,o,u,_,g]}class un extends he{constructor(e){super(),de(this,e,iu,ru,ce,{options:8,name:0,value:7,disabled:1,title:2,context:9,key:10})}}const lu="modulepreload",su=function(n){return"/sketches/ash-04/build/"+n},qi={},Ft=function(e,t,r){return!t||t.length===0?e():(document.getElementsByTagName("link"),Promise.all(t.map(i=>{if(i=su(i),i in qi)return;qi[i]=!0;const l=i.endsWith(".css"),s=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${s}`))return;const a=document.createElement("link");if(a.rel=l?"stylesheet":lu,l||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),l)return new Promise((o,u)=>{a.addEventListener("load",o),a.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}))},ou=n=>({}),Ki=n=>({}),au=n=>({}),Yi=n=>({});function Xi(n){let e,t,r,i,l,s,a,o,u,c,f;const d=n[7]["header-left"],m=Ge(d,n,n[6],Yi),h=n[7]["header-right"],_=Ge(h,n,n[6],Ki);return{c(){e=O("header"),t=O("div"),r=O("div"),m&&m.c(),i=$(),l=O("div"),s=O("h2"),a=Pe(n[0]),o=$(),u=O("div"),c=O("div"),_&&_.c(),E(r,"class","slot slot--left svelte-b0xkzs"),E(t,"class","header__col svelte-b0xkzs"),E(s,"class","module__title svelte-b0xkzs"),E(l,"class","header__col svelte-b0xkzs"),E(c,"class","slot slot--right svelte-b0xkzs"),E(u,"class","header__col svelte-b0xkzs"),E(e,"class","module__header svelte-b0xkzs")},m(g,p){L(g,e,p),j(e,t),j(t,r),m&&m.m(r,null),j(e,i),j(e,l),j(l,s),j(s,a),j(e,o),j(e,u),j(u,c),_&&_.m(c,null),f=!0},p(g,p){m&&m.p&&(!f||p&64)&&qe(m,d,g,g[6],f?We(d,g[6],p,au):Ke(g[6]),Yi),(!f||p&1)&&et(a,g[0]),_&&_.p&&(!f||p&64)&&qe(_,h,g,g[6],f?We(h,g[6],p,ou):Ke(g[6]),Ki)},i(g){f||(v(m,g),v(_,g),f=!0)},o(g){A(m,g),A(_,g),f=!1},d(g){g&&N(e),m&&m.d(g),_&&_.d(g)}}}function uu(n){let e,t,r,i,l,s=n[3]&&n[0]&&Xi(n);const a=n[7].default,o=Ge(a,n,n[6],null);return{c(){e=O("div"),s&&s.c(),t=$(),r=O("div"),o&&o.c(),E(r,"class","module__container svelte-b0xkzs"),E(e,"class",i="module module--"+n[1]+" svelte-b0xkzs"),W(e,"scrollable",n[2]),W(e,"no-header",!n[3]),W(e,"editing",n[4].editing)},m(u,c){L(u,e,c),s&&s.m(e,null),j(e,t),j(e,r),o&&o.m(r,null),l=!0},p(u,[c]){u[3]&&u[0]?s?(s.p(u,c),c&9&&v(s,1)):(s=Xi(u),s.c(),v(s,1),s.m(e,t)):s&&(me(),A(s,1,1,()=>{s=null}),ge()),o&&o.p&&(!l||c&64)&&qe(o,a,u,u[6],l?We(a,u[6],c,null):Ke(u[6]),null),(!l||c&2&&i!==(i="module module--"+u[1]+" svelte-b0xkzs"))&&E(e,"class",i),(!l||c&6)&&W(e,"scrollable",u[2]),(!l||c&10)&&W(e,"no-header",!u[3]),(!l||c&18)&&W(e,"editing",u[4].editing)},i(u){l||(v(s),v(o,u),l=!0)},o(u){A(s),A(o,u),l=!1},d(u){u&&N(e),s&&s.d(),o&&o.d(u)}}}let Fn=0,fu=()=>Fn++;function cu(n,e,t){let r;ne(n,kt,h=>t(4,r=h));let{$$slots:i={},$$scope:l}=e,{mID:s=void 0}=e,{name:a}=e,{slug:o=a}=e,{scrollable:u=!0}=e,{hasHeader:c=!0}=e;const f=Kn("parent"),d={mID:isNaN(s)?Fn++:s,type:"module",name:o,hasHeader:c};return Fn=Math.max(Fn,isNaN(d.mID)?0:d.mID+1),f.registerChild(d),Kn("module").set(d),n.$$set=h=>{"mID"in h&&t(5,s=h.mID),"name"in h&&t(0,a=h.name),"slug"in h&&t(1,o=h.slug),"scrollable"in h&&t(2,u=h.scrollable),"hasHeader"in h&&t(3,c=h.hasHeader),"$$scope"in h&&t(6,l=h.$$scope)},[a,o,u,c,r,s,l,i]}class ir extends he{constructor(e){super(),de(this,e,cu,uu,ce,{mID:5,name:0,slug:1,scrollable:2,hasHeader:3})}}function du(n){let e,t;return e=new ir({props:{hasHeader:n[2],mID:n[0],name:n[1]}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&4&&(l.hasHeader=r[2]),i&1&&(l.mID=r[0]),i&2&&(l.name=r[1]),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function hu(n){let e,t,r,i={ctx:n,current:null,token:null,hasCatch:!0,pending:pu,then:gu,catch:mu,value:4,error:5,blocks:[,,,]};return Ui(t=n[3][n[1]](),i),{c(){e=Me(),i.block.c()},m(l,s){L(l,e,s),i.block.m(l,i.anchor=s),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(l,s){n=l,i.ctx=n,s&2&&t!==(t=n[3][n[1]]())&&Ui(t,i)||za(i,n,s)},i(l){r||(v(i.block),r=!0)},o(l){for(let s=0;s<3;s+=1){const a=i.blocks[s];A(a)}r=!1},d(l){l&&N(e),i.block.d(l),i.token=null,i=null}}}function mu(n){let e,t,r=n[5].message+"",i;return{c(){e=O("p"),t=Pe("Something went wrong: "),i=Pe(r)},m(l,s){L(l,e,s),j(e,t),j(e,i)},p(l,s){s&2&&r!==(r=l[5].message+"")&&et(i,r)},i:ae,o:ae,d(l){l&&N(e)}}}function gu(n){let e,t,r;var i=n[4].default;function l(s,a){return{props:{mID:s[0],hasHeader:s[2]}}}return i&&(e=qn(i,l(n))),{c(){e&&D(e.$$.fragment),t=Me()},m(s,a){e&&z(e,s,a),L(s,t,a),r=!0},p(s,a){if(a&2&&i!==(i=s[4].default)){if(e){me();const o=e;A(o.$$.fragment,1,0,()=>{P(o,1)}),ge()}i?(e=qn(i,l(s)),D(e.$$.fragment),v(e.$$.fragment,1),z(e,t.parentNode,t)):e=null}else if(i){const o={};a&1&&(o.mID=s[0]),a&4&&(o.hasHeader=s[2]),e.$set(o)}},i(s){r||(e&&v(e.$$.fragment,s),r=!0)},o(s){e&&A(e.$$.fragment,s),r=!1},d(s){s&&N(t),e&&P(e,s)}}}function pu(n){let e,t;return e=new ir({props:{hasHeader:n[2],mID:n[0],name:n[1]}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&4&&(l.hasHeader=r[2]),i&1&&(l.mID=r[0]),i&2&&(l.name=r[1]),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function _u(n){let e,t,r,i;const l=[hu,du],s=[];function a(o,u){return o[3][o[1]]?0:1}return e=a(n),t=s[e]=l[e](n),{c(){t.c(),r=Me()},m(o,u){s[e].m(o,u),L(o,r,u),i=!0},p(o,[u]){let c=e;e=a(o),e===c?s[e].p(o,u):(me(),A(s[c],1,1,()=>{s[c]=null}),ge(),t=s[e],t?t.p(o,u):(t=s[e]=l[e](o),t.c()),v(t,1),t.m(r.parentNode,r))},i(o){i||(v(t),i=!0)},o(o){A(t),i=!1},d(o){o&&N(r),s[e].d(o)}}}let bu=["monitor","params","midi","console","exports"];function wu(n,e,t){let{mID:r=void 0}=e,{name:i}=e,{hasHeader:l=!0}=e;const s={monitor:()=>Ft(()=>Promise.resolve().then(()=>_d),void 0),params:()=>Ft(()=>Promise.resolve().then(()=>om),void 0),midi:()=>Ft(()=>import("./MidiPanel-D4YMITqe.js"),__vite__mapDeps([])),console:()=>Ft(()=>import("./Console-BIUEKboJ.js"),__vite__mapDeps([0,1])),exports:()=>Ft(()=>import("./Exports-YoR_470P.js"),__vite__mapDeps([]))};return n.$$set=a=>{"mID"in a&&t(0,r=a.mID),"name"in a&&t(1,i=a.name),"hasHeader"in a&&t(2,l=a.hasHeader)},[r,i,l,s]}class lr extends he{constructor(e){super(),de(this,e,wu,_u,ce,{mID:0,name:1,hasHeader:2})}}function Ji(n){let e,t,r,i,l;return t=new un({props:{value:n[0],options:n[8],title:"Switch module"}}),t.$on("change",n[9]),{c(){e=O("div"),D(t.$$.fragment),r=$(),i=O("div"),E(e,"class","module svelte-pk6yyr"),E(i,"class","separator svelte-pk6yyr")},m(s,a){L(s,e,a),z(t,e,null),L(s,r,a),L(s,i,a),l=!0},p(s,a){const o={};a&1&&(o.value=s[0]),t.$set(o)},i(s){l||(v(t.$$.fragment,s),l=!0)},o(s){A(t.$$.fragment,s),l=!1},d(s){s&&(N(e),N(r),N(i)),P(t)}}}function yu(n){let e;return{c(){e=O("div"),e.innerHTML='<div class="icon-box svelte-pk6yyr"></div> <div class="icon-box svelte-pk6yyr"></div>',E(e,"class","icon-layout svelte-pk6yyr")},m(t,r){L(t,e,r)},p:ae,d(t){t&&N(e)}}}function vu(n){let e;return{c(){e=O("div"),e.innerHTML='<div class="icon-box svelte-pk6yyr"></div> <div class="icon-box svelte-pk6yyr"></div>',E(e,"class","icon-layout row svelte-pk6yyr")},m(t,r){L(t,e,r)},p:ae,d(t){t&&N(e)}}}function Qi(n){let e,t,r,i;return t=new Lt({props:{label:"Delete",showLabel:!1,$$slots:{default:[ku]},$$scope:{ctx:n}}}),t.$on("click",n[7]),{c(){e=O("div"),r=O("div"),D(t.$$.fragment),fe(r,"display","contents"),fe(r,"--color-text","white"),fe(r,"--background-color","var(--color-red)"),fe(r,"--box-shadow-color-active","var(--color-lightred)"),E(e,"class","layout-delete")},m(l,s){L(l,e,s),j(e,r),z(t,r,null),i=!0},p(l,s){const a={};s&32768&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){i||(v(t.$$.fragment,l),i=!0)},o(l){A(t.$$.fragment,l),i=!1},d(l){l&&N(e),P(t)}}}function ku(n){let e,t;return e=new vs({}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Eu(n){let e,t,r,i,l,s,a,o,u,c=!n[1]&&Ji(n);l=new Lt({props:{label:"Split in columns",showLabel:!1,title:"Split in columns",$$slots:{default:[yu]},$$scope:{ctx:n}}}),l.$on("mouseenter",n[10]),l.$on("mouseleave",n[11]),l.$on("click",n[6]),a=new Lt({props:{label:"Split in rows",showLabel:!1,title:"Split in rows",$$slots:{default:[vu]},$$scope:{ctx:n}}}),a.$on("mouseenter",n[12]),a.$on("mouseleave",n[13]),a.$on("click",n[5]);let f=!n[1]&&Qi(n);return{c(){e=O("div"),t=O("div"),c&&c.c(),r=$(),i=O("div"),D(l.$$.fragment),s=$(),D(a.$$.fragment),o=$(),f&&f.c(),E(i,"class","layout-actions svelte-pk6yyr"),E(t,"class","content svelte-pk6yyr"),W(t,"vertical",n[2]),E(e,"class","toolbar svelte-pk6yyr"),W(e,"root",n[1]),W(e,"split-columns",n[3]),W(e,"split-rows",n[4])},m(d,m){L(d,e,m),j(e,t),c&&c.m(t,null),j(t,r),j(t,i),z(l,i,null),j(i,s),z(a,i,null),j(i,o),f&&f.m(i,null),u=!0},p(d,[m]){d[1]?c&&(me(),A(c,1,1,()=>{c=null}),ge()):c?(c.p(d,m),m&2&&v(c,1)):(c=Ji(d),c.c(),v(c,1),c.m(t,r));const h={};m&32768&&(h.$$scope={dirty:m,ctx:d}),l.$set(h);const _={};m&32768&&(_.$$scope={dirty:m,ctx:d}),a.$set(_),d[1]?f&&(me(),A(f,1,1,()=>{f=null}),ge()):f?(f.p(d,m),m&2&&v(f,1)):(f=Qi(d),f.c(),v(f,1),f.m(i,null)),(!u||m&4)&&W(t,"vertical",d[2]),(!u||m&2)&&W(e,"root",d[1]),(!u||m&8)&&W(e,"split-columns",d[3]),(!u||m&16)&&W(e,"split-rows",d[4])},i(d){u||(v(c),v(l.$$.fragment,d),v(a.$$.fragment,d),v(f),u=!0)},o(d){A(c),A(l.$$.fragment,d),A(a.$$.fragment,d),A(f),u=!1},d(d){d&&N(e),c&&c.d(),P(l),P(a),f&&f.d()}}}const Au="Select a module";function Su(n,e,t){let{moduleName:r=void 0}=e,{isRoot:i=!1}=e,{vertical:l=!1}=e;const s=at();let a=!1,o=!1;function u(){s("add-row")}function c(){s("add-column")}function f(){s("delete")}const d=[{value:void 0,label:Au,disabled:!0},...bu.map(w=>({value:w,label:w}))];function m(w){st.call(this,n,w)}const h=()=>t(3,a=!0),_=()=>t(3,a=!1),g=()=>t(4,o=!0),p=()=>t(4,o=!1);return n.$$set=w=>{"moduleName"in w&&t(0,r=w.moduleName),"isRoot"in w&&t(1,i=w.isRoot),"vertical"in w&&t(2,l=w.vertical)},[r,i,l,a,o,u,c,f,d,m,h,_,g,p]}class Tu extends he{constructor(e){super(),de(this,e,Su,Eu,ce,{moduleName:0,isRoot:1,vertical:2})}}function $e(n,e,t,r,i){return(n-e)/(t-e)*(i-r)+r}function Nt(n,e,t){return Math.max(e,Math.min(n,t))}function Zr(n,e){return Math.round(n*(1/e))/(1/e)}function Cu(n){let e,t,r,i,l;return{c(){e=O("div"),t=O("div"),E(t,"class","resizer-hover svelte-1x3pqom"),W(t,"visible",n[1]),E(e,"class",r="resizer resizer--"+n[0]+" svelte-1x3pqom"),W(e,"dragging",n[2]),W(e,"editing",n[3].editing)},m(s,a){L(s,e,a),j(e,t),i||(l=[be(window,"mouseup",n[6]),be(window,"mousemove",n[7]),be(t,"mousedown",n[5])],i=!0)},p(s,[a]){a&2&&W(t,"visible",s[1]),a&1&&r!==(r="resizer resizer--"+s[0]+" svelte-1x3pqom")&&E(e,"class",r),a&5&&W(e,"dragging",s[2]),a&9&&W(e,"editing",s[3].editing)},i:ae,o:ae,d(s){s&&N(e),i=!1,tt(l)}}}const Zi=25,_n={HORIZONTAL:"horizontal",VERTICAL:"vertical"};function Ru(n,e,t){let r,i,l;ne(n,ht,C=>t(16,r=C)),ne(n,kt,C=>t(3,l=C));let{direction:s=_n.HORIZONTAL}=e,{current:a}=e,{parent:o={}}=e;const{children:u}=o;ne(n,u,C=>t(17,i=C));let c=!1,f=!1,d;function m(){if(u&&a.node&&a.node){const{parentNode:C}=a.node,M=[...C.children],R=M.findIndex(G=>G===a.node),U=M[R+2];d=i.find(G=>G.node===U),pt(G=>{G.id===d.id&&(p=G.size),G.id===a.id&&(g=G.size)},r)}}let h,_,g,p,w;function I(){m(),!f&&d&&(t(2,f=!0),document.body.style.userSelect="none",document.body.style.cursor=s===_n.HORIZONTAL?"ns-resize":"ew-resize",w=g+p,h=a.node.getBoundingClientRect(),_=d.node.getBoundingClientRect(),t(1,c=g===p))}function k(C){f&&(t(2,f=!1),t(1,c=!1),document.body.style.userSelect=null,document.body.style.cursor=null)}function T(C){if(!f)return;let M,R;if(s===_n.HORIZONTAL){const V=h.top,X=_.bottom,ee=Nt(C.clientY,V,X);M=Math.round($e(ee,V,X,0,w)*1e4)/1e4,R=Math.round($e(ee,X,V,0,w)*1e4)/1e4}else if(s===_n.VERTICAL){const V=h.left,X=_.right,ee=Nt(C.clientX,V+Zi,X-Zi);M=Math.round($e(ee,V,X,0,w)*1e4)/1e4,R=Math.round($e(ee,X,V,0,w)*1e4)/1e4}let U=h.width+_.width,G=h.height+_.height;Math.abs(R-M)<.05&&(M=w*.5,R=w*.5);let le=U/w,H=G/w;t(1,c=M===R);function re(V){return V*(s===_n.HORIZONTAL?H:le)<=25}re(M)?(R=w,M=0):re(R)&&(M=w,R=0),Ja([{id:a.id,size:M},{id:d.id,size:R}])}return n.$$set=C=>{"direction"in C&&t(0,s=C.direction),"current"in C&&t(8,a=C.current),"parent"in C&&t(9,o=C.parent)},[s,c,f,l,u,I,k,T,a,o]}class Iu extends he{constructor(e){super(),de(this,e,Ru,Cu,ce,{direction:0,current:8,parent:9})}}let wn={};function Mu(n,e){return wn[n]||(wn[n]=[]),wn[n].push(e),()=>{As(n,e)}}function As(n,e){const t=wn[n];if(t&&t.length){const r=t.filter(i=>i!==e);wn[n]=r}}function Nu(n,e){}const En={on:Mu,off:As,emit:Nu};En.on("shader-update",n=>{n.forEach(({warnings:e=[]}={})=>{e.length>0&&e.forEach(t=>{const{location:r}=t;console.warn(`[fragment-plugin-hsr] ${t.type} ${t.importer}

  ${r.lineText}

${t.message}`)})})});const Bu="mm",Lu=[["postcard",101.6,152.4],["poster-small",280,430],["poster",460,610],["poster-large",610,910],["business-card",50.8,88.9],["2r",64,89],["3r",89,127],["4r",102,152],["5r",127,178],["6r",152,203],["8r",203,254],["10r",254,305],["11r",279,356],["12r",305,381],["a0",841,1189],["a1",594,841],["a2",420,594],["a3",297,420],["a4",210,297],["a5",148,210],["a6",105,148],["a7",74,105],["a8",52,74],["a9",37,52],["a10",26,37],["2a0",1189,1682],["4a0",1682,2378],["b0",1e3,1414],["b1",707,1e3],["b1+",720,1020],["b2",500,707],["b2+",520,720],["b3",353,500],["b4",250,353],["b5",176,250],["b6",125,176],["b7",88,125],["b8",62,88],["b9",44,62],["b10",31,44],["b11",22,32],["b12",16,22],["c0",917,1297],["c1",648,917],["c2",458,648],["c3",324,458],["c4",229,324],["c5",162,229],["c6",114,162],["c7",81,114],["c8",57,81],["c9",40,57],["c10",28,40],["c11",22,32],["c12",16,22],["half-letter",5.5,8.5,"in"],["letter",8.5,11,"in"],["legal",8.5,14,"in"],["junior-legal",5,8,"in"],["ledger",11,17,"in"],["tabloid",11,17,"in"],["ansi-a",8.5,11,"in"],["ansi-b",11,17,"in"],["ansi-c",17,22,"in"],["ansi-d",22,34,"in"],["ansi-e",34,44,"in"],["arch-a",9,12,"in"],["arch-b",12,18,"in"],["arch-c",18,24,"in"],["arch-d",24,36,"in"],["arch-e",36,48,"in"],["arch-e1",30,42,"in"],["arch-e2",26,38,"in"],["arch-e3",27,39,"in"]];let Ss=Lu.reduce((n,e)=>{const t={units:e[3]||Bu,dimensions:[e[1],e[2]]};return n[e[0]]=t,n},{});function Ts(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $r={exports:{}},Ou=function(){for(var e=0;e<arguments.length;e++)if(typeof arguments[e]<"u")return arguments[e]},zu=Ou,bn=["mm","cm","m","pc","pt","in","ft","px"],$i={m:{system:"metric",factor:1},cm:{system:"metric",factor:1/100},mm:{system:"metric",factor:1/1e3},pt:{system:"imperial",factor:1/72},pc:{system:"imperial",factor:1/6},in:{system:"imperial",factor:1},ft:{system:"imperial",factor:12}};const Pu={metric:{unit:"m",ratio:1/.0254},imperial:{unit:"in",ratio:.0254}};function Du(n,e){return+(Math.round(n+"e"+e)+"e-"+e)}function Uu(n,e,t,r){if(typeof n!="number"||!isFinite(n))throw new Error("Value must be a finite number");if(!e||!t)throw new Error("Must specify from and to units");r=r||{};var i=zu(r.pixelsPerInch,96),l=r.precision,s=r.roundPixel!==!1;if(e=e.toLowerCase(),t=t.toLowerCase(),bn.indexOf(e)===-1)throw new Error('Invalid from unit "'+e+'", must be one of: '+bn.join(", "));if(bn.indexOf(t)===-1)throw new Error('Invalid from unit "'+t+'", must be one of: '+bn.join(", "));if(e===t)return n;var a=1,o=1,u=!1;e==="px"&&(o=1/i,e="in"),t==="px"&&(u=!0,a=i,t="in");var c=$i[e],f=$i[t],d=n*c.factor*o;c.system!==f.system&&(d*=Pu[c.system].ratio);var m=d/f.factor*a;return u&&s?m=Math.round(m):typeof l=="number"&&isFinite(l)&&(m=Du(m,l)),m}$r.exports=Uu;$r.exports.units=bn;var Fu=$r.exports;const ju=Ts(Fu),kn={LANDSCAPE:"landscape",PORTRAIT:"portrait"},Hu=Object.keys(Ss);function Cs(n,{pixelsPerInch:e,orientation:t=kn.PORTRAIT}){const{dimensions:r,units:i}=Ss[n],[l,s]=r.map(a=>ju(a,i,"px",{pixelsPerInch:e}));return t===kn.PORTRAIT?[l,s]:[s,l]}const ke={FIXED:"fixed",PRESET:"preset",ASPECT_RATIO:"aspect-ratio",WINDOW:"window",SCALE:"scale"},ze=ut("rendering",{width:1024,height:1024,pixelRatio:1,resizing:ke.FIXED,aspectRatio:1,scale:1,preset:"a4",presetOrientation:kn.PORTRAIT},{persist:!1,reset:!1}),rt=ut("monitors",[]),Xn=ut("preview",null),Vu=n=>{const{canvasSize:e=ke.WINDOW}=n,t=e,r={resizing:t};if(n.dimensions&&n.dimensions.length===2){const{dimensions:i}=n;r.width=i[0],r.height=i[1],n.canvasSize||(r.resizing=ke.FIXED)}if(t===ke.PRESET)if(n.preset){const[i,l]=Cs(n.preset,{pixelsPerInch:300,orientation:n.presetOrientation});r.width=i,r.height=l}else r.resizing=ke.WINDOW,console.warn("Cannot apply canvasSize preset if 'preset' is not specified in config.");if(t===ke.ASPECT_RATIO&&isNaN(n.aspectRatio)&&(r.resizing=ke.WINDOW,console.warn(`Cannot apply canvasSize:"aspectRatio" if 'aspectRatio' is not specified in config.`)),t===ke.SCALE&&(n.dimensions||(console.warn('Cannot apply canvasSize:"scale" if no dimensions are specified.'),r.resizing=ke.WINDOW),isNaN(n.scale)?(console.warn(`Cannot apply canvasSize:"scale" if 'scale' is not specified in config.`),r.resizing=ke.WINDOW):r.scale=n.scale),n.pixelRatio){const{pixelRatio:i}=n;r.pixelRatio=typeof i=="function"?i():i}ze.update(i=>({...i,...r}))};let Ut=!1;const Fr=mt(Ut);function xr({clientCount:n}={}){let e=Ut;Ut=n>0,e&&!Ut?console.warn("[fragment] Sketch is running at specified framerate."):!e&&Ut&&console.warn("[fragment] Multiple instances of Fragment detected. Running sketch(s) at simulated framerate."),e!==Ut&&Fr.set(Ut)}En.on("start",xr);En.on("client-connect",xr);En.on("client-disconnect",xr);let Gu=0;class ei{constructor({inputType:e,eventName:t,fn:r,context:i,params:l={key:[]},destroy:s=()=>{},enabled:a=typeof e=="string"&&typeof t=="string",hot:o=!0}={}){this.id=Gu++,this.inputType=e,this.eventName=t,this.fn=r,this.context=i,this.params=l,this.enabled=a,this.hot=o,this._destroy=s}assign(e){this.fn=e}enable(){this.enabled=!0}disable(){this.enabled=!1}run(...e){this.enabled&&this.fn(...e)}destroy(){this._destroy(),this.inputType=null,this.eventName=null,this.fn=null,this.params=null,this.enabled=null,this._destroy=null}toJSON(){return{inputType:this.inputType,eventName:this.eventName,enabled:this.enabled,params:this.params}}}const ti=(n,e,t)=>{n.has(e)?n.set(e,[...n.get(e),t]):n.set(e,[t])},ni=(n,e,t)=>{if(n.has(e)){const r=n.get(e),i=r.findIndex(t);if(i>=0){const l=[...r];l.splice(i,1),l.length>0?n.set(e,l):n.delete(e)}}else console.error(`removeFromMapArray: key ${e} doesn't exist in Map.`,n)};window.mouseIsPressed=!1;window.mouseX=0;window.mouseY=0;const sr=new Map,or=new Map,ar=new Map,ur=new Map,Rs=n=>{sr.delete(n),or.delete(n),ar.delete(n),ur.delete(n)},Is=n=>{function e(t){const r=t.get(n);if(r&&r.length>0){const i=r.filter(s=>s.hot),l=r.filter(s=>!s.hot);i.forEach(s=>s.destroy()),t.set(n,l)}}e(sr),e(or),e(ar),e(ur)},fr=(n,e,t)=>{[...n.has(t)?n.get(t):[],...n.has(Vt)?n.get(Vt):[]].forEach(i=>{i.run(e)})},cr=(n,e)=>(t,{context:r,hot:i,enabled:l}={})=>{try{r||(r=nr());const s=new ei({inputType:"Mouse",eventName:n,fn:t,params:{context:r},context:r,hot:i,enabled:l,destroy:()=>{ni(e,r,a=>a.id===s.id)}});return ti(e,r,s),s}catch(s){return console.error(s),null}},ri=(n,e)=>fr(sr,n,e),ii=(n,e)=>fr(ar,n,e),li=(n,e)=>fr(or,n,e),si=(n,e)=>fr(ur,n,e),Ms=cr("onMouseDown",sr),Ns=cr("onMouseUp",or),Bs=cr("onMouseMove",ar),Ls=cr("onClick",ur),Wu=Object.freeze(Object.defineProperty({__proto__:null,checkForTriggersClick:si,checkForTriggersDown:ri,checkForTriggersMove:ii,checkForTriggersUp:li,onClick:Ls,onMouseDown:Ms,onMouseMove:Bs,onMouseUp:Ns,removeHotListeners:Is,reset:Rs},Symbol.toStringTag,{value:"Module"}));let Os=class{constructor(){this.enabled=!0}enable(){this.enabled=!0}disable(){this.enabled=!1}},qu=class extends Os{getStepFromEvent(e){return e.shiftKey?10:e.altKey?.1:1}};const zs=new qu,oi=new Map,ai=new Map,ui=new Map,Ps=n=>{function e(t){for(let r of t){const[i,l]=r;t.set(i,l.filter(s=>s.context!==n))}}e(oi),e(ai),e(ui)};function fi(n){return e=>{const{key:t,target:r}=e;r.classList.contains("input")||[...n.has(t)?n.get(t):[],...n.has(Vt)?n.get(Vt):[]].forEach(l=>{zs.enabled&&l.run(e)})}}function ci(n,e){return(t,r,i={})=>{typeof t=="function"&&(typeof r=="object"&&(i={...i,...r}),r=t,t="*",i.key&&(t=i.key));const{hot:l,enabled:s,...a}=i,o=nr(),u=Array.isArray(t)?t:[...`${t}`.split(",").map(f=>f!==" "?f.trim():f)],c=new ei({inputType:"Keyboard",eventName:n,fn:r,context:o,params:{...a,key:u},hot:l,enabled:s,destroy:()=>{u.forEach(f=>{ni(e,f,d=>d.id===c.id)})}});return u.forEach(f=>{ti(e,f,c)}),c}}window.addEventListener("keypress",fi(oi));window.addEventListener("keyup",fi(ai));window.addEventListener("keydown",fi(ui));const di=ci("onKeyPress",oi),hi=ci("onKeyDown",ui),mi=ci("onKeyUp",ai),Ku=Object.freeze(Object.defineProperty({__proto__:null,onKeyDown:hi,onKeyPress:di,onKeyUp:mi,removeHotListeners:Ps},Symbol.toStringTag,{value:"Module"})),Yu={8:"noteoff",9:"noteon",11:"controlchange"},Xu=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],xi="midi.requested";let Ju=class extends Os{constructor(){super(),this.access=null,this.requesting=!1,this.enabled=!1,this.listeners=new Map,this.selectedInputID=null,this.selectedOutputID=null,localStorage.getItem(xi)&&this.request()}get inputs(){return this.access?this.access.inputs:new Map}get outputs(){return this.access?this.access.outputs:new Map}start(){if(this.access.onstatechange=e=>this.onStateChange(e),this.attachListeners(),this.inputs.size===1){const[e]=this.inputs.values(),{id:t}=e;this.selectedInputID=t}if(this.outputs.size===1){const[e]=this.outputs.values(),{id:t}=e;this.selectedOutputID=t}}attachListeners(){this.inputs.forEach(e=>{e.onmidimessage=t=>{this.onMessage(t)}})}addEventListener(e,t){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.set(e,[...this.listeners.get(e),t])}onMessage(e){let t=e.data[0]>>4,r=Yu[t],i=(e.data[0]&15)+1,l=e.data[1],s=e.data[2],a={number:l,name:Xu[l%12]},o=s/127,u=s,c=e.target,f={type:r,note:a,channel:i,velocity:o,rawVelocity:u,value:o,rawValue:u,currentTarget:c,target:c,srcElement:c};this.emit("message",f),this.emit(r,f)}onStateChange(e){const t=e.port.state;this.emit(t,e),this.attachListeners()}emit(e,t){this.listeners.has(e)&&this.listeners.get(e).forEach(i=>i(t))}handleError(e){console.error(e)}async request(){try{!this.requesting&&!this.access&&(localStorage.setItem(xi,!0),this.requesting=!0,this.access=await navigator.requestMIDIAccess(),this.enabled=!0,this.requesting=!1,this.start())}catch(e){this.handleError(e)}}};const Et=new Ju,gi=new Map,pi=new Map,_i=new Map,bi=new Map,wi=new Map,Ds=n=>{function e(t){for(let r of t){const[i,l]=r;t.set(i,l.filter(s=>s.context!==n))}}e(gi),e(pi),e(_i),e(bi),e(wi)};function An(n,e=t=>t.key){return t=>{const r=e(t),{id:i}=t.srcElement,l=[...n.has(r)?n.get(r):[],...n.has(Vt)?n.get(Vt):[]];Et.enabled&&i===Et.selectedInputID&&l.forEach(s=>{s.run(t)})}}function Sn(n,e){return(t,r,i={})=>{typeof t=="function"&&(typeof r=="object"&&(i={...i,...r}),r=t,t="*",i.key&&(t=i.key));const{hot:l,enabled:s,...a}=i;let o=Array.isArray(t)?t:[...`${t}`.split(",").map(f=>f.trim())];["onControlChange","onNumberOn","onNumberOff"].includes(n)&&(o=o.map(f=>isNaN(Number(f))?f:Number(f))),Et.enabled||Et.request();const u=nr(),c=new ei({inputType:"MIDI",eventName:n,fn:r,params:{...a,key:o},hot:l,context:u,enabled:s,destroy:()=>{o.forEach(f=>{ni(e,f,d=>d.id===c.id)})}});return o.forEach(f=>{ti(e,f,c)}),c}}Et.addEventListener("noteon",An(gi,n=>n.note.name));Et.addEventListener("noteoff",An(pi,n=>n.note.name));Et.addEventListener("noteon",An(_i,n=>n.note.number));Et.addEventListener("noteoff",An(bi,n=>n.note.number));Et.addEventListener("controlchange",An(wi,n=>n.note.number));const Us=Sn("onNoteOn",gi),Fs=Sn("onNoteOff",pi),js=Sn("onNumberOn",_i),Hs=Sn("onNumberOff",bi),Vs=Sn("onControlChange",wi),Qu=Object.freeze(Object.defineProperty({__proto__:null,onControlChange:Vs,onNoteOff:Fs,onNoteOn:Us,onNumberOff:Hs,onNumberOn:js,removeHotListeners:Ds},Symbol.toStringTag,{value:"Module"})),Gs=n=>{Is(n),Ps(n),Ds(n)},Zu=Object.freeze(Object.defineProperty({__proto__:null,Keyboard:Ku,MIDI:Qu,Mouse:Wu,checkForTriggersClick:si,checkForTriggersDown:ri,checkForTriggersMove:ii,checkForTriggersUp:li,onClick:Ls,onControlChange:Vs,onKeyDown:hi,onKeyPress:di,onKeyUp:mi,onMouseDown:Ms,onMouseMove:Bs,onMouseUp:Ns,onNoteOff:Fs,onNoteOn:Us,onNumberOff:Hs,onNumberOn:js,removeHotListeners:Gs,reset:Rs},Symbol.toStringTag,{value:"Module"}));function $u(n,e,t){let{key:r}=e,{type:i="press"}=e;const l=at(),a={press:di,down:hi,up:mi}[i];let o;return qt(()=>{o=a(r,u=>{l("trigger",u)})}),St(()=>{o&&(o.destroy(),o=null)}),n.$$set=u=>{"key"in u&&t(0,r=u.key),"type"in u&&t(1,i=u.type)},[r,i]}class ln extends he{constructor(e){super(),de(this,e,$u,null,ce,{key:0,type:1})}}const dr=ut("errors",new Map);function yi(n,e){dr.update(t=>(t.set(e,n),t))}function el(n){dr.update(e=>(e.has(n)&&e.delete(n),e))}function xu(){dr.update(()=>new Map)}const Ws={"sketches/ash-04/sketch.js":()=>Ft(()=>import("./sketch-BEVtlB39.js"),__vite__mapDeps([2,3]))},Gt=ut("sketches",{}),Ot=ut("sketchesKeys",Object.keys(Ws)),vi=ut("sketchesCount",0);async function ef(n,e){try{return await n[e]()}catch(t){yi(t,e)}}async function tf(n){const e=[...Object.keys(n)],t=await Promise.all(e.map(i=>ef(n,i))),r=e.reduce((i,l,s)=>(t[s]&&(i[l]=t[s]),i),{});Gt.update(()=>r),Ot.update(()=>e),vi.update(()=>e.length)}tf(Ws);const At=Qr("props",{});function nf(n){function e(t,r){for(const i in t)t.hasOwnProperty(i)&&(typeof t[i]=="object"&&t[i]!==null?(r[i]=r[i]||{},e(t[i],r[i])):r[i]=t[i])}if(Array.isArray(n.value))for(let t=0;t<n.__initialValue.length;t++)n.value[t]=n.__initialValue[t];else typeof n.value=="object"?e(n.__initialValue,n.value):n.value=n.__initialValue}function rf(n,e={}){At.update(t=>{const r=t[n];return Object.keys(r).forEach(i=>{var s;const l=r[i];nf(l),(s=l.onChange)==null||s.call(l,l,e)}),t})}function lf(n={},e={}){return Object.keys(n).forEach(t=>{let r=n[t];Array.isArray(r.value)?r.__initialValue=[...r.value]:typeof r.value=="object"?r.__initialValue=structuredClone(r.value):r.__initialValue=r.value,r.params||(r.params={})}),e&&Object.keys(e).forEach(t=>{let r=e[t],i=n[t];i&&(i.__initialValue===r.__initialValue&&(i.value=r.value),r.params&&r.params.locked!==void 0&&(i.params.locked=r.params.locked))}),n}function sf(n,e,t,r={}){At.update(i=>{const l=i[n][e];return l&&(l.value=t,typeof l.onChange=="function"&&l.onChange(l,r)),i})}const of=["png","jpeg","webp"],rn={FRAMES:"frames",MP4:"mp4",GIF:"gif",WEBM:"webm"},Jn=ut("exports",{imageEncoding:of[0],videoFormat:Object.values(rn)[0],pixelsPerInch:72,framerate:60,useDuration:!0,loopCount:1,imageQuality:100,videoQuality:100,imageCount:1},{persist:!1,reset:!1}),Cr=mt(!1),tl=mt(!1),[af,yg,uf]=rr("onBeforeCapture"),[ff,vg,cf]=rr("onAfterCapture"),[df,kg,hf]=rr("onBeforeRecord"),[mf,Eg,gf]=rr("onAfterRecord");let Qn={};function pf(n){if(Qn[n])return Qn[n];if(n==="three")return Ft(()=>import("./THREERenderer-BXwAjF98.js"),__vite__mapDeps([4,3]))}async function _f({rendering:n,renderer:e}){Qn[n]=e?typeof e=="function"?await e():e:await pf(n);let t=Qn[n],r=!1;return t&&ze.subscribe(i=>{let l;r||typeof t.init=="function"&&(l=t.init({canvas:document.createElement("canvas"),pixelRatio:i.pixelRatio,width:i.width,height:i.height})),r=!0,typeof t.resize=="function"&&t.resize({width:i.width,height:i.height,pixelRatio:i.pixelRatio,...l})}),t}function bf(n){uf(n),cf(n),hf(n),gf(n)}var qs={exports:{}};(function(n){(function(){function e(d,m){let h={};return[d,m].forEach(function(_){for(let g in _)Object.prototype.hasOwnProperty.call(_,g)&&(h[g]=_[g])}),h}function t(d){if(typeof d!="string"||!d.match(/^data:image\/webp;base64,/i))throw new Error("Failed to decode WebP Base64 URL");return window.atob(d.substring(23))}function r(d,m){let h=typeof d=="string"&&/^data:image\/webp/.test(d)?d:d.toDataURL("image/webp",m);return t(h)}function i(d){let m=d.charCodeAt(0),h=d.charCodeAt(1),_=d.charCodeAt(2),g=d.charCodeAt(3);return(m|h<<8|_<<16|g<<24)>>>0}function l(d){let m=d.indexOf("VP8",12);if(m===-1)throw new Error("Bad image format, does this browser support WebP?");let h=!1;for(;m<d.length-8;){let _,g;switch(g=d.substring(m,m+4),m+=4,_=i(d.substring(m,m+4)),m+=4,g){case"VP8 ":return{frame:d.substring(m,m+_),hasAlpha:h};case"ALPH":h=!0;break}m+=_,_&1&&m++}throw new Error("Failed to find VP8 keyframe in WebP image, is this image mistakenly encoded in the Lossless WebP format?")}const s=-1,a=-2;function o(d){this.value=d}function u(d){this.value=d}function c(d,m,h){if(Array.isArray(h))for(let _=0;_<h.length;_++)c(d,m,h[_]);else if(typeof h=="string")d.writeString(h);else if(h instanceof Uint8Array)d.writeBytes(h);else if(h.id)if(h.offset=d.pos+m,d.writeUnsignedIntBE(h.id),Array.isArray(h.data)){let _,g,p;h.size===s?d.writeByte(255):h.size===a?(_=d.pos,d.writeBytes([15,255,255,255,255])):(_=d.pos,d.writeBytes([0,0,0,0])),g=d.pos,h.dataOffset=g+m,c(d,m,h.data),h.size!==s&&h.size!==a&&(p=d.pos,h.size=p-g,d.seek(_),d.writeEBMLVarIntWidth(h.size,4),d.seek(p))}else if(typeof h.data=="string")d.writeEBMLVarInt(h.data.length),h.dataOffset=d.pos+m,d.writeString(h.data);else if(typeof h.data=="number")h.size||(h.size=d.measureUnsignedInt(h.data)),d.writeEBMLVarInt(h.size),h.dataOffset=d.pos+m,d.writeUnsignedIntBE(h.data,h.size);else if(h.data instanceof u)d.writeEBMLVarInt(8),h.dataOffset=d.pos+m,d.writeDoubleBE(h.data.value);else if(h.data instanceof o)d.writeEBMLVarInt(4),h.dataOffset=d.pos+m,d.writeFloatBE(h.data.value);else if(h.data instanceof Uint8Array)d.writeEBMLVarInt(h.data.byteLength),h.dataOffset=d.pos+m,d.writeBytes(h.data);else throw new Error("Bad EBML datatype "+typeof h.data);else throw new Error("Bad EBML datatype "+typeof h.data)}let f=function(d,m){return function(h){let _=5e3,g=1,p=!1,w=0,I=0,k=null,T=null,C=null,M=[],R=0,U=0,G={quality:.95,transparent:!1,alphaQuality:void 0,fileWriter:null,fd:null,frameDuration:null,frameRate:null},le={Cues:{id:new Uint8Array([28,83,187,107]),positionEBML:null},SegmentInfo:{id:new Uint8Array([21,73,169,102]),positionEBML:null},Tracks:{id:new Uint8Array([22,84,174,107]),positionEBML:null}},H,re={id:17545,data:new u(0)},V,X=[],ee=new m(h.fileWriter||h.fd);function oe(J){return J-H.dataOffset}function we(J){(k===null||k.width!==J.width||k.height!==J.height)&&(k=document.createElement("canvas"),k.width=J.width,k.height=J.height,T=k.getContext("2d"),C=T.createImageData(k.width,k.height));let pe=J.getContext("2d"),Ee=pe.getImageData(0,0,J.width,J.height).data,_e=C.data,De=0,ct=J.width*J.height*4;for(let Ne=3;Ne<ct;Ne+=4){let bt=Ee[Ne];_e[De++]=bt,_e[De++]=bt,_e[De++]=bt,_e[De++]=255}return T.putImageData(C,0,0),k}function Ye(){let J={id:21420,size:5,data:0},pe={id:290298740,data:[]};for(let Ee in le){let _e=le[Ee];_e.positionEBML=Object.create(J),pe.data.push({id:19899,data:[{id:21419,data:_e.id},_e.positionEBML]})}return pe}function te(){V=Ye();let J={id:440786851,data:[{id:17030,data:1},{id:17143,data:1},{id:17138,data:4},{id:17139,data:8},{id:17026,data:"webm"},{id:17031,data:2},{id:17029,data:2}]},pe={id:357149030,data:[{id:2807729,data:1e6},{id:19840,data:"webm-writer-js"},{id:22337,data:"webm-writer-js"},re]},Ee=[{id:176,data:w},{id:186,data:I}];h.transparent&&Ee.push({id:21440,data:1});let _e={id:374648427,data:[{id:174,data:[{id:215,data:g},{id:29637,data:g},{id:156,data:0},{id:2274716,data:"und"},{id:134,data:"V_VP8"},{id:2459272,data:"VP8"},{id:131,data:1},{id:224,data:Ee}]}]};H={id:408125543,size:a,data:[V,pe,_e]};let De=new d(256);c(De,ee.pos,[J,H]),ee.write(De.getAsDataArray()),le.SegmentInfo.positionEBML.data=oe(pe.offset),le.Tracks.positionEBML.data=oe(_e.offset),p=!0}function se(J){let pe,Ee,_e=new d(4);if(!(J.trackNumber>0&&J.trackNumber<127))throw new Error("TrackNumber must be > 0 and < 127");return _e.writeEBMLVarInt(J.trackNumber),_e.writeU16BE(J.timecode),_e.writeByte(0),pe={id:161,data:[_e.getAsDataArray(),J.frame]},Ee={id:30113,data:[{id:166,data:[{id:238,data:1},{id:165,data:J.alpha}]}]},{id:160,data:[pe,Ee]}}function Re(J){let pe=new d(4);if(!(J.trackNumber>0&&J.trackNumber<127))throw new Error("TrackNumber must be > 0 and < 127");return pe.writeEBMLVarInt(J.trackNumber),pe.writeU16BE(J.timecode),pe.writeByte(128),{id:163,data:[pe.getAsDataArray(),J.frame]}}function Xe(J){return J.alpha?se(J):Re(J)}function ie(J){return{id:524531317,data:[{id:231,data:Math.round(J.timecode)}]}}function Je(J,pe,Ee){X.push({id:187,data:[{id:179,data:pe},{id:183,data:[{id:247,data:J},{id:241,data:oe(Ee)}]}]})}function Tt(){let J={id:475249515,data:X},pe=new d(16+X.length*32);c(pe,ee.pos,J),ee.write(pe.getAsDataArray()),le.Cues.positionEBML.data=oe(J.offset)}function Se(){if(M.length===0)return;let J=0;for(let _e=0;_e<M.length;_e++)J+=M[_e].frame.length+(M[_e].alpha?M[_e].alpha.length:0);let pe=new d(J+M.length*64),Ee=ie({timecode:Math.round(R)});for(let _e=0;_e<M.length;_e++)Ee.data.push(Xe(M[_e]));c(pe,ee.pos,Ee),ee.write(pe.getAsDataArray()),Je(g,Math.round(R),Ee.offset),M=[],R+=U,U=0}function gt(){if(!h.frameDuration)if(h.frameRate)h.frameDuration=1e3/h.frameRate;else throw new Error("Missing required frameDuration or frameRate setting");h.quality=Math.max(Math.min(h.quality,.99999),0),h.alphaQuality===void 0?h.alphaQuality=h.quality:h.alphaQuality=Math.max(Math.min(h.alphaQuality,.99999),0)}function Qe(J){J.trackNumber=g,J.timecode=Math.round(U),M.push(J),U+=J.duration,U>=_&&Se()}function _t(){let J=new d(V.size),pe=ee.pos;c(J,V.dataOffset,V.data),ee.seek(V.dataOffset),ee.write(J.getAsDataArray()),ee.seek(pe)}function Kt(){let J=new d(8),pe=ee.pos;J.writeDoubleBE(R),ee.seek(re.dataOffset),ee.write(J.getAsDataArray()),ee.seek(pe)}function ft(){let J=new d(10),pe=ee.pos;J.writeUnsignedIntBE(H.id),J.writeEBMLVarIntWidth(ee.pos-H.dataOffset,5),ee.seek(H.offset),ee.write(J.getAsDataArray()),ee.seek(pe)}this.addFrame=function(J,pe,Ee){p||(w=J.width||0,I=J.height||0,te());let _e=l(r(J,h.quality)),De,ct=null;Ee?De=Ee:typeof pe=="number"?De=pe:De=h.frameDuration,h.transparent&&(pe instanceof HTMLCanvasElement||typeof pe=="string"?ct=pe:_e.hasAlpha&&(ct=we(J))),Qe({frame:_e.frame,duration:De,alpha:ct?l(r(ct,h.alphaQuality)).frame:null})},this.complete=function(){return p||te(),Se(),Tt(),_t(),Kt(),ft(),ee.complete("video/webm")},this.getWrittenSize=function(){return ee.length},h=e(G,h||{}),gt()}};n.exports=f})()})(qs);var wf=qs.exports,Ks={exports:{}};(function(n){(function(){let e=function(t){this.data=new Uint8Array(t),this.pos=0};e.prototype.seek=function(t){this.pos=t},e.prototype.writeBytes=function(t){for(let r=0;r<t.length;r++)this.data[this.pos++]=t[r]},e.prototype.writeByte=function(t){this.data[this.pos++]=t},e.prototype.writeU8=e.prototype.writeByte,e.prototype.writeU16BE=function(t){this.data[this.pos++]=t>>8,this.data[this.pos++]=t},e.prototype.writeDoubleBE=function(t){let r=new Uint8Array(new Float64Array([t]).buffer);for(let i=r.length-1;i>=0;i--)this.writeByte(r[i])},e.prototype.writeFloatBE=function(t){let r=new Uint8Array(new Float32Array([t]).buffer);for(let i=r.length-1;i>=0;i--)this.writeByte(r[i])},e.prototype.writeString=function(t){for(let r=0;r<t.length;r++)this.data[this.pos++]=t.charCodeAt(r)},e.prototype.writeEBMLVarIntWidth=function(t,r){switch(r){case 1:this.writeU8(128|t);break;case 2:this.writeU8(64|t>>8),this.writeU8(t);break;case 3:this.writeU8(32|t>>16),this.writeU8(t>>8),this.writeU8(t);break;case 4:this.writeU8(16|t>>24),this.writeU8(t>>16),this.writeU8(t>>8),this.writeU8(t);break;case 5:this.writeU8(8|t/4294967296&7),this.writeU8(t>>24),this.writeU8(t>>16),this.writeU8(t>>8),this.writeU8(t);break;default:throw new Error("Bad EBML VINT size "+r)}},e.prototype.measureEBMLVarInt=function(t){if(t<127)return 1;if(t<16383)return 2;if(t<(1<<21)-1)return 3;if(t<(1<<28)-1)return 4;if(t<34359738367)return 5;throw new Error("EBML VINT size not supported "+t)},e.prototype.writeEBMLVarInt=function(t){this.writeEBMLVarIntWidth(t,this.measureEBMLVarInt(t))},e.prototype.writeUnsignedIntBE=function(t,r){switch(r===void 0&&(r=this.measureUnsignedInt(t)),r){case 5:this.writeU8(Math.floor(t/4294967296));case 4:this.writeU8(t>>24);case 3:this.writeU8(t>>16);case 2:this.writeU8(t>>8);case 1:this.writeU8(t);break;default:throw new Error("Bad UINT size "+r)}},e.prototype.measureUnsignedInt=function(t){return t<256?1:t<65536?2:t<1<<24?3:t<4294967296?4:5},e.prototype.getAsDataArray=function(){if(this.pos<this.data.byteLength)return this.data.subarray(0,this.pos);if(this.pos==this.data.byteLength)return this.data;throw new Error("ArrayBufferDataStream's pos lies beyond end of buffer")},n.exports=e})()})(Ks);var yf=Ks.exports,Ys={exports:{}};(function(n){(function(){let e=function(t){return function(r){let i=[],l=Promise.resolve(),s=null,a=null;r&&r.constructor.name==="FileWriter"?s=r:t&&r&&(a=r),this.pos=0,this.length=0;function o(f){return new Promise(function(d,m){let h=new FileReader;h.addEventListener("loadend",function(){d(h.result)}),h.readAsArrayBuffer(f)})}function u(f){return new Promise(function(d,m){f instanceof Uint8Array?d(f):f instanceof ArrayBuffer||ArrayBuffer.isView(f)?d(new Uint8Array(f)):f instanceof Blob?d(o(f).then(function(h){return new Uint8Array(h)})):d(o(new Blob([f])).then(function(h){return new Uint8Array(h)}))})}function c(f){let d=f.byteLength||f.length||f.size;if(!Number.isInteger(d))throw new Error("Failed to determine size of element");return d}this.seek=function(f){if(f<0)throw new Error("Offset may not be negative");if(isNaN(f))throw new Error("Offset may not be NaN");if(f>this.length)throw new Error("Seeking beyond the end of file is not allowed");this.pos=f},this.write=function(f){let d={offset:this.pos,data:f,length:c(f)},m=d.offset>=this.length;this.pos+=d.length,this.length=Math.max(this.length,this.pos),l=l.then(function(){if(a)return new Promise(function(h,_){u(d.data).then(function(g){let p=0,w=Buffer.from(g.buffer),I=function(k,T,C){p+=T,p>=C.length?h():t.write(a,C,p,C.length-p,d.offset+p,I)};t.write(a,w,0,w.length,d.offset,I)})});if(s)return new Promise(function(h,_){s.onwriteend=h,s.seek(d.offset),s.write(new Blob([d.data]))});if(!m)for(let h=0;h<i.length;h++){let _=i[h];if(!(d.offset+d.length<=_.offset||d.offset>=_.offset+_.length)){if(d.offset<_.offset||d.offset+d.length>_.offset+_.length)throw new Error("Overwrite crosses blob boundaries");if(d.offset==_.offset&&d.length==_.length){_.data=d.data;return}else return u(_.data).then(function(g){return _.data=g,u(d.data)}).then(function(g){d.data=g,_.data.set(d.data,d.offset-_.offset)})}}i.push(d)})},this.complete=function(f){return a||s?l=l.then(function(){return null}):l=l.then(function(){let d=[];for(let m=0;m<i.length;m++)d.push(i[m].data);return new Blob(d,{type:f})}),l}}};n.exports=e})()})(Ys);var vf=Ys.exports,kf=wf(yf,vf(null));const Ef=Ts(kf);let Rr=()=>{};class hr{constructor(e,{duration:t=1/0,framerate:r=25,quality:i=100,onStart:l=Rr,onTick:s=Rr,onComplete:a=Rr}){this.canvas=e,this.framerate=r,this.duration=t,this.quality=i,this.onStart=l,this.onTick=s,this.onComplete=a,this.time=0,this.deltaTime=1e3/this.framerate,this.frameDuration=1e3/this.framerate,this.frameTotal=isFinite(t)?this.duration*this.framerate:1/0,this.started=!1,this.stopped=!1}async load(){}async start(){if(this.onStart(),await this.load(),this.stopped){console.log("CanvasRecorder : stopped while loading");return}isFinite(this.frameTotal)?console.log(`CanvasRecorder - start rendering ${this.frameTotal} frames at ${this.framerate}fps for ${this.duration}s.`):console.log(`CanvasRecorder - start rendering at ${this.framerate}fps.`),this.frameCount=0,this.started=!0,this.stopped=!1,this._tick()}async _tick(){console.log(`CanvasRecorder - render frame ${this.frameCount+1}`),this.onTick({time:this.time,deltaTime:this.deltaTime}),await this.tick({time:this.time,deltaTime:this.deltaTime,frameCount:this.frameCount}),this.started&&!this.stopped&&(!isFinite(this.frameTotal)||isFinite(this.frameTotal)&&this.frameCount<this.frameTotal-1)?(this.time+=this.deltaTime,this.frameCount++,requestAnimationFrame(()=>{this._tick()})):(console.log(`CanvasRecorder - compiling ${this.frameCount+1} frames...`),this.end())}tick(){}end(){console.log(`CanvasRecorder - compiled ${this.frameCount+1} frames`),this.onComplete(this.result)}stop(){this.stopped=!0}}class Af extends hr{start(){const e=$e(this.quality,1,100,0,.99999);this.writer=new Ef({quality:e,frameRate:this.framerate}),super.start()}tick(){this.writer.addFrame(this.canvas)}async end(){this.result=await this.writer.complete(),this.writer=null,super.end()}}var ki=function(){var n=import.meta.url;return function(t){t=t||{};var t=typeof t<"u"?t:{},r,i;t.ready=new Promise(function(b,y){r=b,i=y}),t.create_buffer=function(b){return t._malloc(b)},t.free_buffer=function(b){return t._free(b)},t.locateFile=function(b,y){return t.simd&&(b=b.replace(/\.wasm$/i,".simd.wasm")),t.getWasmPath?t.getWasmPath(b,y,t.simd):y+b},t.createWebCodecsEncoder=function(b){return Cf(t,b)};var l={},s;for(s in t)t.hasOwnProperty(s)&&(l[s]=t[s]);var a=!1,o=!1;a=typeof window=="object",o=typeof importScripts=="function",typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var u="";function c(b){return t.locateFile?t.locateFile(b,u):u+b}var f;(a||o)&&(o?u=self.location.href:typeof document<"u"&&document.currentScript&&(u=document.currentScript.src),n&&(u=n),u.indexOf("blob:")!==0?u=u.substr(0,u.lastIndexOf("/")+1):u="",o&&(f=function(b){var y=new XMLHttpRequest;return y.open("GET",b,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)})),t.print||console.log.bind(console);var d=t.printErr||console.warn.bind(console);for(s in l)l.hasOwnProperty(s)&&(t[s]=l[s]);l=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var m;t.wasmBinary&&(m=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&_e("no native wasm support detected");var h,_=!1;function g(b,y,S){for(var B=y+S,q="";!(y>=B);){var Y=b[y++];if(!Y)return q;if(!(Y&128)){q+=String.fromCharCode(Y);continue}var x=b[y++]&63;if((Y&224)==192){q+=String.fromCharCode((Y&31)<<6|x);continue}var K=b[y++]&63;if((Y&240)==224?Y=(Y&15)<<12|x<<6|K:Y=(Y&7)<<18|x<<12|K<<6|b[y++]&63,Y<65536)q+=String.fromCharCode(Y);else{var Q=Y-65536;q+=String.fromCharCode(55296|Q>>10,56320|Q&1023)}}return q}function p(b,y){return b?g(V,b,y):""}function w(b,y,S,B){if(!(B>0))return 0;for(var q=S,Y=S+B-1,x=0;x<b.length;++x){var K=b.charCodeAt(x);if(K>=55296&&K<=57343){var Q=b.charCodeAt(++x);K=65536+((K&1023)<<10)|Q&1023}if(K<=127){if(S>=Y)break;y[S++]=K}else if(K<=2047){if(S+1>=Y)break;y[S++]=192|K>>6,y[S++]=128|K&63}else if(K<=65535){if(S+2>=Y)break;y[S++]=224|K>>12,y[S++]=128|K>>6&63,y[S++]=128|K&63}else{if(S+3>=Y)break;y[S++]=240|K>>18,y[S++]=128|K>>12&63,y[S++]=128|K>>6&63,y[S++]=128|K&63}}return y[S]=0,S-q}function I(b,y,S){return w(b,V,y,S)}function k(b){for(var y=0,S=0;S<b.length;++S){var B=b.charCodeAt(S);B>=55296&&B<=57343&&(B=65536+((B&1023)<<10)|b.charCodeAt(++S)&1023),B<=127?++y:B<=2047?y+=2:B<=65535?y+=3:y+=4}return y}function T(b,y){for(var S="",B=0;!(B>=y/2);++B){var q=X[b+B*2>>1];if(q==0)break;S+=String.fromCharCode(q)}return S}function C(b,y,S){if(S===void 0&&(S=2147483647),S<2)return 0;S-=2;for(var B=y,q=S<b.length*2?S/2:b.length,Y=0;Y<q;++Y){var x=b.charCodeAt(Y);X[y>>1]=x,y+=2}return X[y>>1]=0,y-B}function M(b){return b.length*2}function R(b,y){for(var S=0,B="";!(S>=y/4);){var q=oe[b+S*4>>2];if(q==0)break;if(++S,q>=65536){var Y=q-65536;B+=String.fromCharCode(55296|Y>>10,56320|Y&1023)}else B+=String.fromCharCode(q)}return B}function U(b,y,S){if(S===void 0&&(S=2147483647),S<4)return 0;for(var B=y,q=B+S-4,Y=0;Y<b.length;++Y){var x=b.charCodeAt(Y);if(x>=55296&&x<=57343){var K=b.charCodeAt(++Y);x=65536+((x&1023)<<10)|K&1023}if(oe[y>>2]=x,y+=4,y+4>q)break}return oe[y>>2]=0,y-B}function G(b){for(var y=0,S=0;S<b.length;++S){var B=b.charCodeAt(S);B>=55296&&B<=57343&&++S,y+=4}return y}function le(b,y){return b%y>0&&(b+=y-b%y),b}var H,re,V,X,ee,oe,we,Ye,te;function se(b){H=b,t.HEAP8=re=new Int8Array(b),t.HEAP16=X=new Int16Array(b),t.HEAP32=oe=new Int32Array(b),t.HEAPU8=V=new Uint8Array(b),t.HEAPU16=ee=new Uint16Array(b),t.HEAPU32=we=new Uint32Array(b),t.HEAPF32=Ye=new Float32Array(b),t.HEAPF64=te=new Float64Array(b)}t.INITIAL_MEMORY;var Re,Xe=[],ie=[],Je=[];function Tt(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Qe(t.preRun.shift());Pt(Xe)}function Se(){Pt(ie)}function gt(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Kt(t.postRun.shift());Pt(Je)}function Qe(b){Xe.unshift(b)}function _t(b){ie.unshift(b)}function Kt(b){Je.unshift(b)}var ft=0,J=null;function pe(b){ft++,t.monitorRunDependencies&&t.monitorRunDependencies(ft)}function Ee(b){if(ft--,t.monitorRunDependencies&&t.monitorRunDependencies(ft),ft==0&&J){var y=J;J=null,y()}}t.preloadedImages={},t.preloadedAudios={};function _e(b){t.onAbort&&t.onAbort(b),b+="",d(b),_=!0,b="abort("+b+"). Build with -s ASSERTIONS=1 for more info.";var y=new WebAssembly.RuntimeError(b);throw i(y),y}var De="data:application/octet-stream;base64,";function ct(b){return b.startsWith(De)}var Ne;t.locateFile?(Ne="mp4.wasm",ct(Ne)||(Ne=c(Ne))):Ne=new URL("/sketches/ash-04/build/assets/mp4-YBRi_559.wasm",import.meta.url).toString();function bt(b){try{if(b==Ne&&m)return new Uint8Array(m);if(f)return f(b);throw"both async and sync fetching of the wasm failed"}catch(y){_e(y)}}function Ct(){return!m&&(a||o)&&typeof fetch=="function"?fetch(Ne,{credentials:"same-origin"}).then(function(b){if(!b.ok)throw"failed to load wasm binary file at '"+Ne+"'";return b.arrayBuffer()}).catch(function(){return bt(Ne)}):Promise.resolve().then(function(){return bt(Ne)})}function _r(){var b={a:wa};function y(x,K){var Q=x.exports;t.asm=Q,h=t.asm.x,se(h.buffer),Re=t.asm.B,_t(t.asm.y),Ee()}pe();function S(x){y(x.instance)}function B(x){return Ct().then(function(K){var Q=WebAssembly.instantiate(K,b);return Q}).then(x,function(K){d("failed to asynchronously prepare wasm: "+K),_e(K)})}function q(){return!m&&typeof WebAssembly.instantiateStreaming=="function"&&!ct(Ne)&&typeof fetch=="function"?fetch(Ne,{credentials:"same-origin"}).then(function(x){var K=WebAssembly.instantiateStreaming(x,b);return K.then(S,function(Q){return d("wasm streaming compile failed: "+Q),d("falling back to ArrayBuffer instantiation"),B(S)})}):B(S)}if(t.instantiateWasm)try{var Y=t.instantiateWasm(b,y);return Y}catch(x){return d("Module.instantiateWasm callback failed with error: "+x),!1}return q().catch(i),{}}function Pt(b){for(;b.length>0;){var y=b.shift();if(typeof y=="function"){y(t);continue}var S=y.func;typeof S=="number"?y.arg===void 0?Re.get(S)():Re.get(S)(y.arg):S(y.arg===void 0?null:y.arg)}}function In(b,y,S,B){_e("Assertion failed: "+p(b)+", at: "+[y?p(y):"unknown filename",S,B?p(B):"unknown function"])}function Mn(b,y,S,B,q){}function hn(b){switch(b){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+b)}}function br(){for(var b=new Array(256),y=0;y<256;++y)b[y]=String.fromCharCode(y);Nn=b}var Nn=void 0;function nt(b){for(var y="",S=b;V[S];)y+=Nn[V[S++]];return y}var Rt={},wt={},F={},ue=48,Be=57;function je(b){if(b===void 0)return"_unknown";b=b.replace(/[^a-zA-Z0-9_]/g,"$");var y=b.charCodeAt(0);return y>=ue&&y<=Be?"_"+b:b}function Ue(b,y){return b=je(b),new Function("body","return function "+b+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(y)}function Te(b,y){var S=Ue(y,function(B){this.name=y,this.message=B;var q=new Error(B).stack;q!==void 0&&(this.stack=this.toString()+`
`+q.replace(/^Error(:[^\n]*)?\n/,""))});return S.prototype=Object.create(b.prototype),S.prototype.constructor=S,S.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},S}var Ze=void 0;function Oe(b){throw new Ze(b)}var Yt=void 0;function Bn(b){throw new Yt(b)}function wr(b,y,S){b.forEach(function(K){F[K]=y});function B(K){var Q=S(K);Q.length!==b.length&&Bn("Mismatched type converter count");for(var ye=0;ye<b.length;++ye)dt(b[ye],Q[ye])}var q=new Array(y.length),Y=[],x=0;y.forEach(function(K,Q){wt.hasOwnProperty(K)?q[Q]=wt[K]:(Y.push(K),Rt.hasOwnProperty(K)||(Rt[K]=[]),Rt[K].push(function(){q[Q]=wt[K],++x,x===Y.length&&B(q)}))}),Y.length===0&&B(q)}function dt(b,y,S){if(S=S||{},!("argPackAdvance"in y))throw new TypeError("registerType registeredInstance requires argPackAdvance");var B=y.name;if(b||Oe('type "'+B+'" must have a positive integer typeid pointer'),wt.hasOwnProperty(b)){if(S.ignoreDuplicateRegistrations)return;Oe("Cannot register type '"+B+"' twice")}if(wt[b]=y,delete F[b],Rt.hasOwnProperty(b)){var q=Rt[b];delete Rt[b],q.forEach(function(Y){Y()})}}function Ln(b,y,S,B,q){var Y=hn(S);y=nt(y),dt(b,{name:y,fromWireType:function(x){return!!x},toWireType:function(x,K){return K?B:q},argPackAdvance:8,readValueFromPointer:function(x){var K;if(S===1)K=re;else if(S===2)K=X;else if(S===4)K=oe;else throw new TypeError("Unknown boolean type size: "+y);return this.fromWireType(K[x>>Y])},destructorFunction:null})}var Xt=[],He=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Jt(b){b>4&&--He[b].refcount==0&&(He[b]=void 0,Xt.push(b))}function Qt(){for(var b=0,y=5;y<He.length;++y)He[y]!==void 0&&++b;return b}function zo(){for(var b=5;b<He.length;++b)if(He[b]!==void 0)return He[b];return null}function Po(){t.count_emval_handles=Qt,t.get_first_emval=zo}function Zt(b){switch(b){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var y=Xt.length?Xt.pop():He.length;return He[y]={refcount:1,value:b},y}}}function yr(b){return this.fromWireType(we[b>>2])}function Do(b,y){y=nt(y),dt(b,{name:y,fromWireType:function(S){var B=He[S].value;return Jt(S),B},toWireType:function(S,B){return Zt(B)},argPackAdvance:8,readValueFromPointer:yr,destructorFunction:null})}function vr(b){if(b===null)return"null";var y=typeof b;return y==="object"||y==="array"||y==="function"?b.toString():""+b}function Uo(b,y){switch(y){case 2:return function(S){return this.fromWireType(Ye[S>>2])};case 3:return function(S){return this.fromWireType(te[S>>3])};default:throw new TypeError("Unknown float type: "+b)}}function Fo(b,y,S){var B=hn(S);y=nt(y),dt(b,{name:y,fromWireType:function(q){return q},toWireType:function(q,Y){if(typeof Y!="number"&&typeof Y!="boolean")throw new TypeError('Cannot convert "'+vr(Y)+'" to '+this.name);return Y},argPackAdvance:8,readValueFromPointer:Uo(y,B),destructorFunction:null})}function jo(b,y){if(!(b instanceof Function))throw new TypeError("new_ called with constructor type "+typeof b+" which is not a function");var S=Ue(b.name||"unknownFunctionName",function(){});S.prototype=b.prototype;var B=new S,q=b.apply(B,y);return q instanceof Object?q:B}function Ni(b){for(;b.length;){var y=b.pop(),S=b.pop();S(y)}}function Ho(b,y,S,B,q){var Y=y.length;Y<2&&Oe("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var x=y[1]!==null&&S!==null,K=!1,Q=1;Q<y.length;++Q)if(y[Q]!==null&&y[Q].destructorFunction===void 0){K=!0;break}for(var ye=y[0].name!=="void",Ie="",Le="",Q=0;Q<Y-2;++Q)Ie+=(Q!==0?", ":"")+"arg"+Q,Le+=(Q!==0?", ":"")+"arg"+Q+"Wired";var ot="return function "+je(b)+"("+Ie+`) {
if (arguments.length !== `+(Y-2)+`) {
throwBindingError('function `+b+" called with ' + arguments.length + ' arguments, expected "+(Y-2)+` args!');
}
`;K&&(ot+=`var destructors = [];
`);var Dt=K?"destructors":"null",It=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],gn=[Oe,B,q,Ni,y[0],y[1]];x&&(ot+="var thisWired = classParam.toWireType("+Dt+`, this);
`);for(var Q=0;Q<Y-2;++Q)ot+="var arg"+Q+"Wired = argType"+Q+".toWireType("+Dt+", arg"+Q+"); // "+y[Q+2].name+`
`,It.push("argType"+Q),gn.push(y[Q+2]);if(x&&(Le="thisWired"+(Le.length>0?", ":"")+Le),ot+=(ye?"var rv = ":"")+"invoker(fn"+(Le.length>0?", ":"")+Le+`);
`,K)ot+=`runDestructors(destructors);
`;else for(var Q=x?1:2;Q<y.length;++Q){var $t=Q===1?"thisWired":"arg"+(Q-2)+"Wired";y[Q].destructorFunction!==null&&(ot+=$t+"_dtor("+$t+"); // "+y[Q].name+`
`,It.push($t+"_dtor"),gn.push(y[Q].destructorFunction))}ye&&(ot+=`var ret = retType.fromWireType(rv);
return ret;
`),ot+=`}
`,It.push(ot);var ya=jo(Function,It).apply(null,gn);return ya}function Vo(b,y,S){if(b[y].overloadTable===void 0){var B=b[y];b[y]=function(){return b[y].overloadTable.hasOwnProperty(arguments.length)||Oe("Function '"+S+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+b[y].overloadTable+")!"),b[y].overloadTable[arguments.length].apply(this,arguments)},b[y].overloadTable=[],b[y].overloadTable[B.argCount]=B}}function Go(b,y,S){t.hasOwnProperty(b)?((S===void 0||t[b].overloadTable!==void 0&&t[b].overloadTable[S]!==void 0)&&Oe("Cannot register public name '"+b+"' twice"),Vo(t,b,b),t.hasOwnProperty(S)&&Oe("Cannot register multiple overloads of a function with the same number of arguments ("+S+")!"),t[b].overloadTable[S]=y):(t[b]=y,S!==void 0&&(t[b].numArguments=S))}function Wo(b,y){for(var S=[],B=0;B<b;B++)S.push(oe[(y>>2)+B]);return S}function qo(b,y,S){t.hasOwnProperty(b)||Bn("Replacing nonexistant public symbol"),t[b].overloadTable!==void 0&&S!==void 0?t[b].overloadTable[S]=y:(t[b]=y,t[b].argCount=S)}function Ko(b,y,S){var B=t["dynCall_"+b];return S&&S.length?B.apply(null,[y].concat(S)):B.call(null,y)}function Yo(b,y,S){return b.includes("j")?Ko(b,y,S):Re.get(y).apply(null,S)}function Xo(b,y){var S=[];return function(){S.length=arguments.length;for(var B=0;B<arguments.length;B++)S[B]=arguments[B];return Yo(b,y,S)}}function Jo(b,y){b=nt(b);function S(){return b.includes("j")?Xo(b,y):Re.get(y)}var B=S();return typeof B!="function"&&Oe("unknown function pointer with signature "+b+": "+y),B}var Bi=void 0;function Li(b){var y=Oi(b),S=nt(y);return yt(y),S}function Qo(b,y){var S=[],B={};function q(Y){if(!B[Y]&&!wt[Y]){if(F[Y]){F[Y].forEach(q);return}S.push(Y),B[Y]=!0}}throw y.forEach(q),new Bi(b+": "+S.map(Li).join([", "]))}function Zo(b,y,S,B,q,Y){var x=Wo(y,S);b=nt(b),q=Jo(B,q),Go(b,function(){Qo("Cannot call "+b+" due to unbound types",x)},y-1),wr([],x,function(K){var Q=[K[0],null].concat(K.slice(1));return qo(b,Ho(b,Q,null,q,Y),y-1),[]})}function $o(b,y,S){switch(y){case 0:return S?function(B){return re[B]}:function(B){return V[B]};case 1:return S?function(B){return X[B>>1]}:function(B){return ee[B>>1]};case 2:return S?function(B){return oe[B>>2]}:function(B){return we[B>>2]};default:throw new TypeError("Unknown integer type: "+b)}}function xo(b,y,S,B,q){y=nt(y),q===-1&&(q=4294967295);var Y=hn(S),x=function(ye){return ye};if(B===0){var K=32-8*S;x=function(ye){return ye<<K>>>K}}var Q=y.includes("unsigned");dt(b,{name:y,fromWireType:x,toWireType:function(ye,Ie){if(typeof Ie!="number"&&typeof Ie!="boolean")throw new TypeError('Cannot convert "'+vr(Ie)+'" to '+this.name);if(Ie<B||Ie>q)throw new TypeError('Passing a number "'+vr(Ie)+'" from JS side to C/C++ side to an argument of type "'+y+'", which is outside the valid range ['+B+", "+q+"]!");return Q?Ie>>>0:Ie|0},argPackAdvance:8,readValueFromPointer:$o(y,Y,B!==0),destructorFunction:null})}function ea(b,y,S){var B=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],q=B[y];function Y(x){x=x>>2;var K=we,Q=K[x],ye=K[x+1];return new q(H,ye,Q)}S=nt(S),dt(b,{name:S,fromWireType:Y,argPackAdvance:8,readValueFromPointer:Y},{ignoreDuplicateRegistrations:!0})}function ta(b,y){y=nt(y);var S=y==="std::string";dt(b,{name:y,fromWireType:function(B){var q=we[B>>2],Y;if(S)for(var x=B+4,K=0;K<=q;++K){var Q=B+4+K;if(K==q||V[Q]==0){var ye=Q-x,Ie=p(x,ye);Y===void 0?Y=Ie:(Y+="\0",Y+=Ie),x=Q+1}}else{for(var Le=new Array(q),K=0;K<q;++K)Le[K]=String.fromCharCode(V[B+4+K]);Y=Le.join("")}return yt(B),Y},toWireType:function(B,q){q instanceof ArrayBuffer&&(q=new Uint8Array(q));var Y,x=typeof q=="string";x||q instanceof Uint8Array||q instanceof Uint8ClampedArray||q instanceof Int8Array||Oe("Cannot pass non-string to std::string"),S&&x?Y=function(){return k(q)}:Y=function(){return q.length};var K=Y(),Q=Er(4+K+1);if(we[Q>>2]=K,S&&x)I(q,Q+4,K+1);else if(x)for(var ye=0;ye<K;++ye){var Ie=q.charCodeAt(ye);Ie>255&&(yt(Q),Oe("String has UTF-16 code units that do not fit in 8 bits")),V[Q+4+ye]=Ie}else for(var ye=0;ye<K;++ye)V[Q+4+ye]=q[ye];return B!==null&&B.push(yt,Q),Q},argPackAdvance:8,readValueFromPointer:yr,destructorFunction:function(B){yt(B)}})}function na(b,y,S){S=nt(S);var B,q,Y,x,K;y===2?(B=T,q=C,x=M,Y=function(){return ee},K=1):y===4&&(B=R,q=U,x=G,Y=function(){return we},K=2),dt(b,{name:S,fromWireType:function(Q){for(var ye=we[Q>>2],Ie=Y(),Le,ot=Q+4,Dt=0;Dt<=ye;++Dt){var It=Q+4+Dt*y;if(Dt==ye||Ie[It>>K]==0){var gn=It-ot,$t=B(ot,gn);Le===void 0?Le=$t:(Le+="\0",Le+=$t),ot=It+y}}return yt(Q),Le},toWireType:function(Q,ye){typeof ye!="string"&&Oe("Cannot pass non-string to C++ string type "+S);var Ie=x(ye),Le=Er(4+Ie+y);return we[Le>>2]=Ie>>K,q(ye,Le+4,Ie+y),Q!==null&&Q.push(yt,Le),Le},argPackAdvance:8,readValueFromPointer:yr,destructorFunction:function(Q){yt(Q)}})}function ra(b,y){y=nt(y),dt(b,{isVoid:!0,name:y,argPackAdvance:0,fromWireType:function(){},toWireType:function(S,B){}})}function mn(b){return b||Oe("Cannot use deleted val. handle = "+b),He[b].value}function kr(b,y){var S=wt[b];return S===void 0&&Oe(y+" has unknown type "+Li(b)),S}function ia(b,y,S){b=mn(b),y=kr(y,"emval::as");var B=[],q=Zt(B);return oe[S>>2]=q,y.toWireType(B,b)}function la(b,y){for(var S=new Array(b),B=0;B<b;++B)S[B]=kr(oe[(y>>2)+B],"parameter "+B);return S}function sa(b,y,S,B){b=mn(b);for(var q=la(y,S),Y=new Array(y),x=0;x<y;++x){var K=q[x];Y[x]=K.readValueFromPointer(B),B+=K.argPackAdvance}var Q=b.apply(void 0,Y);return Zt(Q)}function oa(b,y){return b=mn(b),y=mn(y),Zt(b[y])}function aa(b){b>4&&(He[b].refcount+=1)}function ua(b){return b=mn(b),typeof b=="number"}var fa={};function ca(b){var y=fa[b];return y===void 0?nt(b):y}function da(b){return Zt(ca(b))}function ha(b){var y=He[b].value;Ni(y),Jt(b)}function ma(b,y){b=kr(b,"_emval_take_value");var S=b.readValueFromPointer(y);return Zt(S)}function ga(){_e()}function pa(b,y,S){V.copyWithin(b,y,y+S)}function _a(b){try{return h.grow(b-H.byteLength+65535>>>16),se(h.buffer),1}catch{}}function ba(b){var y=V.length;b=b>>>0;var S=2147483648;if(b>S)return!1;for(var B=1;B<=4;B*=2){var q=y*(1+.2/B);q=Math.min(q,b+100663296);var Y=Math.min(S,le(Math.max(b,q),65536)),x=_a(Y);if(x)return!0}return!1}br(),Ze=t.BindingError=Te(Error,"BindingError"),Yt=t.InternalError=Te(Error,"InternalError"),Po(),Bi=t.UnboundTypeError=Te(Error,"UnboundTypeError");var wa={a:In,q:Mn,u:Ln,t:Do,m:Fo,k:Zo,d:xo,c:ea,n:ta,l:na,v:ra,j:ia,w:sa,b:Jt,e:oa,g:aa,p:ua,f:da,i:ha,h:ma,o:ga,r:pa,s:ba};_r(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.y).apply(null,arguments)};var Er=t._malloc=function(){return(Er=t._malloc=t.asm.z).apply(null,arguments)},yt=t._free=function(){return(yt=t._free=t.asm.A).apply(null,arguments)},Oi=t.___getTypeName=function(){return(Oi=t.___getTypeName=t.asm.C).apply(null,arguments)};t.___embind_register_native_and_builtin_types=function(){return(t.___embind_register_native_and_builtin_types=t.asm.D).apply(null,arguments)},t.dynCall_ijiii=function(){return(t.dynCall_ijiii=t.asm.E).apply(null,arguments)};var On;J=function b(){On||Ar(),On||(J=b)};function Ar(b){if(ft>0||(Tt(),ft>0))return;function y(){On||(On=!0,t.calledRun=!0,!_&&(Se(),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),gt()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),y()},1)):y()}if(t.run=Ar,t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Ar(),t.ready}}(),Sf=ki,Ir=new Uint8Array([0,0,0,1]);function Tf(n){console.error(n)}ki.createFile=Xs;function Xs(n=256){let e=0,t=0,r=new Uint8Array(n);return{contents:function(){return r.slice(0,t)},seek:function(l){e=l},write:function(l){let s=l.byteLength;return i(e+s),r.set(l,e),e+=s,t=Math.max(t,e),s}};function i(l){var s=r.length;if(s>=l)return;var a=1024*1024;l=Math.max(l,s*(s<a?2:1.125)>>>0),s!=0&&(l=Math.max(l,256));let o=r;r=new Uint8Array(l),t>0&&r.set(o.subarray(0,t),0)}}ki.isWebCodecsSupported=Js;function Js(){return typeof window<"u"&&typeof window.VideoEncoder=="function"}function Cf(n,e={}){let{width:t,height:r,groupOfPictures:i=20,fps:l=30,fragmentation:s=!1,sequential:a=!1,hevc:o=!1,format:u="annexb",codec:c="avc1.4d0034",acceleration:f,bitrate:d,error:m=Tf,encoderOptions:h={},flushFrequency:_=10}=e;if(!Js())throw new Error("MP4 H264 encoding/decoding depends on WebCodecs API which is not supported in this environment");if(typeof t!="number"||typeof r!="number")throw new Error("Must specify { width, height } options");if(!isFinite(t)||t<0||!isFinite(r)||r<0)throw new Error("{ width, height } options must be positive integers");let g=Xs(),p=n.create_muxer({width:t,height:r,fps:l,fragmentation:s,sequential:a,hevc:o},T),w={codec:c,width:t,height:r,avc:{format:u},hardwareAcceleration:f,bitrate:d,...h},I=0,k=new window.VideoEncoder({output(R,U){M(R,U)},error:m});return k.configure(w),{async end(){return await k.flush(),k.close(),n.finalize_muxer(p),g.contents()},async addFrame(R){let U=1/l*I*1e6,G=I%i==0,le=new VideoFrame(R,{timestamp:U});k.encode(le,{keyFrame:G}),le.close(),_!=null&&(I+1)%_==0&&await k.flush(),I++},async flush(){return k.flush()}};function T(R,U,G){g.seek(G);let le=n.HEAPU8.subarray(R,R+U);return g.write(le)!==le.byteLength}function C(R){let U=n._malloc(R.byteLength);n.HEAPU8.set(R,U),n.mux_nal(p,U,R.byteLength),n._free(U)}function M(R,U){let G=null,le;if(U&&(U.description&&(le=U.description),U.decoderConfig&&U.decoderConfig.description&&(le=U.decoderConfig.description)),le)try{G=Mf(le)}catch(re){m(re);return}let H=[];if(G&&(G.sps_list.forEach(re=>{H.push(Ir),H.push(re)}),G.pps_list.forEach(re=>{H.push(Ir),H.push(re)})),u==="annexb"){let re=new Uint8Array(R.byteLength);R.copyTo(re),H.push(re)}else try{let re=new ArrayBuffer(R.byteLength);R.copyTo(re),If(re).forEach(V=>{H.push(Ir),H.push(V)})}catch(re){m(re);return}C(Rf(H))}}function Rf(n){let e=n.reduce((i,l)=>i+l.byteLength,0),t=new Uint8Array(e),r=0;for(let i=0;i<n.length;i++){let l=n[i];t.set(l,r),r+=l.byteLength}return t}function If(n){let e=4,t=0,r=[],i=n.byteLength,l=new Uint8Array(n);for(;t+e<i;){let s=l[t];if(s=(s<<8)+l[t+1],s=(s<<8)+l[t+2],s=(s<<8)+l[t+3],r.push(new Uint8Array(n,t+e,s)),s==0)throw new Error("Error: invalid nal_length 0");t+=e+s}return r}function Mf(n){let e=new DataView(n),t=0,r=e.getUint8(t++),i=e.getUint8(t++),l=e.getUint8(t++),s=e.getUint8(t++),a=(e.getUint8(t++)&3)+1;if(a!==4)throw new Error("Expected length_size to indicate 4 bytes");let o=e.getUint8(t++)&31,u=[];for(let d=0;d<o;d++){let m=e.getUint16(t,!1);t+=2;let h=new Uint8Array(e.buffer,t,m);u.push(h),t+=m}let c=e.getUint8(t++),f=[];for(let d=0;d<c;d++){let m=e.getUint16(t,!1);t+=2;let h=new Uint8Array(e.buffer,t,m);f.push(h),t+=m}return{offset:t,version:r,profile:i,compat:l,level:s,length_size:a,pps_list:f,sps_list:u,numSPS:o}}let nl;const sn=class sn extends hr{constructor(e,t){super(e,t)}async load(){sn.loaded||(nl=await Sf(),sn.loaded=!0),this.encoder=nl.createWebCodecsEncoder({width:this.canvas.width,height:this.canvas.height,fps:this.framerate})}async tick(){const e=await window.createImageBitmap(this.canvas);await this.encoder.addFrame(e)}async end(){const e=await this.encoder.end();this.result=new Blob([e],{type:"video/mp4"}),super.end()}};pn(sn,"loaded",!1),pn(sn,"isSupported",!0);let jr=sn;var Nf={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function Qs(n=256){let e=0,t=new Uint8Array(n);return{get buffer(){return t.buffer},reset(){e=0},bytesView(){return t.subarray(0,e)},bytes(){return t.slice(0,e)},writeByte(i){r(e+1),t[e]=i,e++},writeBytes(i,l=0,s=i.length){r(e+s);for(let a=0;a<s;a++)t[e++]=i[a+l]},writeBytesView(i,l=0,s=i.byteLength){r(e+s),t.set(i.subarray(l,l+s),e),e+=s}};function r(i){var l=t.length;if(l>=i)return;var s=1024*1024;i=Math.max(i,l*(l<s?2:1.125)>>>0),l!=0&&(i=Math.max(i,256));let a=t;t=new Uint8Array(i),e>0&&t.set(a.subarray(0,e),0)}}var Mr=12,rl=5003,Bf=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function Lf(n,e,t,r,i=Qs(512),l=new Uint8Array(256),s=new Int32Array(rl),a=new Int32Array(rl)){let o=s.length,u=Math.max(2,r);l.fill(0),a.fill(0),s.fill(-1);let c=0,f=0,d=u+1,m=d,h=!1,_=m,g=(1<<_)-1,p=1<<d-1,w=p+1,I=p+2,k=0,T=t[0],C=0;for(let U=o;U<65536;U*=2)++C;C=8-C,i.writeByte(u),R(p);let M=t.length;for(let U=1;U<M;U++)e:{let G=t[U],le=(G<<Mr)+T,H=G<<C^T;if(s[H]===le){T=a[H];break e}let re=H===0?1:o-H;for(;s[H]>=0;)if(H-=re,H<0&&(H+=o),s[H]===le){T=a[H];break e}R(T),T=G,I<1<<Mr?(a[H]=I++,s[H]=le):(s.fill(-1),I=p+2,h=!0,R(p))}return R(T),R(w),i.writeByte(0),i.bytesView();function R(U){for(c&=Bf[f],f>0?c|=U<<f:c=U,f+=_;f>=8;)l[k++]=c&255,k>=254&&(i.writeByte(k),i.writeBytesView(l,0,k),k=0),c>>=8,f-=8;if((I>g||h)&&(h?(_=m,g=(1<<_)-1,h=!1):(++_,g=_===Mr?1<<_:(1<<_)-1)),U==w){for(;f>0;)l[k++]=c&255,k>=254&&(i.writeByte(k),i.writeBytesView(l,0,k),k=0),c>>=8,f-=8;k>0&&(i.writeByte(k),i.writeBytesView(l,0,k),k=0)}}}var Of=Lf;function Zs(n,e,t){return n<<8&63488|e<<2&992|t>>3}function $s(n,e,t,r){return n>>4|e&240|(t&240)<<4|(r&240)<<8}function xs(n,e,t){return n>>4<<8|e&240|t>>4}function Dn(n,e,t){return n<e?e:n>t?t:n}function jn(n){return n*n}function il(n,e,t){var r=0,i=1e100;let l=n[e],s=l.cnt;l.ac;let a=l.rc,o=l.gc,u=l.bc;for(var c=l.fw;c!=0;c=n[c].fw){let d=n[c],m=d.cnt,h=s*m/(s+m);if(!(h>=i)){var f=0;f+=h*jn(d.rc-a),!(f>=i)&&(f+=h*jn(d.gc-o),!(f>=i)&&(f+=h*jn(d.bc-u),!(f>=i)&&(i=f,r=c)))}}l.err=i,l.nn=r}function Nr(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function zf(n,e){let t=e==="rgb444"?4096:65536,r=new Array(t),i=n.length;if(e==="rgba4444")for(let l=0;l<i;++l){let s=n[l],a=s>>24&255,o=s>>16&255,u=s>>8&255,c=s&255,f=$s(c,u,o,a),d=f in r?r[f]:r[f]=Nr();d.rc+=c,d.gc+=u,d.bc+=o,d.ac+=a,d.cnt++}else if(e==="rgb444")for(let l=0;l<i;++l){let s=n[l],a=s>>16&255,o=s>>8&255,u=s&255,c=xs(u,o,a),f=c in r?r[c]:r[c]=Nr();f.rc+=u,f.gc+=o,f.bc+=a,f.cnt++}else for(let l=0;l<i;++l){let s=n[l],a=s>>16&255,o=s>>8&255,u=s&255,c=Zs(u,o,a),f=c in r?r[c]:r[c]=Nr();f.rc+=u,f.gc+=o,f.bc+=a,f.cnt++}return r}function Pf(n,e,t={}){let{format:r="rgb565",clearAlpha:i=!0,clearAlphaColor:l=0,clearAlphaThreshold:s=0,oneBitAlpha:a=!1}=t;if(!n||!n.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(n instanceof Uint8Array)&&!(n instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");let o=new Uint32Array(n.buffer),u=t.useSqrt!==!1,c=r==="rgba4444",f=zf(o,r),d=f.length,m=d-1,h=new Uint32Array(d+1);for(var _=0,g=0;g<d;++g){let V=f[g];if(V!=null){var p=1/V.cnt;c&&(V.ac*=p),V.rc*=p,V.gc*=p,V.bc*=p,f[_++]=V}}jn(e)/_<.022&&(u=!1);for(var g=0;g<_-1;++g)f[g].fw=g+1,f[g+1].bk=g,u&&(f[g].cnt=Math.sqrt(f[g].cnt));u&&(f[g].cnt=Math.sqrt(f[g].cnt));var w,I,k;for(g=0;g<_;++g){il(f,g);var T=f[g].err;for(I=++h[0];I>1&&(k=I>>1,!(f[w=h[k]].err<=T));I=k)h[I]=w;h[I]=g}var C=_-e;for(g=0;g<C;){for(var M;;){var R=h[1];if(M=f[R],M.tm>=M.mtm&&f[M.nn].mtm<=M.tm)break;M.mtm==m?R=h[1]=h[h[0]--]:(il(f,R),M.tm=g);var T=f[R].err;for(I=1;(k=I+I)<=h[0]&&(k<h[0]&&f[h[k]].err>f[h[k+1]].err&&k++,!(T<=f[w=h[k]].err));I=k)h[I]=w;h[I]=R}var U=f[M.nn],G=M.cnt,le=U.cnt,p=1/(G+le);c&&(M.ac=p*(G*M.ac+le*U.ac)),M.rc=p*(G*M.rc+le*U.rc),M.gc=p*(G*M.gc+le*U.gc),M.bc=p*(G*M.bc+le*U.bc),M.cnt+=U.cnt,M.mtm=++g,f[U.bk].fw=U.fw,f[U.fw].bk=U.bk,U.mtm=m}let H=[];var re=0;for(g=0;;++re){let V=Dn(Math.round(f[g].rc),0,255),X=Dn(Math.round(f[g].gc),0,255),ee=Dn(Math.round(f[g].bc),0,255),oe=255;c&&(oe=Dn(Math.round(f[g].ac),0,255),a&&(oe=oe<=(typeof a=="number"?a:127)?0:255),i&&oe<=s&&(V=X=ee=l,oe=0));let we=c?[V,X,ee,oe]:[V,X,ee];if(Df(H,we)||H.push(we),(g=f[g].fw)==0)break}return H}function Df(n,e){for(let t=0;t<n.length;t++){let r=n[t],i=r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2],l=r.length>=4&&e.length>=4?r[3]===e[3]:!0;if(i&&l)return!0}return!1}function Uf(n,e,t="rgb565"){if(!n||!n.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(n instanceof Uint8Array)&&!(n instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(e.length>256)throw new Error("applyPalette() only works with 256 colors or less");let r=new Uint32Array(n.buffer),i=r.length,l=t==="rgb444"?4096:65536,s=new Uint8Array(i),a=new Array(l);if(t==="rgba4444")for(let o=0;o<i;o++){let u=r[o],c=u>>24&255,f=u>>16&255,d=u>>8&255,m=u&255,h=$s(m,d,f,c),_=h in a?a[h]:a[h]=Ff(m,d,f,c,e);s[o]=_}else{let o=t==="rgb444"?xs:Zs;for(let u=0;u<i;u++){let c=r[u],f=c>>16&255,d=c>>8&255,m=c&255,h=o(m,d,f),_=h in a?a[h]:a[h]=jf(m,d,f,e);s[u]=_}}return s}function Ff(n,e,t,r,i){let l=0,s=1e100;for(let a=0;a<i.length;a++){let o=i[a],u=o[3],c=Ht(u-r);if(c>s)continue;let f=o[0];if(c+=Ht(f-n),c>s)continue;let d=o[1];if(c+=Ht(d-e),c>s)continue;let m=o[2];c+=Ht(m-t),!(c>s)&&(s=c,l=a)}return l}function jf(n,e,t,r){let i=0,l=1e100;for(let s=0;s<r.length;s++){let a=r[s],o=a[0],u=Ht(o-n);if(u>l)continue;let c=a[1];if(u+=Ht(c-e),u>l)continue;let f=a[2];u+=Ht(f-t),!(u>l)&&(l=u,i=s)}return i}function Ht(n){return n*n}function Hf(n={}){let{initialCapacity:e=4096,auto:t=!0}=n,r=Qs(e),i=5003,l=new Uint8Array(256),s=new Int32Array(i),a=new Int32Array(i),o=!1;return{reset(){r.reset(),o=!1},finish(){r.writeByte(Nf.trailer)},bytes(){return r.bytes()},bytesView(){return r.bytesView()},get buffer(){return r.buffer},get stream(){return r},writeHeader:u,writeFrame(c,f,d,m={}){let{transparent:h=!1,transparentIndex:_=0,delay:g=0,palette:p=null,repeat:w=0,colorDepth:I=8,dispose:k=-1}=m,T=!1;if(t?o||(T=!0,u(),o=!0):T=!!m.first,f=Math.max(0,Math.floor(f)),d=Math.max(0,Math.floor(d)),T){if(!p)throw new Error("First frame must include a { palette } option");Gf(r,f,d,p,I),ll(r,p),w>=0&&Wf(r,w)}let C=Math.round(g/10);Vf(r,k,C,h,_);let M=!!p&&!T;qf(r,f,d,M?p:null),M&&ll(r,p),Kf(r,c,f,d,I,l,s,a)}};function u(){eo(r,"GIF89a")}}function Vf(n,e,t,r,i){n.writeByte(33),n.writeByte(249),n.writeByte(4),i<0&&(i=0,r=!1);var l,s;r?(l=1,s=2):(l=0,s=0),e>=0&&(s=e&7),s<<=2,n.writeByte(0|s|0|l),Mt(n,t),n.writeByte(i||0),n.writeByte(0)}function Gf(n,e,t,r,i=8){let l=1,s=0,a=Ei(r.length)-1,o=l<<7|i-1<<4|s<<3|a;Mt(n,e),Mt(n,t),n.writeBytes([o,0,0])}function Wf(n,e){n.writeByte(33),n.writeByte(255),n.writeByte(11),eo(n,"NETSCAPE2.0"),n.writeByte(3),n.writeByte(1),Mt(n,e),n.writeByte(0)}function ll(n,e){let t=1<<Ei(e.length);for(let r=0;r<t;r++){let i=[0,0,0];r<e.length&&(i=e[r]),n.writeByte(i[0]),n.writeByte(i[1]),n.writeByte(i[2])}}function qf(n,e,t,r){if(n.writeByte(44),Mt(n,0),Mt(n,0),Mt(n,e),Mt(n,t),r){let i=0,l=0,s=Ei(r.length)-1;n.writeByte(128|i|l|0|s)}else n.writeByte(0)}function Kf(n,e,t,r,i=8,l,s,a){Of(t,r,e,i,n,l,s,a)}function Mt(n,e){n.writeByte(e&255),n.writeByte(e>>8&255)}function eo(n,e){for(var t=0;t<e.length;t++)n.writeByte(e.charCodeAt(t))}function Ei(n){return Math.max(Math.ceil(Math.log2(n)),1)}class Yf extends hr{start(){this.encoder=Hf(),this.tmpCanvas=document.createElement("canvas"),this.tmpContext=this.tmpCanvas.getContext("2d"),this.maxColors=Math.floor($e(this.quality,1,100,1,256)),super.start()}getBitmapRGBA(e,t=e.width,r=e.height){return this.tmpCanvas.width=t,this.tmpCanvas.height=r,this.tmpContext.clearRect(0,0,t,r),this.tmpContext.drawImage(e,0,0,t,r),this.tmpContext.getImageData(0,0,t,r).data}tick(){const{width:e,height:t}=this.canvas,r=this.getBitmapRGBA(this.canvas,e,t),i=Pf(r,this.maxColors),l=Uf(r,i);this.encoder.writeFrame(l,e,t,{palette:i,delay:this.frameDuration})}end(){this.encoder.finish(),this.result=new Blob([this.encoder.bytes()],{type:"image/gif"}),super.end()}}async function sl(n){return new Promise((e,t)=>{const r=new FileReader;r.onerror=i=>{t(i)},r.onload=i=>{e(i.target.result)},r.readAsDataURL(n)})}function to(n){return new Promise((e,t)=>{const r=n.indexOf(",");if(r===-1){t(new Error("createBlobFromDataURL: dataURL doesn't contain extension data."));return}const i=n.slice(r+1),l=window.atob(i),s=n.slice(0,r),a=/data:([^;]+)/.exec(s),o=(a?a[1]:"")||void 0,u=new ArrayBuffer(l.length),c=new Uint8Array(u);for(var f=0;f<l.length;f++)c[f]=l.charCodeAt(f);e(new window.Blob([u],{type:o}))})}function Xf(n,e){let t=Qf(e);typeof n=="object"&&["json","txt"].includes(t)&&(n=JSON.stringify(n,void 0,4));let r=Zf(t),i=new Blob([n],{type:r});no(i,{filename:e})}function no(n,{filename:e="untitled"}={}){let t=document.createElement("a");t.style.visibility="hidden",t.target="_blank",t.download=e,t.href=window.URL.createObjectURL(n),t.onclick=()=>{t.onclick=()=>{},setTimeout(()=>{window.URL.revokeObjectURL(n),t.parentElement&&t.parentElement.removeChild(t),t.removeAttribute("href")})},t.click()}function Jf(n){return n.split(/[\\/]/).pop()}function Qf(n){const e=n.match(/[^\\/]\.([^.\\/]+)$/);if(e&&e.length>1)return e[1]}function Zf(n){if(n==="json")return"application/json";if(n==="txt")return"text";if(n==="png")return"image/png";if(n==="jpeg"||n==="jpg")return"image/jpeg"}async function $f(n){async function e({filename:t,data:r,blob:i}){i||(i=await to(r)),await no(i,{filename:t})}if(Array.isArray(n))return Promise.all(n.map(t=>e(t)));await e(n)}async function ro(n=[],e=[]){await $f(n)}var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.changeDpiBlob=sc;var xf=Ai.changeDpiDataUrl=oc;function ec(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}function tc(){for(var n=new Int32Array(256),e=0;e<256;e++){for(var t=e,r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;n[e]=t}return n}function nc(n){var e=-1;Br||(Br=tc());for(var t=0;t<n.length;t++)e=Br[(e^n[t])&255]^e>>>8;return e^-1}var Br=void 0,Hr="image/png",Vr="image/jpeg",rc="AAlwSFlz",ic="AAAJcEhZ",lc="AAAACXBI",io=112,lo=72,so=89,oo=115;function sc(n,e){var t=n.slice(0,33);return new Promise(function(r,i){var l=new FileReader;l.onload=function(){var s=new Uint8Array(l.result),a=n.slice(33),o=ao(s,e,n.type);r(new Blob([o,a],{type:n.type}))},l.readAsArrayBuffer(t)})}function oc(n,e){var t=n.split(","),r=t[0],i=t[1],l=void 0,s=void 0,a=!1;if(r.indexOf(Hr)!==-1){l=Hr;var o=ac(i);o>=0?(s=Math.ceil((o+28)/3)*4,a=!0):s=33/3*4}r.indexOf(Vr)!==-1&&(l=Vr,s=18/3*4);for(var u=i.substring(0,s),c=i.substring(s),f=atob(u),d=new Uint8Array(f.length),m=0;m<d.length;m++)d[m]=f.charCodeAt(m);var h=ao(d,e,l,a),_=btoa(String.fromCharCode.apply(String,ec(h)));return[r,",",_,c].join("")}function ac(n){var e=n.indexOf(rc);return e===-1&&(e=n.indexOf(ic)),e===-1&&(e=n.indexOf(lc)),e}function uc(n){for(var e=n.length-1,t=e;t>=4;t--)if(n[t-4]===9&&n[t-3]===io&&n[t-2]===lo&&n[t-1]===so&&n[t]===oo)return t-3}function ao(n,e,t,r){if(t===Vr)return n[13]=1,n[14]=e>>8,n[15]=e&255,n[16]=e>>8,n[17]=e&255,n;if(t===Hr){var i=new Uint8Array(13);e*=39.3701,i[0]=io,i[1]=lo,i[2]=so,i[3]=oo,i[4]=e>>>24,i[5]=e>>>16,i[6]=e>>>8,i[7]=e&255,i[8]=i[4],i[9]=i[5],i[10]=i[6],i[11]=i[7],i[12]=1;var l=nc(i),s=new Uint8Array(4);if(s[0]=l>>>24,s[1]=l>>>16,s[2]=l>>>8,s[3]=l&255,r){var a=uc(n);return n.set(i,a),n.set(s,a+13),n}else{var o=new Uint8Array(4);o[0]=0,o[1]=0,o[2]=0,o[3]=9;var u=new Uint8Array(54);return u.set(n,0),u.set(o,33),u.set(i,37),u.set(s,50),u}}}const fc=["image/png","image/jpeg","image/webp"];function uo(n,{encoding:e="image/png",encodingQuality:t=.92,pixelsPerInch:r=72}={}){if(!fc.includes(e))throw new Error(`Invalid canvas encoding ${e}`);let i=(e.split("/")[1]||"").replace(/jpeg/i,"jpg");i&&(i=`.${i}`.toLowerCase());let l=n.toDataURL(e,t);return e!=="image/webp"&&r!==72&&(l=xf(l,r)),{extension:i,dataURL:l}}class cc extends hr{constructor(e,t){super(e,t);const{imageEncoding:r="png"}=t;this.imageEncoding=r,this.imageQuality=$e(this.quality,1,100,0,1)}start(){this.frames=[],super.start()}tick(){let{dataURL:e}=uo(this.canvas,{encoding:`image/${this.imageEncoding}`,encodingQuality:this.imageQuality});this.frames[this.frameCount]=e}async end(){this.result=await Promise.all(this.frames.map(e=>to(e))),super.end()}}function fo(){const n=new Date,e=n.toLocaleString("default",{year:"numeric"}),t=n.toLocaleString("default",{month:"numeric"}).padStart(2,"0"),r=n.toLocaleString("default",{day:"numeric"}).padStart(2,"0"),i=n.toLocaleString("default",{hour:"numeric",hour12:!1}).split(" ")[0],l=n.toLocaleString("default",{minute:"numeric"}).padStart(2,"0"),s=n.toLocaleString("default",{second:"numeric"}).padStart(2,"0"),a=`${e}.${t}.${r}-${i}.${l}.${s}`;return{year:e,month:t,day:r,hours:i,minutes:l,seconds:s,timestamp:a}}const co=({index:n,filename:e,timestamp:t})=>{let r=`${e}.${t}`;return isNaN(n)||(r+=`-${n}`),r};async function dc(n,{filename:e="",index:t,pattern:r=co,exportDir:i,params:l={}}){const{imageEncoding:s,imageQuality:a,pixelsPerInch:o}=ds(Jn);let{extension:u,dataURL:c}=uo(n,{encoding:`image/${s}`,encodingQuality:$e(a,1,100,0,1),pixelsPerInch:o}),f=fo();const m=[{filename:`${r({filename:e,index:t,...l,...f})}${u}`,exportDir:i,data:c,encoding:"base64"}];try{await ro(m)}catch(h){console.error("[fragment] Error while saving screenshot."),console.log(h)}}function hc(n,e){let t=new Af(n,e);return t.start(),t}function mc(n,e){let t=new jr(n,e);return t.start(),t}function gc(n,e){let t=new Yf(n,e);return t.start(),t}function pc(n,e){let t=new cc(n,e);return t.start(),t}function _c(n,{filename:e="output",format:t="mp4",framerate:r=25,duration:i=1/0,quality:l=100,pattern:s=co,exportDir:a,imageEncoding:o,onStart:u=()=>{},onTick:c=()=>{},onComplete:f=()=>{},params:d={}}={}){let m=fo(),h=s({filename:e,...m});async function _(w){const I=[];if(Array.isArray(w)){const k=t===rn.FRAMES?o:t;for(let T=0;T<w.length;T++){const C=`${T}`.padStart(`${w.length}`.length,"0"),M=`${h}-${C}.${k}`,R=w[T],U=await sl(R);I.push({filename:M,data:U,blob:R,exportDir:a,encoding:"base64"})}}else{const k=w,T=await sl(k);I.push({filename:`${h}.${t}`,data:T,blob:k,encoding:"base64",exportDir:a})}await ro(I),f()}const g={framerate:r,duration:i,quality:l,onStart:u,onTick:c,onComplete:_};let p;return t===rn.WEBM?p=hc(n,g):t===rn.MP4?p=mc(n,g):t===rn.GIF?p=gc(n,g):t===rn.FRAMES&&(p=pc(n,{...g,imageEncoding:o})),p||console.error("Cannot find matching recorder"),p}function ol(n,e,t){const r=n.slice();return r[5]=e[t],r}function al(n,e,t){const r=n.slice();return r[8]=e[t],r}function ul(n){let e,t=Fe(n[2]),r=[];for(let i=0;i<t.length;i+=1)r[i]=fl(al(n,t,i));return{c(){e=O("p");for(let i=0;i<r.length;i+=1)r[i].c();E(e,"class","stack svelte-cv6lql")},m(i,l){L(i,e,l);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(e,null)},p(i,l){if(l&4){t=Fe(i[2]);let s;for(s=0;s<t.length;s+=1){const a=al(i,t,s);r[s]?r[s].p(a,l):(r[s]=fl(a),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(i){i&&N(e),Wt(r,i)}}}function fl(n){let e,t=n[8]+"",r;return{c(){e=O("span"),r=Pe(t),E(e,"class","svelte-cv6lql")},m(i,l){L(i,e,l),j(e,r)},p(i,l){l&4&&t!==(t=i[8]+"")&&et(r,t)},d(i){i&&N(e)}}}function cl(n){let e,t=Fe(n[1]),r=[];for(let i=0;i<t.length;i+=1)r[i]=dl(ol(n,t,i));return{c(){e=O("div");for(let i=0;i<r.length;i+=1)r[i].c();E(e,"class","extract svelte-cv6lql")},m(i,l){L(i,e,l);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(e,null)},p(i,l){if(l&2){t=Fe(i[1]);let s;for(s=0;s<t.length;s+=1){const a=ol(i,t,s);r[s]?r[s].p(a,l):(r[s]=dl(a),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(i){i&&N(e),Wt(r,i)}}}function dl(n){let e,t=n[5].text+"",r;return{c(){e=O("span"),r=Pe(t),E(e,"class","extract-line svelte-cv6lql"),W(e,"highlighted",n[5].highlighted)},m(i,l){L(i,e,l),j(e,r)},p(i,l){l&2&&t!==(t=i[5].text+"")&&et(r,t),l&2&&W(e,"highlighted",i[5].highlighted)},d(i){i&&N(e)}}}function bc(n){let e,t,r,i=n[0].name+"",l,s,a=n[0].message+"",o,u,c,f,d,m,h,_=n[0].stack&&ul(n),g=n[1].length>0&&cl(n);return{c(){e=O("div"),t=O("div"),r=O("h2"),l=Pe(i),s=Pe(": "),o=Pe(a),u=$(),_&&_.c(),c=$(),g&&g.c(),f=$(),d=O("span"),d.textContent=`Open your browser's console to further inspect this error. Click to
		dismiss.`,E(r,"class","svelte-cv6lql"),E(t,"class","display"),E(d,"class","console svelte-cv6lql"),E(e,"class","error-overlay svelte-cv6lql")},m(p,w){L(p,e,w),j(e,t),j(t,r),j(r,l),j(r,s),j(r,o),j(t,u),_&&_.m(t,null),j(t,c),g&&g.m(t,null),j(e,f),j(e,d),m||(h=be(e,"click",n[4]),m=!0)},p(p,[w]){w&1&&i!==(i=p[0].name+"")&&et(l,i),w&1&&a!==(a=p[0].message+"")&&et(o,a),p[0].stack?_?_.p(p,w):(_=ul(p),_.c(),_.m(t,c)):_&&(_.d(1),_=null),p[1].length>0?g?g.p(p,w):(g=cl(p),g.c(),g.m(t,null)):g&&(g.d(1),g=null)},i:ae,o:ae,d(p){p&&N(e),_&&_.d(),g&&g.d(),m=!1,h()}}}function ho(n){const e=n.match(/(:([0-9]+)\:([0-9]+))/);let t,r;return e&&e[2]&&e[3]&&(t=e[2],r=e[3]),{lineNumber:t,colNumber:r}}function wc(n,e,t){let r,i,{error:l}=e;const s=()=>xu();return n.$$set=a=>{"error"in a&&t(0,l=a.error)},n.$$.update=()=>{n.$$.dirty&1&&t(2,r=l.stack?l.stack.split(`
`).filter((a,o,u)=>u.length===1?!0:o!==0).filter(a=>!a.includes("/app")).map(a=>(a=a.replace(`${window.location.origin}/@fsC:\\laragon\\www\\kikk-24-generator/`,""),a=a.replace(/\?.+?\:/g,":"),a)):null),n.$$.dirty&1&&t(1,i=l.source?l.source.split(`
`).map((a,o)=>({text:a,highlighted:a.includes(`> ${l.lineNumber}:`)})):[])},[l,i,r,ho,s]}class yc extends he{constructor(e){super(),de(this,e,wc,bc,ce,{error:0,getLineAndColNumber:3})}get getLineAndColNumber(){return ho}}function hl(n){let e;return{c(){e=O("span"),e.textContent="REC",E(e,"class","record svelte-1c2gbfz")},m(t,r){L(t,e,r)},d(t){t&&N(e)}}}function ml(n){let e,t;return e=new yc({props:{error:n[6]}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i[0]&64&&(l.error=r[6]),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function vc(n){let e,t,r,i,l,s,a,o,u,c,f,d,m,h,_,g=n[3]&&hl();s=new ln({props:{type:"down",key:" "}}),s.$on("trigger",n[8]),o=new ln({props:{type:"down",key:"r"}}),o.$on("trigger",n[11]),c=new ln({props:{type:"down",key:"s"}}),c.$on("trigger",n[9]),d=new ln({props:{type:"down",key:"S"}}),d.$on("trigger",n[10]);let p=n[6]&&ml(n);return{c(){e=O("div"),t=O("div"),r=$(),g&&g.c(),l=$(),D(s.$$.fragment),a=$(),D(o.$$.fragment),u=$(),D(c.$$.fragment),f=$(),D(d.$$.fragment),m=$(),p&&p.c(),h=Me(),E(t,"class","canvas-container svelte-1c2gbfz"),fe(t,"max-width",n[2].width+"px"),fe(t,"max-height",n[2].height+"px"),E(e,"class","sketch-renderer svelte-1c2gbfz"),E(e,"style",i=`--background-color: ${n[5]}`),W(e,"visible",n[0]),W(e,"recording",n[3])},m(w,I){L(w,e,I),j(e,t),n[33](t),j(e,r),g&&g.m(e,null),n[34](e),L(w,l,I),z(s,w,I),L(w,a,I),z(o,w,I),L(w,u,I),z(c,w,I),L(w,f,I),z(d,w,I),L(w,m,I),p&&p.m(w,I),L(w,h,I),_=!0},p(w,I){(!_||I[0]&4)&&fe(t,"max-width",w[2].width+"px"),(!_||I[0]&4)&&fe(t,"max-height",w[2].height+"px"),w[3]?g||(g=hl(),g.c(),g.m(e,null)):g&&(g.d(1),g=null),(!_||I[0]&32&&i!==(i=`--background-color: ${w[5]}`))&&E(e,"style",i),(!_||I[0]&1)&&W(e,"visible",w[0]),(!_||I[0]&8)&&W(e,"recording",w[3]),w[6]?p?(p.p(w,I),I[0]&64&&v(p,1)):(p=ml(w),p.c(),v(p,1),p.m(h.parentNode,h)):p&&(me(),A(p,1,1,()=>{p=null}),ge())},i(w){_||(v(s.$$.fragment,w),v(o.$$.fragment,w),v(c.$$.fragment,w),v(d.$$.fragment,w),v(p),_=!0)},o(w){A(s.$$.fragment,w),A(o.$$.fragment,w),A(c.$$.fragment,w),A(d.$$.fragment,w),A(p),_=!1},d(w){w&&(N(e),N(l),N(a),N(u),N(f),N(m),N(h)),n[33](null),g&&g.d(),n[34](null),P(s,w),P(o,w),P(c,w),P(d,w),p&&p.d(w)}}}function kc(n,e,t){let r,i,l,s,a,o,u,c,f,d,m,h,_,g,p,w,I,k,T,C,M;ne(n,dr,F=>t(24,o=F)),ne(n,rt,F=>t(25,u=F)),ne(n,Ot,F=>t(26,c=F)),ne(n,ze,F=>t(2,f=F)),ne(n,Cr,F=>t(3,d=F)),ne(n,tl,F=>t(27,m=F)),ne(n,Jn,F=>t(28,h=F)),ne(n,Fr,F=>t(48,_=F)),ne(n,Gt,F=>t(50,p=F)),ne(n,kt,F=>t(51,w=F)),ne(n,At,F=>t(52,I=F)),ne(n,mf,F=>t(29,k=F)),ne(n,df,F=>t(30,T=F)),ne(n,ff,F=>t(31,C=F)),ne(n,af,F=>t(32,M=F));let{key:R}=e,{id:U=0}=e,{paused:G=!1}=e,{visible:le=!0}=e,H,re,V=60,X=0,ee=0,oe=performance.now(),we=performance.now(),Ye=0,te=performance.now(),se,Re,Xe=R,ie,Je=!1,Tt=!1,Se,gt=()=>{},Qe=gt,_t="inherit";function Kt(){if(!H)return;let F=f.resizing===ke.WINDOW||f.resizing===ke.ASPECT_RATIO,ue,Be;if(f.resizing===ke.WINDOW)ue=H.offsetWidth,Be=H.offsetHeight;else if(f.resizing===ke.ASPECT_RATIO){const{offsetWidth:je,offsetHeight:Ue}=H,Te=f.aspectRatio,Ze=je/Ue;Te<Ze?(Be=Ue,ue=Be*Te):(ue=je,Be=ue/Te)}F=F&&(ue!==f.width||Be!==f.height),F&&ze.update(je=>({...je,width:ue,height:Be}))}let ft=new ResizeObserver(()=>{Kt()}),J={},pe=Fa(At,()=>I[R]);ne(n,pe,F=>t(49,g=F));let Ee=!1;pe.subscribe(()=>{V===0&&requestAnimationFrame(()=>{Ee=!0})}),kt.subscribe(()=>{ct()});function _e(F=document.createElement("canvas")){return F.width=f.width*f.pixelRatio,F.height=f.height*f.pixelRatio,F.onmousedown=ue=>ri(ue,R),F.onmousemove=ue=>ii(ue,R),F.onmouseup=ue=>li(ue,R),F.onclick=ue=>si(ue,R),re.appendChild(F),ve(rt,u=u.map(ue=>ue.id===U?{...ue,canvas:F}:ue),u),F}function De(F){F.onmousedown=null,F.onmousemove=null,F.onmouseup=null,F.onclick=null,F.parentNode===re&&F.parentNode.removeChild(F),F=null}function ct(){ie?(w.previewing||!0)&&ie.buildConfig&&ie.buildConfig.backgroundColor?t(5,_t=ie.buildConfig.backgroundColor):!w.previewing&&ie.backgroundColor?t(5,_t=ie.backgroundColor):t(5,_t="inherit"):t(5,_t="inherit")}async function Ne(F){var Oe;if(t(18,Je=!1),(Oe=ie==null?void 0:ie.dispose)==null||Oe.call(ie),t(17,ie=p[F]),!F||!ie){Tt=!0,Re&&(cancelAnimationFrame(Re),Re=null);return}if(el(F),ct(),se&&(Se&&typeof Se.onDestroyPreview=="function"&&Se.onDestroyPreview({id:U,canvas:se}),De(se)),t(19,Se=await _f({rendering:ie.rendering,renderer:ie.renderer})),!re)return;t(15,se=_e()),f.resizing===ke.SCALE?t(15,se.style.transform=`scale(${f.scale})`,se):t(15,se.style.transform=null,se),Gs(F),bf(F);let ue={};Se&&typeof Se.onMountPreview=="function"&&(ue=Se.onMountPreview({id:U,canvas:se,container:re,width:f.width,height:f.height,pixelRatio:f.pixelRatio})),ue.canvas&&ue.canvas!==se&&(De(se),t(15,se=_e(ue.canvas))),J={...ue,canvas:se,publicPath:"@fsC:\\laragon\\www\\kikk-24-generator"},V=isFinite(ie.fps)?ie.fps:60;const Be=ie.setup||ie.init||gt,je=ie.resize||gt,{width:Ue,height:Te,pixelRatio:Ze}=f;try{ee=0,ie.load&&await ie.load({width:Ue,height:Te,pixelRatio:Ze,props:g,...J}),Be({width:Ue,height:Te,pixelRatio:Ze,props:g,...J}),je({canvas:se,width:Ue,height:Te,pixelRatio:Ze,props:g,...J}),t(18,Je=!0),Tt=!1,t(20,Qe=Pt()),requestAnimationFrame(()=>{Ee=!0,Re||In()})}catch(Yt){bt(Yt)}}function bt(F){Tt=!0,console.error(F),yi(F,R),cancelAnimationFrame(Re),Re=null}let Ct=d,_r=m;function Pt(){const{width:F,height:ue,pixelRatio:Be}=f,je=ie.draw||ie.update,{duration:Ue}=ie;let Te=NaN,Ze=NaN,Oe=NaN,Yt=isFinite(Ue),Bn=Se&&Se.onBeforeUpdatePreview||gt,wr=Se&&Se.onAfterUpdatePreview||gt,dt=1e3/V,Ln=V*Ue,Xt=1/Ln;return({time:He=performance.now(),deltaTime:Jt=He-te}={})=>{Ee=!1,te=He;try{Bn({id:U,canvas:se,container:re});let Qt=_?Math.floor(He/dt)*dt:ee;Yt&&V>0&&(Te=Qt/1e3/Ue,Te%=1,Te=Math.floor(Te/Xt)*Xt,Ze=Math.floor(ee/1e3/Ue),Oe=Math.floor($e(Te,0,1,1,Ln+1))),je({...Se,...J,props:g,playhead:Te,playcount:Ze,frame:Oe,width:F,height:ue,pixelRatio:Be,time:Qt,deltaTime:Jt}),wr({id:U,canvas:se,container:re}),ee+=Jt}catch(Qt){bt(Qt)}}}function In(){Re=requestAnimationFrame(In),oe=performance.now(),Ye=oe-we,we=oe,G?te=oe:(X+=Ye,_?Qe():X>=1/V*1e3&&Je&&(X=0,Qe())),Ee&&Je&&Qe()}ze.subscribe(F=>{if(se&&Je){F.resizing===ke.SCALE?t(15,se.style.transform=`scale(${F.scale})`,se):t(15,se.style.transform=null,se);const{width:ue,height:Be,pixelRatio:je}=F;(ie.resize||gt)({canvas:se,width:ue,height:Be,pixelRatio:je,...J}),t(20,Qe=Pt()),Ee=!0}});async function Mn(){t(12,G=!0);const{imageCount:F=1,imageEncoding:ue,imageQuality:Be,pixelsPerInch:je}=h,Ue={encoding:ue,quality:Be,pixelsPerInch:je,count:F};for(let Te=0;Te<F;Te++)r.forEach(Ze=>{Ze({...Ue,index:Te})}),Qe(),await dc(se,{filename:R,pattern:ie==null?void 0:ie.filenamePattern,exportDir:ie==null?void 0:ie.exportDir,index:F>1?Te:void 0,params:{props:ie==null?void 0:ie.props}}),t(12,G=!1),ve(tl,m=!1,m),i.forEach(Ze=>{Ze({...Ue,index:Te})}),Qe()}Fr.subscribe(()=>{Je&&t(20,Qe=Pt())}),qt(()=>{Ne(R),Gt.subscribe(()=>{(Je||Tt)&&Ne(R)}),En.on("shader-update",()=>{V===0&&(Ee=!0)}),ft.observe(H)});function hn(F){const ue=F.detail;(!ue.metaKey||!ue.ctrlKey)&&(ue.preventDefault(),d?console.warn("Cannot pause while recording."):(we=performance.now(),t(12,G=!G)))}function br(F){const ue=F.detail;(ue.metaKey||ue.ctrlKey)&&(ue.preventDefault(),d?console.warn("Cannot save while recording."):Mn())}function Nn(F){F.detail.preventDefault(),ve(Cr,d=!d,d)}function nt(F){const ue=F.detail;!ue.metaKey&&!ue.ctrlKey&&(ue.preventDefault(),rf(R,{width:f.width,height:f.height,pixelRatio:f.pixelRatio}),console.log(`[fragment] ${R} reloaded.`),Ne(R))}St(()=>{ft.unobserve(H),cancelAnimationFrame(Re),Se&&typeof Se.onDestroyPreview=="function"&&Se.onDestroyPreview({id:U,canvas:se,container:re}),t(19,Se=null),se&&De(se),t(18,Je=!1)});function Rt(F){Ae[F?"unshift":"push"](()=>{re=F,t(1,re)})}function wt(F){Ae[F?"unshift":"push"](()=>{H=F,t(4,H)})}return n.$$set=F=>{"key"in F&&t(13,R=F.key),"id"in F&&t(14,U=F.id),"paused"in F&&t(12,G=F.paused),"visible"in F&&t(0,le=F.visible)},n.$$.update=()=>{if(n.$$.dirty[0]&8192|n.$$.dirty[1]&2&&(r=M.get(R)||[]),n.$$.dirty[0]&8192|n.$$.dirty[1]&1&&(i=C.get(R)||[]),n.$$.dirty[0]&1073750016&&t(22,l=T.get(R)||[]),n.$$.dirty[0]&536879104&&t(23,s=k.get(R)||[]),n.$$.dirty[0]&573446&&(Kt(),Se&&typeof Se.onResizePreview=="function"&&Se.onResizePreview({id:U,container:re,width:f.width,height:f.height,pixelRatio:f.pixelRatio}),se)){const F=f.pixelRatio;t(15,se.width=f.width*F,se),t(15,se.height=f.height*F,se)}if(n.$$.dirty[0]&284336136){let F=function(){t(21,Ct=null),t(12,G=!1),s.forEach(Be=>{Be(ue)}),Qe()};const ue={encoding:h.videoFormat,quality:h.videoQuality,framerate:h.framerate};if(d&&!Ct){let Be={onTick:Qe,framerate:h.framerate,filename:R,exportDir:ie==null?void 0:ie.exportDir,pattern:ie==null?void 0:ie.filenamePattern,format:h.videoFormat,imageEncoding:h.imageEncoding,quality:h.videoQuality,params:{props:ie==null?void 0:ie.props},onStart:()=>{l.forEach(je=>{je(ue)}),ee=0,t(12,G=!0)},onComplete:()=>{ve(Cr,d=!1,d),F()}};h.useDuration&&(Be.duration=ie.duration*h.loopCount),t(21,Ct=_c(se,Be))}Ct&&!d&&Ct.stop()}n.$$.dirty[0]&134217728&&!_r&&m&&Mn(),n.$$.dirty[0]&368640&&se&&Xe!==R&&(Je&&el(Xe),t(16,Xe=R),Ne(R)),n.$$.dirty[0]&117448704&&t(6,a=R&&o.has(R)?o.get(R):o.size===1&&![...o.keys()].some(F=>c.includes(F))&&(u.length===1||!u.some(F=>F.selected===o.keys().next().value))?o.get(o.keys().next().value):null)},[le,re,f,d,H,_t,a,pe,hn,br,Nn,nt,G,R,U,se,Xe,ie,Je,Se,Qe,Ct,l,s,o,u,c,m,h,k,T,C,M,Rt,wt]}class Ec extends he{constructor(e){super(),de(this,e,kc,vc,ce,{key:13,id:14,paused:12,visible:0},null,[-1,-1,-1])}}class Ac{constructor(e,{attributes:t={position:{data:[-1,-1,3,-1,-1,3]},uv:{data:[0,0,2,0,0,2]}}}={}){this.gl=e,this.attributes=t,this.buffers=Object.keys(t).reduce((r,i)=>{let l=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t[i].data),e.STATIC_DRAW),r[i]=l,r},{})}destroy(){Object.keys(this.buffers).forEach(e=>{let t=this.buffers[e];this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t),this.gl.bufferData(this.gl.ARRAY_BUFFER,1,this.gl.STATIC_DRAW),this.gl.deleteBuffer(t)}),this.buffers=null,this.attributes=null}}function pl(n){return(n&n-1)===0}const Sc=new Uint8Array([0,0,0,0]);let Tc=0;class Gr{constructor(e,{image:t,name:r="",target:i=e.TEXTURE_2D,type:l=e.UNSIGNED_BYTE,wrapS:s=e.CLAMP_TO_EDGE,wrapT:a=e.CLAMP_TO_EDGE,generateMipmaps:o=!0,format:u=e.RGBA,internalFormat:c=u,minFilter:f=o?e.NEAREST_MIPMAP_LINEAR:e.LINEAR,magFilter:d=e.LINEAR,flipY:m=i===e.TEXTURE_2D}={}){this.gl=e,this.image=t,this.name=r,this.target=i,this.type=l,this.wrapS=s,this.wrapT=a,this.generateMipmaps=o,this.format=u,this.internalFormat=c,this.minFilter=f,this.magFilter=d,this.flipY=m,this.needsUpdate=!0,this.glTexture=this.gl.createTexture(),this.id=Tc++}bind(){this.gl.state.textureUnits[this.gl.state.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.glTexture),this.gl.state.textureUnits[this.gl.state.activeTextureUnit]=this.id)}update(e=0){(this.needsUpdate||this.gl.state.textureUnits[e]!==this.id)&&(this.gl.state.activeTextureUnit!==e&&(this.gl.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e)),this.bind()),this.needsUpdate&&(this.needsUpdate=!1,this.flipY!==this.gl.state.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.gl.state.flipY=this.flipY),this.image&&this.generateMipmaps&&(!pl(this.image.width)||!pl(this.image.height))&&(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR),this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.image?(this.gl.texImage2D(this.target,0,this.internalFormat,this.format,this.type,this.image),this.generateMipmaps&&this.gl.generateMipmap(this.target)):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,Sc))}destroy(){this.gl.deleteTexture(this.glTexture),this.glTexture=null,this.gl=null,this.image=null}}function _l(n,e,t){let r=n.createShader(e);if(n.shaderSource(r,t),n.compileShader(r),n.getShaderParameter(r,n.COMPILE_STATUS))return r;console.warn(`fragment-gl.Program: Shader Info Log: ${n.getShaderInfoLog(r)}`),n.deleteShader(r)}let Cc=0,mo=`
    attribute vec4 position;
    attribute vec2 uv;

    varying vec2 vUv;

    void main(){
        vUv = uv;
        gl_Position = position;
    }
`,go=`
    precision highp float;

    varying vec2 vUv;

    void main() {
        gl_FragColor = vec4(vec3(0., 1., 0.), 1.);
    }
`;class Rc{constructor(e,{vertex:t=mo,fragment:r=go,uniforms:i={}}={}){this.gl=e,this.vertexShader=t,this.fragmentShader=r,this.uniforms=i,this.needsUpdate=!0,this._program=e.createProgram(),this.id=Cc++,this.compile()}set vertexShader(e){this.vertex=e,this._vertexShader=_l(this.gl,this.gl.VERTEX_SHADER,e),this.needsUpdate=!0}get vertexShader(){return this._vertexShader}set fragmentShader(e){this.fragment=e,this._fragmentShader=_l(this.gl,this.gl.FRAGMENT_SHADER,e),this.needsUpdate=!0}get fragmentShader(){return this._fragmentShader}compile(){const{gl:e,_program:t,uniforms:r}=this;if(!this.vertexShader||!this.fragmentShader)return;e.attachShader(t,this.vertexShader),e.attachShader(t,this.fragmentShader),e.linkProgram(t);let i=e.getProgramInfoLog(t),l=e.getShaderInfoLog(this.vertexShader),s=e.getShaderInfoLog(this.fragmentShader);e.getProgramParameter(t,e.LINK_STATUS)===!1?console.error(`Program: shader error
			${l}
			${s}
			`):i!==""&&console.warn(`fragment-gl.Program: Program Info Log: ${i}`),e.getProgramParameter(t,e.LINK_STATUS)||(console.warn(`fragment-gl.Program: Program Info Log: ${e.getProgramInfoLog(t)}`),e.deleteProgram(t));let o=Object.keys(r).reduce((f,d)=>(f[d]=e.getUniformLocation(t,d),f),{}),u=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),c={};for(let f=0;f<u;f++){let d=e.getActiveAttrib(t,f),m=e.getAttribLocation(t,d.name);c[d.name]=m}this.gl.detachShader(t,this._vertexShader),this.gl.detachShader(t,this._fragmentShader),this.attributesLocations=c,this.uniformsLocations=o,this.needsUpdate=!1}}class Ic{constructor({canvas:e=document.createElement("canvas"),antialias:t=!1,alpha:r=!0,depth:i=!1,stencil:l=!1,premultipliedAlpha:s=!1,pixelRatio:a=window.devicePixelRatio,webgl:o=2}){let u,c={depth:i,stencil:l,antialias:t,alpha:r,premultipliedAlpha:s,preserveDrawingBuffer:!0};this.canvas=e,o===2&&(u=e.getContext("webgl2",c)),u||(u=e.getContext("webgl",c)||e.getContext("experimental-webgl",c)),this.gl=u,this.state={activeTextureUnit:0,textureUnits:[],flipY:!1,viewport:{width:0,height:0},pixelRatio:a,width:0,height:0},this.gl.state=this.state}render({geometry:e,program:t,primitiveType:r=this.gl.TRIANGLES,offset:i=0,count:l=3}){t.needsUpdate&&t.compile(),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.useProgram(t._program);for(let a in t.attributesLocations){let o=t.attributesLocations[a],u=e.buffers[a];this.gl.enableVertexAttribArray(o),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,u);const c=2,f=this.gl.FLOAT;this.gl.vertexAttribPointer(o,c,f,!1,0,0)}let s=-1;for(let a in t.uniforms){let o=t.uniformsLocations[a];if(o){let u=t.uniforms[a];u.type==="float"?this.gl.uniform1f(o,u.value):u.type==="vec2"?this.gl.uniform2f(o,u.value[0],u.value[1]):u.type==="vec3"?this.gl.uniform3f(o,u.value[0],u.value[1],u.value[2]):u.type==="vec4"?this.gl.uniform4f(o,u.value[0],u.value[1],u.value[2],u.value[3]):u.type==="sampler2D"&&u.value&&(s=s+1,u.value.update(s),this.gl.uniform1i(o,s))}}this.gl.drawArrays(r,i,l)}setPixelRatio(e=this.state.pixelRatio){this.state.pixelRatio!==e&&(this.state.pixelRatio=e,this.setSize())}setSize({width:e=this.state.width,height:t=this.state.height}={}){this.state.width=e,this.state.height=t,this.canvas.width=this.state.width*this.state.pixelRatio,this.canvas.height=this.state.height*this.state.pixelRatio,this.setViewport()}setViewport({width:e=this.state.width,height:t=this.state.height}={}){let r=Math.floor(e*this.state.pixelRatio),i=Math.floor(t*this.state.pixelRatio);(this.state.viewport.width!==r||this.state.viewport.height!==i)&&(this.gl.viewport(0,0,r,i),this.state.viewport.width=r,this.state.viewport.height=i)}destroy(){let e=this.gl.getExtension("WEBGL_lose_context");e&&e.loseContext()}}function Mc({canvas:n=document.createElement("canvas"),shader:e=go,uniforms:t={}}){let r=e,i=mo,l=t,s=new Ic({canvas:n}),a=new Ac(s.gl),o=new Rc(s.gl,{fragment:e,uniforms:t});function u(){s.render({geometry:a,program:o})}let c,f,d;function m({width:g=c,height:p=f,pixelRatio:w=d}){s.setPixelRatio(w),s.setSize({width:g,height:p}),c=g,f=p,d=w}function h(){a.destroy(),s.destroy(),t=null}const _={gl:s.gl,program:o,texture:(g={})=>new Gr(gl,g),resize:m,render:u,destroy:h};return Object.defineProperty(_,"shader",{enumerable:!0,configurable:!0,get:()=>r,set:g=>{r=g,o.fragmentShader=r}}),Object.defineProperty(_,"fragmentShader",{enumerable:!0,configurable:!0,get:()=>r,set:g=>{r=g,o.fragmentShader=r}}),Object.defineProperty(_,"vertexShader",{enumerable:!0,configurable:!0,get:()=>i,set:g=>{i=g,o.vertexShader=i}}),Object.defineProperty(_,"uniforms",{enumerable:!0,configurable:!0,get:()=>l,set:g=>{l=g,o.uniforms=l,o.needsUpdate=!0}}),_}let Nc="Fade",Bc={},Lc=`
precision highp float;

uniform sampler2D uSampler0;
uniform sampler2D uSampler1;
uniform float threshold;

varying vec2 vUv;

void main() {
    gl_FragColor = mix(texture2D(uSampler0, vUv), texture2D(uSampler1, vUv), threshold);
}
`;const Oc=Object.freeze(Object.defineProperty({__proto__:null,fragmentShader:Lc,name:Nc,props:Bc},Symbol.toStringTag,{value:"Module"}));let zc="SplitX",Pc={},Dc=`
precision highp float;

uniform float threshold;
uniform sampler2D uSampler0;
uniform sampler2D uSampler1;

varying vec2 vUv;

void main() {
    gl_FragColor = mix(texture2D(uSampler0, vUv), texture2D(uSampler1, vUv), step(1. - vUv.x, threshold));
}
`;const Uc=Object.freeze(Object.defineProperty({__proto__:null,fragmentShader:Dc,name:zc,props:Pc},Symbol.toStringTag,{value:"Module"}));let Fc="SplitY",jc={},Hc=`
precision highp float;

uniform float threshold;
uniform sampler2D uSampler0;
uniform sampler2D uSampler1;

varying vec2 vUv;

void main() {
    gl_FragColor = mix(texture2D(uSampler0, vUv), texture2D(uSampler1, vUv), step(1. - vUv.y, threshold));
}
`;const Vc=Object.freeze(Object.defineProperty({__proto__:null,fragmentShader:Hc,name:Fc,props:jc},Symbol.toStringTag,{value:"Module"})),Wr={"fade.js":Oc,"splitX.js":Uc,"splitY.js":Vc},Zn=ut("multisampling",[],{persist:!1,reset:!0}),Hn=ut("threshold",0,{persist:!1,reset:!1}),Vn=ut("transition",!1,{persist:!1,reset:!1});function Gc(n){let e,t,r;return{c(){e=O("div"),t=O("div"),r=O("canvas"),E(t,"class","canvas-container svelte-15cbadx"),fe(t,"max-width",n[1].width+"px"),E(e,"class","output-renderer svelte-15cbadx")},m(i,l){L(i,e,l),j(e,t),j(t,r),n[7](r)},p(i,[l]){l&2&&fe(t,"max-width",i[1].width+"px")},i:ae,o:ae,d(i){i&&N(e),n[7](null)}}}function Wc(n,e,t){let r,i,l,s,a,o,u;ne(n,ze,k=>t(1,l=k)),ne(n,Hn,k=>t(11,s=k)),ne(n,rt,k=>t(12,a=k)),ne(n,Zn,k=>t(13,o=k)),ne(n,Vn,k=>t(6,u=k));let{paused:c=!1}=e,f,d,m,h={threshold:{value:0,type:"float"},uSampler0:{value:null,type:"sampler2D"},uSampler1:{value:null,type:"sampler2D"}},_=`
precision highp float;

uniform float threshold;
uniform sampler2D uSampler0;
uniform sampler2D uSampler1;

varying vec2 vUv;

void main() {
    vec4 mapTexel0 = texture2D(uSampler0, vUv);
    vec4 mapTexel1 = texture2D(uSampler1, vUv);

    vec3 color = mix(mapTexel0.rgb, mapTexel1.rgb, threshold);

    gl_FragColor = vec4(color, 1.);
}
`;qt(()=>{t(3,m=Mc({canvas:d,shader:i,uniforms:h})),h.uSampler0.value=new Gr(m.gl),h.uSampler1.value=new Gr(m.gl),g(),w(),p(),ze.subscribe(()=>{w()})}),St(()=>{cancelAnimationFrame(f),m.destroy(),t(3,m=null)});function g([k,T]=o){m&&(k>=0&&(h.uSampler0.value.image=a.find(C=>C.id===k).canvas),T>=0&&(h.uSampler1.value.image=a.find(C=>C.id===T).canvas))}Zn.subscribe(g);function p(){h.threshold.value=s,c||(h.uSampler0.value.needsUpdate=!0,h.uSampler1.value.needsUpdate=!0,m.render()),f=requestAnimationFrame(p)}function w(){if(!m)return;const{width:k,height:T,pixelRatio:C}=l;m.resize({width:k,height:T,pixelRatio:C})}function I(k){Ae[k?"unshift":"push"](()=>{d=k,t(0,d)})}return n.$$set=k=>{"paused"in k&&t(2,c=k.paused)},n.$$.update=()=>{n.$$.dirty&64&&t(5,r=Wr[u]),n.$$.dirty&32&&t(4,i=r?r.fragmentShader:_),n.$$.dirty&24&&m&&t(3,m.fragmentShader=i,m)},[d,l,c,m,i,r,u,I]}class qc extends he{constructor(e){super(),de(this,e,Wc,Gc,ce,{paused:2})}}function bl(n,e,t){const r=n.slice();return r[5]=e[t],r}function wl(n){let e,t=n[5].label+"",r,i,l;return{c(){e=O("option"),r=Pe(t),e.__value=i=n[5].value,Bt(e,e.__value),e.selected=l=n[0]===n[5].value},m(s,a){L(s,e,a),j(e,r)},p(s,a){a&2&&t!==(t=s[5].label+"")&&et(r,t),a&2&&i!==(i=s[5].value)&&(e.__value=i,Bt(e,e.__value)),a&3&&l!==(l=s[0]===s[5].value)&&(e.selected=l)},d(s){s&&N(e)}}}function yl(n){let e,t,r;return e=new ks({props:{width:15,height:15}}),{c(){t=O("div"),D(e.$$.fragment),fe(t,"display","contents"),fe(t,"--color","rgba(255, 255, 255, 0.75)")},m(i,l){L(i,t,l),z(e,t,null),r=!0},i(i){r||(v(e.$$.fragment,i),r=!0)},o(i){A(e.$$.fragment,i),r=!1},d(i){i&&e&&N(t),P(e,i)}}}function Kc(n){let e,t,r,i,l,s,a=Fe(n[1]),o=[];for(let c=0;c<a.length;c+=1)o[c]=wl(bl(n,a,c));let u=n[1].length>1&&yl();return{c(){e=O("div"),t=O("select");for(let c=0;c<o.length;c+=1)o[c].c();r=$(),u&&u.c(),E(t,"class","select svelte-cculi2"),t.disabled=n[2],W(t,"single",n[1].length===1),E(e,"class","module-header-select svelte-cculi2")},m(c,f){L(c,e,f),j(e,t);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(t,null);j(e,r),u&&u.m(e,null),i=!0,l||(s=be(t,"change",n[3]),l=!0)},p(c,[f]){if(f&3){a=Fe(c[1]);let d;for(d=0;d<a.length;d+=1){const m=bl(c,a,d);o[d]?o[d].p(m,f):(o[d]=wl(m),o[d].c(),o[d].m(t,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=a.length}(!i||f&4)&&(t.disabled=c[2]),(!i||f&2)&&W(t,"single",c[1].length===1),c[1].length>1?u?f&2&&v(u,1):(u=yl(),u.c(),v(u,1),u.m(e,null)):u&&(me(),A(u,1,1,()=>{u=null}),ge())},i(c){i||(v(u),i=!0)},o(c){A(u),i=!1},d(c){c&&N(e),Wt(o,c),u&&u.d(),l=!1,s()}}}function Yc(n,e,t){let{value:r}=e,{options:i=[]}=e,{disabled:l=!1}=e;const s=at();function a(o){s("change",o.currentTarget.value)}return n.$$set=o=>{"value"in o&&t(0,r=o.value),"options"in o&&t(1,i=o.options),"disabled"in o&&t(2,l=o.disabled)},[r,i,l,a]}class Xc extends he{constructor(e){super(),de(this,e,Yc,Kc,ce,{value:0,options:1,disabled:2})}}function Jc(n){let e,t,r,i;const l=n[2].default,s=Ge(l,n,n[1],null);return{c(){e=O("button"),s&&s.c(),E(e,"class","module-header-action__button svelte-1tc86zb"),E(e,"aria-label",n[0])},m(a,o){L(a,e,o),s&&s.m(e,null),t=!0,r||(i=be(e,"click",n[3]),r=!0)},p(a,[o]){s&&s.p&&(!t||o&2)&&qe(s,l,a,a[1],t?We(l,a[1],o,null):Ke(a[1]),null),(!t||o&1)&&E(e,"aria-label",a[0])},i(a){t||(v(s,a),t=!0)},o(a){A(s,a),t=!1},d(a){a&&N(e),s&&s.d(a),r=!1,i()}}}function Qc(n,e,t){let{$$slots:r={},$$scope:i}=e,{label:l}=e;function s(a){st.call(this,n,a)}return n.$$set=a=>{"label"in a&&t(0,l=a.label),"$$scope"in a&&t(1,i=a.$$scope)},[l,i,r,s]}class Zc extends he{constructor(e){super(),de(this,e,Qc,Jc,ce,{label:0})}}const $c=n=>({}),vl=n=>({}),xc=n=>({}),kl=n=>({});function ed(n){let e,t;return e=new Zc({props:{label:n[0],$$slots:{default:[rd]},$$scope:{ctx:n}}}),e.$on("click",n[9]),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&1&&(l.label=r[0]),i&1024&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function td(n){let e,t;return e=new Xc({props:{options:n[5],value:n[2],disabled:n[6]}}),e.$on("change",n[8]),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&32&&(l.options=r[5]),i&4&&(l.value=r[2]),i&64&&(l.disabled=r[6]),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function nd(n){let e,t;const r=n[7].default,i=Ge(r,n,n[10],null);return{c(){e=O("div"),i&&i.c(),E(e,"class","text svelte-1kvozjt")},m(l,s){L(l,e,s),i&&i.m(e,null),t=!0},p(l,s){i&&i.p&&(!t||s&1024)&&qe(i,r,l,l[10],t?We(r,l[10],s,null):Ke(l[10]),null)},i(l){t||(v(i,l),t=!0)},o(l){A(i,l),t=!1},d(l){l&&N(e),i&&i.d(l)}}}function rd(n){let e,t;const r=n[7].text,i=Ge(r,n,n[10],kl),l=i||nd(n),s=n[7].icon,a=Ge(s,n,n[10],vl);return{c(){l&&l.c(),e=$(),a&&a.c()},m(o,u){l&&l.m(o,u),L(o,e,u),a&&a.m(o,u),t=!0},p(o,u){i?i.p&&(!t||u&1024)&&qe(i,r,o,o[10],t?We(r,o[10],u,xc):Ke(o[10]),kl):l&&l.p&&(!t||u&1024)&&l.p(o,t?u:-1),a&&a.p&&(!t||u&1024)&&qe(a,s,o,o[10],t?We(s,o[10],u,$c):Ke(o[10]),vl)},i(o){t||(v(l,o),v(a,o),t=!0)},o(o){A(l,o),A(a,o),t=!1},d(o){o&&N(e),l&&l.d(o),a&&a.d(o)}}}function id(n){let e,t,r,i;const l=[td,ed],s=[];function a(o,u){return o[5].length>0?0:1}return t=a(n),r=s[t]=l[t](n),{c(){e=O("div"),r.c(),E(e,"class","module-header-action svelte-1kvozjt"),W(e,"permanent",n[1]),W(e,"border",n[3]),W(e,"no-margin",!n[4]),W(e,"disabled",n[6])},m(o,u){L(o,e,u),s[t].m(e,null),i=!0},p(o,[u]){let c=t;t=a(o),t===c?s[t].p(o,u):(me(),A(s[c],1,1,()=>{s[c]=null}),ge(),r=s[t],r?r.p(o,u):(r=s[t]=l[t](o),r.c()),v(r,1),r.m(e,null)),(!i||u&2)&&W(e,"permanent",o[1]),(!i||u&8)&&W(e,"border",o[3]),(!i||u&16)&&W(e,"no-margin",!o[4]),(!i||u&64)&&W(e,"disabled",o[6])},i(o){i||(v(r),i=!0)},o(o){A(r),i=!1},d(o){o&&N(e),s[t].d()}}}function ld(n,e,t){let r,{$$slots:i={},$$scope:l}=e,{label:s=""}=e,{permanent:a=!1}=e,{value:o=null}=e,{border:u=!1}=e,{margin:c=!0}=e,{options:f=[]}=e;function d(h){st.call(this,n,h)}function m(h){st.call(this,n,h)}return n.$$set=h=>{"label"in h&&t(0,s=h.label),"permanent"in h&&t(1,a=h.permanent),"value"in h&&t(2,o=h.value),"border"in h&&t(3,u=h.border),"margin"in h&&t(4,c=h.margin),"options"in h&&t(5,f=h.options),"$$scope"in h&&t(10,l=h.$$scope)},n.$$.update=()=>{n.$$.dirty&32&&t(6,r=f.length===1)},[s,a,o,u,c,f,r,i,d,m,l]}class po extends he{constructor(e){super(),de(this,e,ld,id,ce,{label:0,permanent:1,value:2,border:3,margin:4,options:5})}}function sd(n){let e,t;return e=new po({props:{value:n[0],permanent:!0,border:!0,options:n[1]}}),e.$on("change",n[6]),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,[i]){const l={};i&1&&(l.value=r[0]),i&2&&(l.options=r[1]),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function od(n,e,t){let r,i,l,s;ne(n,vi,c=>t(3,i=c)),ne(n,Gt,c=>t(4,l=c)),ne(n,Ot,c=>t(5,s=c));let{monitorID:a}=e,{selected:o}=e;const u=c=>t(0,o=c.detail);return n.$$set=c=>{"monitorID"in c&&t(2,a=c.monitorID),"selected"in c&&t(0,o=c.selected)},n.$$.update=()=>{n.$$.dirty&48&&t(1,r=[...s.map(c=>({value:c,label:l[c]&&l[c].name?l[c].name:c}))]),n.$$.dirty&11&&(i>1&&!r.some(c=>c.value==="output")&&t(1,r=[...r,{value:"output",label:"output"}]),r.length>0&&o===void 0&&t(0,o=r[0].value)),n.$$.dirty&5&&rt.update(c=>c.map(f=>(f.id===a&&(f.selected=o),f)))},[o,r,a,i,l,s,u]}class ad extends he{constructor(e){super(),de(this,e,od,sd,ce,{monitorID:2,selected:0})}}function ud(n){let e,t;return e=new qc({}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p:ae,i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function fd(n){let e,t;return e=new Ec({props:{key:n[2],id:n[4]}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&4&&(l.key=r[2]),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function cd(n){let e,t,r,i;const l=[fd,ud],s=[];function a(o,u){return o[2]&&o[2]!=="output"?0:o[2]?1:-1}return~(e=a(n))&&(t=s[e]=l[e](n)),{c(){t&&t.c(),r=Me()},m(o,u){~e&&s[e].m(o,u),L(o,r,u),i=!0},p(o,u){let c=e;e=a(o),e===c?~e&&s[e].p(o,u):(t&&(me(),A(s[c],1,1,()=>{s[c]=null}),ge()),~e?(t=s[e],t?t.p(o,u):(t=s[e]=l[e](o),t.c()),v(t,1),t.m(r.parentNode,r)):t=null)},i(o){i||(v(t),i=!0)},o(o){A(t),i=!1},d(o){o&&N(r),~e&&s[e].d(o)}}}function dd(n){let e,t;return e=new ad({props:{monitorID:n[4],selected:n[2]}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&4&&(l.selected=r[2]),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function hd(n){let e,t;return e=new ir({props:{hasHeader:n[1],mID:n[0],slug:"monitor",name:n[3],scrollable:!1,$$slots:{"header-left":[dd],default:[cd]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,[i]){const l={};i&2&&(l.hasHeader=r[1]),i&1&&(l.mID=r[0]),i&8&&(l.name=r[3]),i&1028&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}let md=0,gd="monitor";function pd(n,e,t){let r,i,l,s,a;ne(n,rt,m=>t(7,l=m)),ne(n,Ot,m=>t(8,s=m)),ne(n,Xn,m=>t(9,a=m));let{mID:o}=e,{hasHeader:u=!0}=e,{sketchKey:c=null}=e,f=md++,d=c||a||s[Math.min(f,s.length-1)];return Ot.subscribe(m=>{!d&&m.length>0&&ve(rt,l=l.map(h=>(h.id===f&&(h.selected=s[Math.min(f,s.length-1)]),h)),l)}),qt(()=>{ve(rt,l=[...l,{id:f,selected:d}],l)}),rt.subscribe(m=>{const h=m.find(_=>_.id===f);h&&h.selected!==d&&t(2,d=h.selected)}),St(()=>{ve(rt,l=l.filter(m=>m.id!==f),l)}),n.$$set=m=>{"mID"in m&&t(0,o=m.mID),"hasHeader"in m&&t(1,u=m.hasHeader),"sketchKey"in m&&t(5,c=m.sketchKey)},n.$$.update=()=>{n.$$.dirty&128&&t(6,r=l.findIndex(m=>m.id===f)),n.$$.dirty&192&&t(3,i=`${gd} ${l.length>1?r+1:""}`)},[o,u,d,i,f,c,r,l]}class Tn extends he{constructor(e){super(),de(this,e,pd,hd,ce,{mID:0,hasHeader:1,sketchKey:5})}}const _d=Object.freeze(Object.defineProperty({__proto__:null,default:Tn},Symbol.toStringTag,{value:"Module"})),Z={HEX_STRING:"hex-string",RGB_STRING:"rgb-string",RGBA_STRING:"rgba-string",HSL_STRING:"hsl-string",HSLA_STRING:"hsla-string",RGB_OBJECT:"rgb-object",RGBA_OBJECT:"rgba-object",VEC3_STRING:"vec3-string",VEC4_STRING:"vec4-string",VEC3_ARRAY:"vec3-array",VEC4_ARRAY:"vec4-array",THREE:"three",CSS_COLOR:"css-color"};function El(n,e=mr(n)){if(e||console.error("toHex :: cannot parse color for",n),e===Z.THREE)return Mo(n);if(e===Z.HEX_STRING)return n;if(e===Z.HSL_STRING||e===Z.HSLA_STRING)return kd(n);if(e===Z.RGB_STRING||e===Z.RGBA_STRING)return wd(n);if(e===Z.RGB_OBJECT||e===Z.RGBA_OBJECT)return cn([n.r,n.g,n.b,n.a]);if(e===Z.VEC3_STRING||e===Z.VEC4_STRING)return yd(n);if(e===Z.VEC3_ARRAY||e===Z.VEC4_ARRAY)return vd(n);if(e===Z.CSS_COLOR)return bd(n)}function Si(n,e=mr(n)){if(e||console.error("toComponents :: cannot parse color for",n),e===Z.THREE)return[n.r,n.g,n.b,1];if(e===Z.HEX_STRING)return Gn(n);if(e===Z.HSL_STRING||e===Z.HSLA_STRING)return wo(n);if(e===Z.RGB_STRING||e===Z.RGBA_STRING)return Ci(n);if(e===Z.RGB_OBJECT||e===Z.RGBA_OBJECT)return[n.r,n.g,n.b,isFinite(n.a)?n.a:1];if(e===Z.VEC3_STRING||e===Z.VEC4_STRING)return _o(n);if(e===Z.CSS_COLOR)return Ti(n)}function Lr(n,e=mr(n)){if(e||console.error("toString :: cannot parse color for",n),e===Z.HEX_STRING||e===Z.RGB_STRING||e===Z.RGBA_STRING||e===Z.HSL_STRING||e===Z.HSLA_STRING||e===Z.VEC3_STRING||e===Z.VEC4_STRING||e===Z.CSS_COLOR)return n;if(e===Z.VEC3_ARRAY)return Kr(qr(n));if(e===Z.VEC4_ARRAY)return $n(qr(n));if(e===Z.THREE)return Mo(n);if(e===Z.RGB_OBJECT)return Kr([n.r,n.g,n.b]);if(e===Z.RGBA_OBJECT)return $n([n.r,n.g,n.b,n.a?n.a:1])}function Ti(n,e="temp"){if(n.toLowerCase()==="transparent")return[0,0,0,0];let t=document.createElement(e);document.body.appendChild(t);const r=()=>t.parentNode.removeChild(t);let i="rgb(1, 2, 3)";if(t.style.color=i,t.style.color!==i){r();return}if(t.style.color=n,t.style.color===i||t.style.color===""){r();return}let l=getComputedStyle(t).color;return r(),Ci(l)}function bd(n){return cn(Ti(n))}function Ci(n){const e=n.match(/rgba?\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)?(?:, ?(\d*(?:\.?\d*?))\))?/);return e?[parseInt(e[1])/255,parseInt(e[2])/255,parseInt(e[3])/255,e[4]?Number(e[4]):1]:[]}function wd(n){return cn(Ci(n))}function _o(n){const e=n.match(/vec[3-4]?\((\d*(?:\.\d*?)), ?(\d*(?:\.\d*?)), ?(\d*(?:\.\d*))?(?:, ?(\d*(?:\.?\d*?))\))?/);return e?[Math.min(1,Math.max(Number(e[1]),0)),Math.min(1,Math.max(Number(e[2]),0)),Math.min(1,Math.max(Number(e[3]),0)),e[4]?Math.min(1,Math.max(Number(e[4]),0)):1]:(console.error("color.vecStringToComponents :: cannot parse color",n),[])}function qr(n){if(n.every(e=>isFinite(e))){const[e,t,r,i=1]=n;return[e,t,r,i]}return console.error("color.vecArrayToComponents :: cannot parse color",n),[]}function yd(n){return cn(_o(n))}function vd(n){return cn(qr(n))}function bo(n){const e=n.match(/hsla?\((\d{1,3}),?[\s]?(\d{1,3})\%,?[\s]?(\d{1,3})\%\)?(?:,?[\s]?(\d*(?:\.?\d*?))\))?/);if(e){const t=Math.min(360,Math.max(Number(e[1]),0)),r=Math.min(100,Math.max(Number(e[2]),0)),i=Math.min(100,Math.max(Number(e[3]),0)),l=e[4]?Math.min(1,Math.max(Number(e[4]),0)):1;return[t,r,i,l]}return console.error("color.hslToHSLComponents :: cannot parse color",n),[]}function wo(n){let[e,t,r,i=1]=bo(n);e=e%360,e<0&&(e+=360),t/=100,r/=100;function l(s){let a=(s+e/30)%12,o=t*Math.min(r,1-r);return r-o*Math.max(-1,Math.min(a-3,9-a,1))}return[l(0),l(8),l(4),i]}function kd(n){return cn(wo(n))}function Gn(n){if(n.length<7){const e=n[1],t=n[2],r=n[3];if(n.length>4){const i=n[4];n=`#${e}${e}${t}${t}${r}${r}${i}${i}`}else n=`#${e}${e}${t}${t}${r}${r}`}return[parseInt(n.substr(1,2),16)/255,parseInt(n.substr(3,2),16)/255,parseInt(n.substr(5,2),16)/255,n.length>7?parseInt(n.substr(7,2),16)/255:1]}function Ed(n=[]){const[e=0,t=0,r=0]=n;let i=`${Math.round(e*1e3)/1e3}`,l=`${Math.round(t*1e3)/1e3}`,s=`${Math.round(r*1e3)/1e3}`;return(e===1||e===0)&&(i=`${e}.0`),(t===1||t===0)&&(l=`${t}.0`),(r===1||r===0)&&(s=`${r}.0`),`vec3(${i}, ${l}, ${s})`}function Al(n=[]){const[e=0,t=0,r=0,i=1]=n;let l=`${Math.round(e*1e3)/1e3}`,s=`${Math.round(t*1e3)/1e3}`,a=`${Math.round(r*1e3)/1e3}`,o=`${i}`;return(e===1||e===0)&&(l=`${e}.0`),(t===1||t===0)&&(s=`${t}.0`),(r===1||r===0)&&(a=`${r}.0`),(i===1||i===0)&&(o=`${o}.0`),`vec4(${l}, ${s}, ${a}, ${o})`}function Ad(n){const[e,t,r]=Si(n);return Kr([e,t,r])}function Sd(n){return $n(Si(n))}function Kr(n){const[e,t,r]=n;return`rgb(${Math.round(e*255)}, ${Math.round(t*255)}, ${Math.round(r*255)})`}function $n(n=[]){const[e=0,t=0,r=0,i=1]=n;return`rgba(${Math.round(e*255)}, ${Math.round(t*255)}, ${Math.round(r*255)}, ${i})`}function yo(n=[]){let[e,t,r]=n,i=Math.max(...n),l=Math.min(...n),[s,a,o]=[NaN,0,(l+i)/2],u=i-l;if(u!==0){switch(a=o===0||o===1?0:(i-o)/Math.min(o,1-o),i){case e:s=(t-r)/u+(t<r?6:0);break;case t:s=(r-e)/u+2;break;case r:s=(e-t)/u+4}s=s*60}return(a===0||o===0)&&(s=0),[s,a*100,o*100]}function Td(n){const[e=0,t=0,r=0]=n;return`hsl(${Math.round(e)}, ${Math.round(t)}%, ${Math.round(r)}%)`}function vo(n){const[e=0,t=0,r=0,i=1]=n;return`hsla(${Math.round(e)}, ${Math.round(t)}%, ${Math.round(r)}%, ${i})`}function Cd(n=[]){const[e=0,t=0,r=0,i=1]=n;return Td(yo([e,t,r]))}function Rd(n=[]){const[e=0,t=0,r=0,i=1]=n,[l,s,a]=yo([e,t,r]);return vo([l,s,a,i])}function cn(n=[]){const[e=0,t=0,r=0]=n;return`#${[e,t,r].map(l=>Math.round(l*255)).map(l=>l.toString(16).padStart(2,"0")).join("")}`}function ko(n,e=typeof n=="string"){return e&&/^#([a-f0-9]{3,4}){1,2}$/i.test(n)}function Id(n,e=typeof n=="string"){return e&&/rgba\((\d{1,3}),[\s]*(\d{1,3}),[\s]*(\d{1,3})\)?(?:,[\s]*(\d*(?:\.?\d*?))\))?/.test(n)}function Eo(n,e=typeof n=="string"){return e&&/rgb\((\d{1,3}),[\s]*(\d{1,3}),[\s]*(\d{1,3})\)/.test(n)}function Md(n,e=typeof n=="string"){return e&&n.includes("hsla")}function Ao(n,e=typeof n=="string"){return e&&n.includes("hsl")}function So(n,e=typeof n=="string"){return e&&n.includes("vec3(")}function To(n,e=typeof n=="string"){return e&&n.includes("vec4(")}function Co(n){if(typeof n=="object"){const e=Object.keys(n);return e.length===4&&e.includes("r")&&e.includes("g")&&e.includes("b")&&e.includes("a")}return!1}function Ro(n){if(typeof n=="object"){const e=Object.keys(n);return e.length===3&&e.includes("r")&&e.includes("g")&&e.includes("b")}return!1}function Nd(n){return Array.isArray(n)?n.length==3&&n.every(e=>e>=0&&e<=1):!1}function Bd(n){return Array.isArray(n)?n.length==4&&n.every(e=>e>=0&&e<=1):!1}function Io(n,e=typeof n=="string"){const t=e&&Ti(n);return t&&t.length>0}function Ri(n){return n&&n.isColor}function Mo(n){return Ri(n)||console.error("color.threeToHex() : value is not an instance of THREE.Color"),`#${n.getHexString()}`}function No(n){let e=typeof n=="string";return!!(Ri(n)||ko(n,e)||Eo(n,e)||So(n,e)||To(n,e)||Ao(n,e)||Co(n)||Ro(n)||Io(n))}function mr(n){if(Ri(n))return Z.THREE;if(ko(n))return Z.HEX_STRING;if(Id(n))return Z.RGBA_STRING;if(Eo(n))return Z.RGB_STRING;if(Ro(n))return Z.RGB_OBJECT;if(Co(n))return Z.RGBA_OBJECT;if(So(n))return Z.VEC3_STRING;if(To(n))return Z.VEC4_STRING;if(Nd(n))return Z.VEC3_ARRAY;if(Bd(n))return Z.VEC4_ARRAY;if(Md(n))return Z.HSLA_STRING;if(Ao(n))return Z.HSL_STRING;if(Io(n))return Z.CSS_COLOR}const Ce={SELECT:"select",NUMBER:"number",VEC:"vec",CHECKBOX:"checkbox",TEXT:"text",LIST:"list",COLOR:"color",BUTTON:"button",DOWNLOAD:"download",IMAGE:"image",INTERVAL:"interval"},Ld=Object.values(Ce);function Od(n){return n.match(/\.(jpeg|jpg|gif|png|webp)$/)!==null}function zd(n){return typeof n===HTMLImageElement||Od(n)}function Pd({type:n,value:e,params:t,key:r}){if(n){if(Ld.includes(n))return n;console.warn(`Field: type ${n} is invalid for ${r}`)}else{if(t.options&&Array.isArray(t.options))return"select";{if(e==null){console.warn(`Field: value ${e} for ${r}`);return}const i=Array.isArray(e),l=!i&&typeof e=="object",s=l?Object.values(e):e;if(i&&e.length===2&&typeof t.min=="number"&&typeof t.max=="number")return Ce.INTERVAL;if(No(e))return Ce.COLOR;if(typeof e=="number")return Ce.NUMBER;if(typeof e=="function")return Ce.BUTTON;if(typeof e=="boolean")return Ce.CHECKBOX;if(typeof e=="string")return zd(e)?Ce.IMAGE:Ce.TEXT;if((i||l)&&s.every(a=>typeof a=="number")&&s.length<=4)return Ce.VEC}}console.warn(`Field: cannot find field type  for ${r}`)}function Yr(n,e){const t=n&&typeof n;if(t!==(e&&typeof e))return!0;if(Array.isArray(e)){if(n.length!==e.length)return!0;for(let i=0;i<e.length;i++)if(e[i]!==n[i])return!0;return!1}if(t==="object"){const i=Object.keys(n),l=Object.keys(e);if(i.length!==l.length||!i.every(s=>l.includes(s)))return!0;for(const s of i){const a=n[s],o=e[s];if(typeof a=="object"&&typeof o=="object"){if(Yr(a,o))return!0}else if(a!==o)return!0;return!1}}return n!==e}function Dd(n){let e,t;const r=n[1].default,i=Ge(r,n,n[0],null);return{c(){e=O("div"),i&&i.c(),E(e,"class","row svelte-1bd89cg")},m(l,s){L(l,e,s),i&&i.m(e,null),t=!0},p(l,[s]){i&&i.p&&(!t||s&1)&&qe(i,r,l,l[0],t?We(r,l[0],s,null):Ke(l[0]),null)},i(l){t||(v(i,l),t=!0)},o(l){A(i,l),t=!1},d(l){l&&N(e),i&&i.d(l)}}}function Ud(n,e,t){let{$$slots:r={},$$scope:i}=e;return n.$$set=l=>{"$$scope"in l&&t(0,i=l.$$scope)},[i,r]}class dn extends he{constructor(e){super(),de(this,e,Ud,Dd,ce,{})}}function Sl(n){let e,t;return{c(){e=O("span"),t=Pe(n[1]),E(e,"class","label svelte-zmwudg")},m(r,i){L(r,e,i),j(e,t)},p(r,i){i&2&&et(t,r[1])},d(r){r&&N(e)}}}function Fd(n){let e,t,r,i,l,s,a=n[1]&&Sl(n);return{c(){e=O("div"),a&&a.c(),t=$(),r=O("input"),E(r,"class","input svelte-zmwudg"),r.disabled=i=n[2]?"disabled":null,E(r,"autocomplete","off"),E(r,"spellcheck","false"),E(e,"class","input-container svelte-zmwudg"),W(e,"disabled",n[2])},m(o,u){L(o,e,u),a&&a.m(e,null),j(e,t),j(e,r),n[12](r),Bt(r,n[0]),l||(s=[be(r,"input",n[13]),be(r,"change",n[6]),be(r,"input",n[5]),be(r,"keypress",n[4]),be(r,"keydown",n[9]),be(r,"focus",n[10]),be(r,"blur",n[11])],l=!0)},p(o,[u]){o[1]?a?a.p(o,u):(a=Sl(o),a.c(),a.m(e,t)):a&&(a.d(1),a=null),u&4&&i!==(i=o[2]?"disabled":null)&&(r.disabled=i),u&1&&r.value!==o[0]&&Bt(r,o[0]),u&4&&W(e,"disabled",o[2])},i:ae,o:ae,d(o){o&&N(e),a&&a.d(),n[12](null),l=!1,tt(s)}}}function jd(n,e,t){let{label:r=null}=e,{value:i}=e,{disabled:l=!1}=e,{context:s=null}=e,{key:a=""}=e,o;const u=at();function c(w){w.key==="Enter"&&o.blur()}function f(w){u("input",w.currentTarget.value)}function d(w){u("change",w.currentTarget.value)}function m(w){st.call(this,n,w)}function h(w){st.call(this,n,w)}function _(w){st.call(this,n,w)}function g(w){Ae[w?"unshift":"push"](()=>{o=w,t(3,o)})}function p(){i=this.value,t(0,i)}return n.$$set=w=>{"label"in w&&t(1,r=w.label),"value"in w&&t(0,i=w.value),"disabled"in w&&t(2,l=w.disabled),"context"in w&&t(7,s=w.context),"key"in w&&t(8,a=w.key)},[i,r,l,o,c,f,d,s,a,m,h,_,g,p]}class Ii extends he{constructor(e){super(),de(this,e,jd,Fd,ce,{label:1,value:0,disabled:2,context:7,key:8})}}function Hd(n){let e,t,r,i,l;return{c(){e=O("div"),t=O("div"),E(t,"class","fill svelte-2511s5"),fe(t,"--progress",n[1]),fe(t,"--opacity",n[4]),E(e,"class",r="progress "+(n[3]?"dragging":"")+" svelte-2511s5"),W(e,"disabled",n[0])},m(s,a){L(s,e,a),j(e,t),n[12](e),i||(l=be(e,"mousedown",n[5]),i=!0)},p(s,[a]){a&2&&fe(t,"--progress",s[1]),a&16&&fe(t,"--opacity",s[4]),a&8&&r!==(r="progress "+(s[3]?"dragging":"")+" svelte-2511s5")&&E(e,"class",r),a&9&&W(e,"disabled",s[0])},i:ae,o:ae,d(s){s&&N(e),n[12](null),i=!1,l()}}}function Vd(n,e,t){let r,i,{value:l}=e,{min:s}=e,{max:a}=e,{step:o}=e,{context:u=null}=e,{key:c=""}=e,{disabled:f=!1}=e,d,m;const h=at();let _=!1;function g(T){document.addEventListener("mousemove",p),document.addEventListener("mouseup",I),m=d.getBoundingClientRect(),t(3,_=!0),w(T)}function p(T){w(T)}function w(T){let C=Nt($e(T.clientX,m.left,m.right,s,a),s,a);C=Zr(C,o),C!==l&&h("change",C)}function I(){document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",I),t(3,_=!1)}function k(T){Ae[T?"unshift":"push"](()=>{d=T,t(2,d)})}return n.$$set=T=>{"value"in T&&t(6,l=T.value),"min"in T&&t(7,s=T.min),"max"in T&&t(8,a=T.max),"step"in T&&t(9,o=T.step),"context"in T&&t(10,u=T.context),"key"in T&&t(11,c=T.key),"disabled"in T&&t(0,f=T.disabled)},n.$$.update=()=>{n.$$.dirty&448&&t(1,r=Nt($e(l,s,a,0,1),1e-4,1)),n.$$.dirty&2&&t(4,i=r>0?1:0)},[f,r,d,_,i,g,l,s,a,o,u,c,k]}class Gd extends he{constructor(e){super(),de(this,e,Vd,Hd,ce,{value:6,min:7,max:8,step:9,context:10,key:11,disabled:0})}}function Wd(n){let e,t,r;function i(s){n[20](s)}let l={label:n[0],disabled:n[4],context:n[5],key:n[6]};return n[8]!==void 0&&(l.value=n[8]),e=new Ii({props:l}),Ae.push(()=>lt(e,"value",i)),e.$on("keydown",n[12]),e.$on("focus",n[10]),e.$on("blur",n[11]),{c(){D(e.$$.fragment)},m(s,a){z(e,s,a),r=!0},p(s,a){const o={};a&1&&(o.label=s[0]),a&16&&(o.disabled=s[4]),a&32&&(o.context=s[5]),a&64&&(o.key=s[6]),!t&&a&256&&(t=!0,o.value=s[8],it(()=>t=!1)),e.$set(o)},i(s){r||(v(e.$$.fragment,s),r=!0)},o(s){A(e.$$.fragment,s),r=!1},d(s){P(e,s)}}}function qd(n){let e,t,r;return e=new dn({props:{$$slots:{default:[Kd]},$$scope:{ctx:n}}}),{c(){t=O("div"),D(e.$$.fragment),fe(t,"display","contents"),fe(t,"--grid-template-columns","1fr 0.5fr")},m(i,l){L(i,t,l),z(e,t,null),r=!0},p(i,l){const s={};l&8389119&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){r||(v(e.$$.fragment,i),r=!0)},o(i){A(e.$$.fragment,i),r=!1},d(i){i&&e&&N(t),P(e,i)}}}function Kd(n){let e,t,r,i,l;e=new Gd({props:{step:n[1],value:n[7],min:n[2],max:n[3],context:n[5],disabled:n[4],key:n[6]}}),e.$on("change",n[13]);function s(o){n[19](o)}let a={label:n[0],disabled:n[4],context:n[5],key:n[6]};return n[8]!==void 0&&(a.value=n[8]),r=new Ii({props:a}),Ae.push(()=>lt(r,"value",s)),r.$on("keydown",n[12]),r.$on("focus",n[10]),r.$on("blur",n[11]),{c(){D(e.$$.fragment),t=$(),D(r.$$.fragment)},m(o,u){z(e,o,u),L(o,t,u),z(r,o,u),l=!0},p(o,u){const c={};u&2&&(c.step=o[1]),u&128&&(c.value=o[7]),u&4&&(c.min=o[2]),u&8&&(c.max=o[3]),u&32&&(c.context=o[5]),u&16&&(c.disabled=o[4]),u&64&&(c.key=o[6]),e.$set(c);const f={};u&1&&(f.label=o[0]),u&16&&(f.disabled=o[4]),u&32&&(f.context=o[5]),u&64&&(f.key=o[6]),!i&&u&256&&(i=!0,f.value=o[8],it(()=>i=!1)),r.$set(f)},i(o){l||(v(e.$$.fragment,o),v(r.$$.fragment,o),l=!0)},o(o){A(e.$$.fragment,o),A(r.$$.fragment,o),l=!1},d(o){o&&N(t),P(e,o),P(r,o)}}}function Yd(n){let e,t,r,i,l;const s=[qd,Wd],a=[];function o(u,c){return u[9]?0:1}return t=o(n),r=a[t]=s[t](n),{c(){e=O("div"),r.c(),E(e,"class",i="number-input "+(n[9]?"number-input--with-progress":"")+" svelte-1f5jjmc")},m(u,c){L(u,e,c),a[t].m(e,null),l=!0},p(u,[c]){let f=t;t=o(u),t===f?a[t].p(u,c):(me(),A(a[f],1,1,()=>{a[f]=null}),ge(),r=a[t],r?r.p(u,c):(r=a[t]=s[t](u),r.c()),v(r,1),r.m(e,null)),(!l||c&512&&i!==(i="number-input "+(u[9]?"number-input--with-progress":"")+" svelte-1f5jjmc"))&&E(e,"class",i)},i(u){l||(v(r),l=!0)},o(u){A(r),l=!1},d(u){u&&N(e),a[t].d()}}}function Tl(n,e){return Number(e&&e!==""?n.split(e)[0]:n)}function Xd(n,e,t){let r,i,l,s,a,{value:o=null}=e,{label:u=""}=e,{step:c=1}=e,{suffix:f=""}=e,{min:d=-1/0}=e,{max:m=1/0}=e,{disabled:h=!1}=e,{context:_=null}=e,{key:g=""}=e,{progress:p=!0}=e;const w=at();function I(G,le,H="",re){const V=Nt(G,isFinite(d)?d:-1/0,isFinite(m)?m:1/0),ee=(typeof c=="number"?Zr(V,c):G).toFixed(re);return le?`${ee}`:`${ee}${H}`}function k(){t(17,i=!0)}function T(G){t(17,i=!1);let le=G.currentTarget.value;isNaN(Number(G.currentTarget.value))&&(le=`${o}`),t(7,s=Tl(le,f)),w("change",s)}function C(G){if([38,40].includes(G.keyCode)){G.preventDefault();const le=zs.getStepFromEvent(G)*c,H=G.keyCode===38?1:-1,re=Tl(a,f)+H*le;t(7,s=re),w("change",s)}}function M(G){t(7,s=G.detail),w("change",G.detail)}function R(G){a=G,t(8,a),t(7,s),t(17,i),t(15,f),t(18,l),t(14,o),t(1,c)}function U(G){a=G,t(8,a),t(7,s),t(17,i),t(15,f),t(18,l),t(14,o),t(1,c)}return n.$$set=G=>{"value"in G&&t(14,o=G.value),"label"in G&&t(0,u=G.label),"step"in G&&t(1,c=G.step),"suffix"in G&&t(15,f=G.suffix),"min"in G&&t(2,d=G.min),"max"in G&&t(3,m=G.max),"disabled"in G&&t(4,h=G.disabled),"context"in G&&t(5,_=G.context),"key"in G&&t(6,g=G.key),"progress"in G&&t(16,p=G.progress)},n.$$.update=()=>{var G;n.$$.dirty&65548&&t(9,r=p&&isFinite(d)&&isFinite(m)),n.$$.dirty&2&&t(18,l=((G=c.toString().split(".")[1])==null?void 0:G.length)||0),n.$$.dirty&16384&&t(7,s=o),n.$$.dirty&426112&&t(8,a=I(s,i,f,l))},t(17,i=!1),[u,c,d,m,h,_,g,s,a,r,k,T,C,M,o,f,p,i,l,R,U]}class xn extends he{constructor(e){super(),de(this,e,Xd,Yd,ce,{value:14,label:0,step:1,suffix:15,min:2,max:3,disabled:4,context:5,key:6,progress:16})}}function Jd(n){let e,t,r,i,l,s,a,o,u,c,f,d,m,h,_,g,p;function w(C){n[16](C)}let I={label:n[1],disabled:n[6],context:n[7],key:n[8],suffix:n[3],step:n[2],min:n[4],max:n[5],progress:!1};n[0][0]!==void 0&&(I.value=n[0][0]),c=new xn({props:I}),Ae.push(()=>lt(c,"value",w)),c.$on("change",n[17]);function k(C){n[18](C)}let T={label:n[1],disabled:n[6],context:n[7],key:n[8],suffix:n[3],step:n[2],min:n[4],max:n[5],progress:!1};return n[0][1]!==void 0&&(T.value=n[0][1]),m=new xn({props:T}),Ae.push(()=>lt(m,"value",k)),m.$on("change",n[19]),{c(){e=O("div"),t=O("div"),r=$(),i=O("div"),l=$(),s=O("div"),o=$(),u=O("div"),D(c.$$.fragment),d=$(),D(m.$$.fragment),E(t,"class","handler svelte-1a2p7ed"),fe(t,"--position",n[12]),E(i,"class","filler svelte-1a2p7ed"),fe(i,"--p1",n[12]),fe(i,"--p2",n[11]),E(s,"class","handler svelte-1a2p7ed"),fe(s,"--position",n[11]),E(e,"class",a="range "+(n[10]?"dragging":"")+" svelte-1a2p7ed"),E(u,"class","numbers svelte-1a2p7ed")},m(C,M){L(C,e,M),j(e,t),j(e,r),j(e,i),j(e,l),j(e,s),n[15](e),L(C,o,M),L(C,u,M),z(c,u,null),j(u,d),z(m,u,null),_=!0,g||(p=be(e,"mousedown",n[13]),g=!0)},p(C,M){(!_||M&4096)&&fe(t,"--position",C[12]),(!_||M&4096)&&fe(i,"--p1",C[12]),(!_||M&2048)&&fe(i,"--p2",C[11]),(!_||M&2048)&&fe(s,"--position",C[11]),(!_||M&1024&&a!==(a="range "+(C[10]?"dragging":"")+" svelte-1a2p7ed"))&&E(e,"class",a);const R={};M&2&&(R.label=C[1]),M&64&&(R.disabled=C[6]),M&128&&(R.context=C[7]),M&256&&(R.key=C[8]),M&8&&(R.suffix=C[3]),M&4&&(R.step=C[2]),M&16&&(R.min=C[4]),M&32&&(R.max=C[5]),!f&&M&1&&(f=!0,R.value=C[0][0],it(()=>f=!1)),c.$set(R);const U={};M&2&&(U.label=C[1]),M&64&&(U.disabled=C[6]),M&128&&(U.context=C[7]),M&256&&(U.key=C[8]),M&8&&(U.suffix=C[3]),M&4&&(U.step=C[2]),M&16&&(U.min=C[4]),M&32&&(U.max=C[5]),!h&&M&1&&(h=!0,U.value=C[0][1],it(()=>h=!1)),m.$set(U)},i(C){_||(v(c.$$.fragment,C),v(m.$$.fragment,C),_=!0)},o(C){A(c.$$.fragment,C),A(m.$$.fragment,C),_=!1},d(C){C&&(N(e),N(o),N(u)),n[15](null),P(c),P(m),g=!1,p()}}}function Qd(n){let e,t,r,i;return t=new dn({props:{$$slots:{default:[Jd]},$$scope:{ctx:n}}}),{c(){e=O("div"),r=O("div"),D(t.$$.fragment),fe(r,"display","contents"),fe(r,"--grid-template-columns","1fr 0.5fr"),E(e,"class","interval-input svelte-1a2p7ed"),W(e,"disabled",n[6])},m(l,s){L(l,e,s),j(e,r),z(t,r,null),i=!0},p(l,[s]){const a={};s&134225919&&(a.$$scope={dirty:s,ctx:l}),t.$set(a),(!i||s&64)&&W(e,"disabled",l[6])},i(l){i||(v(t.$$.fragment,l),i=!0)},o(l){A(t.$$.fragment,l),i=!1},d(l){l&&N(e),P(t)}}}function Zd(n,e,t){let r,i,{value:l=null}=e,{label:s=""}=e,{step:a=1}=e,{suffix:o=""}=e,{min:u=-1/0}=e,{max:c=1/0}=e,{disabled:f=!1}=e,{context:d=null}=e,{key:m=""}=e,h=at(),_,g,p=!1,w=-1;function I(V){document.body.style.userSelect="none",document.addEventListener("mousemove",T),document.addEventListener("mouseup",M),g=_.getBoundingClientRect(),t(10,p=!0);let X=k(V),ee=Math.abs(X-u),oe=Math.abs(X-c);w=ee<oe?0:1,C(V)}function k(V){let X=Nt($e(V.clientX,g.left,g.right,u,c),u,c);return X=Zr(X,a),X}function T(V){C(V)}function C(V){let X=k(V),ee=l[w];if(X!==ee){let oe=[w===0?X:Math.min(X,l[0]),w===1?X:Math.max(X,l[1])];t(0,l[0]=oe[0],l),t(0,l[1]=oe[1],l),h("change",l)}}function M(){document.body.style.userSelect=null,document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",M),t(10,p=!1)}function R(V,X){t(0,l[V]=X,l),h("change",l)}function U(V){Ae[V?"unshift":"push"](()=>{_=V,t(9,_)})}function G(V){n.$$.not_equal(l[0],V)&&(l[0]=V,t(0,l))}const le=V=>R(0,V.detail);function H(V){n.$$.not_equal(l[1],V)&&(l[1]=V,t(0,l))}const re=V=>R(1,V.detail);return n.$$set=V=>{"value"in V&&t(0,l=V.value),"label"in V&&t(1,s=V.label),"step"in V&&t(2,a=V.step),"suffix"in V&&t(3,o=V.suffix),"min"in V&&t(4,u=V.min),"max"in V&&t(5,c=V.max),"disabled"in V&&t(6,f=V.disabled),"context"in V&&t(7,d=V.context),"key"in V&&t(8,m=V.key)},n.$$.update=()=>{n.$$.dirty&305&&(l[0]>l[1]&&console.warn(`Values provided for ${m} are in the wrong order. `),l.forEach((V,X)=>{(V<u||V>c)&&console.warn(`Value provided for ${m} at index ${X} is out of range [${u}:${c}]: ${V}`)})),n.$$.dirty&49&&t(12,r=$e(Nt(l[0],u,c),u,c,0,1)),n.$$.dirty&49&&t(11,i=$e(Nt(l[1],u,c),u,c,0,1))},[l,s,a,o,u,c,f,d,m,_,p,i,r,I,R,U,G,le,H,re]}class $d extends he{constructor(e){super(),de(this,e,Zd,Qd,ce,{value:0,label:1,step:2,suffix:3,min:4,max:5,disabled:6,context:7,key:8})}}function xd(n,{id:e=n,img:t=new Image}={}){return new Promise((r,i)=>{function l(){t.removeEventListener("load",l),r(t)}function s(a){t.removeEventListener("load",l),t.removeEventListener("error",s),i(a)}t.addEventListener("load",l),t.addEventListener("error",s),t.src=n})}function eh(n){let e,t,r,i;function l(a){n[5](a)}let s={context:n[3],key:n[4],label:n[1],disabled:n[2]};return n[0]!==void 0&&(s.value=n[0]),t=new Ii({props:s}),Ae.push(()=>lt(t,"value",l)),t.$on("change",n[6]),t.$on("input",n[7]),{c(){e=O("div"),D(t.$$.fragment),E(e,"class","text-input svelte-1sgnexs")},m(a,o){L(a,e,o),z(t,e,null),i=!0},p(a,[o]){const u={};o&8&&(u.context=a[3]),o&16&&(u.key=a[4]),o&2&&(u.label=a[1]),o&4&&(u.disabled=a[2]),!r&&o&1&&(r=!0,u.value=a[0],it(()=>r=!1)),t.$set(u)},i(a){i||(v(t.$$.fragment,a),i=!0)},o(a){A(t.$$.fragment,a),i=!1},d(a){a&&N(e),P(t)}}}function th(n,e,t){let{value:r}=e,{label:i=""}=e,{disabled:l=!1}=e,{context:s=null}=e,{key:a=""}=e;function o(f){r=f,t(0,r)}function u(f){st.call(this,n,f)}function c(f){st.call(this,n,f)}return n.$$set=f=>{"value"in f&&t(0,r=f.value),"label"in f&&t(1,i=f.label),"disabled"in f&&t(2,l=f.disabled),"context"in f&&t(3,s=f.context),"key"in f&&t(4,a=f.key)},[r,i,l,s,a,o,u,c]}class Cn extends he{constructor(e){super(),de(this,e,th,eh,ce,{value:0,label:1,disabled:2,context:3,key:4})}}function nh(n){let e,t,r,i,l,s,a,o,u,c,f,d,m,h;return u=new Cn({props:{disabled:!0,value:n[4]}}),f=new Lt({props:{label:"change",disabled:n[0]}}),f.$on("click",n[5]),f.$on("dragover",n[7]),f.$on("dragleave",n[8]),f.$on("drop",n[6]),{c(){e=O("div"),t=O("div"),r=O("img"),l=$(),s=O("input"),o=$(),D(u.$$.fragment),c=$(),D(f.$$.fragment),E(r,"class","img svelte-y9gpox"),Aa(r.src,i="")||E(r,"src",i),E(r,"alt",""),E(s,"class","input svelte-y9gpox"),E(s,"type","file"),s.disabled=a=n[0]?"disabled":null,E(t,"class","preview svelte-y9gpox"),E(e,"class","row svelte-y9gpox")},m(_,g){L(_,e,g),j(e,t),j(t,r),n[14](r),j(t,l),j(t,s),n[15](s),j(e,o),z(u,e,null),L(_,c,g),z(f,_,g),d=!0,m||(h=[be(s,"change",n[6]),be(t,"click",n[5])],m=!0)},p(_,g){(!d||g&1&&a!==(a=_[0]?"disabled":null))&&(s.disabled=a);const p={};g&16&&(p.value=_[4]),u.$set(p);const w={};g&1&&(w.disabled=_[0]),f.$set(w)},i(_){d||(v(u.$$.fragment,_),v(f.$$.fragment,_),d=!0)},o(_){A(u.$$.fragment,_),A(f.$$.fragment,_),d=!1},d(_){_&&(N(e),N(c)),n[14](null),n[15](null),P(u),P(f,_),m=!1,tt(h)}}}function rh(n){let e,t,r,i,l,s;return t=new dn({props:{$$slots:{default:[nh]},$$scope:{ctx:n}}}),{c(){e=O("div"),r=O("div"),D(t.$$.fragment),fe(r,"display","contents"),fe(r,"--grid-template-columns","1fr 0.5fr"),E(e,"class","img-container svelte-y9gpox"),W(e,"dragover",n[3])},m(a,o){L(a,e,o),j(e,r),z(t,r,null),i=!0,l||(s=[be(e,"dragover",n[7]),be(e,"dragleave",n[8]),be(e,"drop",n[6])],l=!0)},p(a,[o]){const u={};o&131095&&(u.$$scope={dirty:o,ctx:a}),t.$set(u),(!i||o&8)&&W(e,"dragover",a[3])},i(a){i||(v(t.$$.fragment,a),i=!0)},o(a){A(t.$$.fragment,a),i=!1},d(a){a&&N(e),P(t),l=!1,tt(s)}}}function ih(n,e,t){let r,i,{value:l}=e,{context:s=null}=e,{key:a=""}=e,{disabled:o=!1}=e,u,c,f;function d(){c.click()}let m=new FileReader,h=!1;function _(k){k.preventDefault(),k.stopPropagation();let T;k.dataTransfer?T=k.dataTransfer.files[0]:k.target&&(T=k.target.files[0]),t(12,f=T.name),m.onload=async C=>{m.onload=null,t(9,l=C.target.result)},m.readAsDataURL(T),t(3,h=!1)}function g(k){k.preventDefault(),k.stopPropagation(),t(3,h=!0)}function p(k){k.preventDefault(),k.stopPropagation(),t(3,h=!1)}function w(k){Ae[k?"unshift":"push"](()=>{u=k,t(1,u)})}function I(k){Ae[k?"unshift":"push"](()=>{c=k,t(2,c)})}return n.$$set=k=>{"value"in k&&t(9,l=k.value),"context"in k&&t(10,s=k.context),"key"in k&&t(11,a=k.key),"disabled"in k&&t(0,o=k.disabled)},n.$$.update=()=>{n.$$.dirty&512&&t(13,r=typeof l===HTMLImageElement?l.src:l),n.$$.dirty&12288&&t(4,i=f||r.replace("/@fsC:\\laragon\\www\\kikk-24-generator","")),n.$$.dirty&8194&&(async()=>await xd(r,{img:u}))()},[o,u,c,h,i,d,_,g,p,l,s,a,f,r,w,I]}class lh extends he{constructor(e){super(),de(this,e,ih,rh,ce,{value:9,context:10,key:11,disabled:0})}}function Cl(n,e,t){const r=n.slice();return r[6]=e[t],r[8]=t,r}function sh(n){let e,t=n[6]+"",r;return{c(){e=O("button"),r=Pe(t),E(e,"class","label svelte-1kzc0hm")},m(i,l){L(i,e,l),j(e,r)},p(i,l){l&2&&t!==(t=i[6]+"")&&et(r,t)},d(i){i&&N(e)}}}function oh(n){let e,t=n[6]+"",r;return{c(){e=O("span"),r=Pe(t),E(e,"class","label svelte-1kzc0hm")},m(i,l){L(i,e,l),j(e,r)},p(i,l){l&2&&t!==(t=i[6]+"")&&et(r,t)},d(i){i&&N(e)}}}function Rl(n){let e,t;function r(s,a){return s[0]?oh:sh}let i=r(n),l=i(n);return{c(){e=O("li"),l.c(),t=$(),E(e,"class","item svelte-1kzc0hm")},m(s,a){L(s,e,a),l.m(e,null),j(e,t)},p(s,a){i===(i=r(s))&&l?l.p(s,a):(l.d(1),l=i(s),l&&(l.c(),l.m(e,t)))},d(s){s&&N(e),l.d()}}}function ah(n){let e,t,r,i=Fe(n[1]),l=[];for(let s=0;s<i.length;s+=1)l[s]=Rl(Cl(n,i,s));return{c(){e=O("div"),t=O("div"),r=O("ul");for(let s=0;s<l.length;s+=1)l[s].c();E(r,"class","ul svelte-1kzc0hm"),E(t,"class","container svelte-1kzc0hm"),E(e,"class","list svelte-1kzc0hm"),W(e,"disabled",n[0])},m(s,a){L(s,e,a),j(e,t),j(t,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(r,null);n[5](t)},p(s,[a]){if(a&3){i=Fe(s[1]);let o;for(o=0;o<i.length;o+=1){const u=Cl(s,i,o);l[o]?l[o].p(u,a):(l[o]=Rl(u),l[o].c(),l[o].m(r,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=i.length}a&1&&W(e,"disabled",s[0])},i:ae,o:ae,d(s){s&&N(e),Wt(l,s),n[5](null)}}}function uh(n,e,t){let{disabled:r}=e,{value:i=null}=e,{context:l=null}=e,{key:s=""}=e,a;Ma(()=>{a.scrollTo(0,a.scrollHeight)});function o(u){Ae[u?"unshift":"push"](()=>{a=u,t(2,a)})}return n.$$set=u=>{"disabled"in u&&t(0,r=u.disabled),"value"in u&&t(1,i=u.value),"context"in u&&t(3,l=u.context),"key"in u&&t(4,s=u.key)},[r,i,a,l,s,o]}class fh extends he{constructor(e){super(),de(this,e,uh,ah,ce,{disabled:0,value:1,context:3,key:4})}}function Il(n){let e,t,r,i,l,s,a;return{c(){e=Ve("svg"),t=Ve("pattern"),r=Ve("rect"),i=Ve("rect"),l=Ve("rect"),s=Ve("rect"),a=Ve("rect"),E(r,"fill","white"),E(r,"x","0"),E(r,"width","3.6"),E(r,"height","3.6"),E(r,"y","0"),E(i,"fill","grey"),E(i,"x","3.6"),E(i,"width","3.6"),E(i,"height","3.6"),E(i,"y","0"),E(l,"fill","white"),E(l,"x","3.6"),E(l,"width","3.6"),E(l,"height","3.6"),E(l,"y","3.6"),E(s,"fill","grey"),E(s,"x","0"),E(s,"width","3.6"),E(s,"height","3.6"),E(s,"y","3.6"),E(t,"id","checker"),E(t,"x","0"),E(t,"y","0"),E(t,"width","7.2"),E(t,"height","7.2"),E(t,"patternUnits","userSpaceOnUse"),E(a,"x","0"),E(a,"y","0"),E(a,"width","100%"),E(a,"height","100%"),E(a,"fill","url(#checker)"),E(e,"width","calc(100% - 2px)"),E(e,"height","calc(100% - 2px)"),E(e,"class","alpha-svg svelte-11ifrqz")},m(o,u){L(o,e,u),j(e,t),j(t,r),j(t,i),j(t,l),j(t,s),j(e,a)},d(o){o&&N(e)}}}function Ml(n){let e,t;return e=new xe({props:{key:`${n[1]}.alpha`,value:n[6],params:{label:"alpha",min:0,max:1,step:.01},context:n[0]}}),e.$on("change",n[9]),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&2&&(l.key=`${r[1]}.alpha`),i&64&&(l.value=r[6]),i&1&&(l.context=r[0]),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function ch(n){let e,t,r,i,l,s,a,o,u,c,f,d,m,h=n[3]&&Il();function _(w){n[14](w)}let g={context:n[0],key:n[1],disabled:n[2]};n[5]!==void 0&&(g.value=n[5]),o=new Cn({props:g}),Ae.push(()=>lt(o,"value",_)),o.$on("change",n[8]);let p=n[3]&&Ml(n);return{c(){e=O("div"),t=O("div"),r=O("div"),h&&h.c(),i=$(),l=O("input"),a=$(),D(o.$$.fragment),c=$(),p&&p.c(),E(l,"class","input svelte-11ifrqz"),E(l,"type","color"),l.disabled=s=n[2]?"disabled":null,E(r,"class","mirror svelte-11ifrqz"),fe(r,"--currentColor",n[4]),fe(r,"--opacity",n[6]),E(t,"class","layout svelte-11ifrqz"),E(e,"class","color-input svelte-11ifrqz"),W(e,"disabled",n[2])},m(w,I){L(w,e,I),j(e,t),j(t,r),h&&h.m(r,null),j(r,i),j(r,l),Bt(l,n[4]),j(t,a),z(o,t,null),j(e,c),p&&p.m(e,null),f=!0,d||(m=[be(l,"input",n[13]),be(l,"blur",n[7]),be(l,"input",n[10])],d=!0)},p(w,[I]){w[3]?h||(h=Il(),h.c(),h.m(r,i)):h&&(h.d(1),h=null),(!f||I&4&&s!==(s=w[2]?"disabled":null))&&(l.disabled=s),I&16&&Bt(l,w[4]),(!f||I&16)&&fe(r,"--currentColor",w[4]),(!f||I&64)&&fe(r,"--opacity",w[6]);const k={};I&1&&(k.context=w[0]),I&2&&(k.key=w[1]),I&4&&(k.disabled=w[2]),!u&&I&32&&(u=!0,k.value=w[5],it(()=>u=!1)),o.$set(k),w[3]?p?(p.p(w,I),I&8&&v(p,1)):(p=Ml(w),p.c(),v(p,1),p.m(e,null)):p&&(me(),A(p,1,1,()=>{p=null}),ge()),(!f||I&4)&&W(e,"disabled",w[2])},i(w){f||(v(o.$$.fragment,w),v(p),f=!0)},o(w){A(o.$$.fragment,w),A(p),f=!1},d(w){w&&N(e),h&&h.d(),P(o),p&&p.d(),d=!1,tt(m)}}}function dh(n,e,t){let r,i,l,s,a,{value:o}=e,{context:u=null}=e,{key:c=""}=e,{disabled:f=!1}=e;const d=at();function m(){const[k,T,C]=Gn(i);switch(r){case Z.VEC3_ARRAY:t(11,o[0]=k,o),t(11,o[1]=T,o),t(11,o[2]=C,o),d("change",o);break;case Z.VEC4_ARRAY:t(11,o[0]=k,o),t(11,o[1]=T,o),t(11,o[2]=C,o),t(11,o[3]=s,o),d("change",o);break;case Z.THREE:case Z.RGB_OBJECT:t(11,o.r=k,o),t(11,o.g=T,o),t(11,o.b=C,o),d("change",o);break;case Z.RGBA_OBJECT:t(11,o.r=k,o),t(11,o.g=T,o),t(11,o.b=C,o),t(11,o.a=s,o),d("change",o);break;default:d("change",l)}}function h(){m()}function _(k){const T=k.detail;No(T)?t(5,l=T):t(5,l=Lr(o,r)),t(4,i=El(l)),m()}function g(k){t(6,s=k.detail);const[T,C,M]=Gn(i);switch(r){case Z.RGBA_STRING:case Z.RGBA_OBJECT:t(5,l=$n([T,C,M,s]));break;case Z.VEC4_STRING:t(5,l=Al([T,C,M,s]));break;case Z.HSLA_STRING:const[R,U,G]=bo(l);t(5,l=vo([R,U,G,s]));break}m()}function p(k){t(4,i=k.currentTarget.value);const[T,C,M]=Gn(i);switch(r){case Z.RGBA_STRING:case Z.RGBA_OBJECT:t(5,l=Sd({r:T,g:C,b:M,a:s}));break;case Z.VEC3_STRING:t(5,l=Ed([T,C,M]));break;case Z.VEC4_STRING:t(5,l=Al([T,C,M,s]));break;case Z.RGB_STRING:case Z.RGB_OBJECT:t(5,l=Ad(i));break;case Z.HSL_STRING:t(5,l=Cd([T,C,M]));break;case Z.HSLA_STRING:t(5,l=Rd([T,C,M,s]));break;default:t(5,l=Lr(i));break}m()}function w(){i=this.value,t(4,i),t(11,o),t(12,r)}function I(k){l=k,t(5,l),t(11,o),t(12,r)}return n.$$set=k=>{"value"in k&&t(11,o=k.value),"context"in k&&t(0,u=k.context),"key"in k&&t(1,c=k.key),"disabled"in k&&t(2,f=k.disabled)},n.$$.update=()=>{if(n.$$.dirty&2048&&t(12,r=mr(o)),n.$$.dirty&6144&&t(4,i=El(o,r)),n.$$.dirty&6144&&t(5,l=Lr(o,r)),n.$$.dirty&4096&&t(3,a=[Z.RGBA_STRING,Z.VEC4_STRING,Z.VEC4_ARRAY,Z.RGBA_OBJECT,Z.HSLA_STRING].includes(r)),n.$$.dirty&2056)if(a){const[k,T,C,M=1]=Si(o);t(6,s=M)}else t(6,s=1)},t(6,s=1),[u,c,f,a,i,l,s,h,_,g,p,o,r,w,I]}class hh extends he{constructor(e){super(),de(this,e,dh,ch,ce,{value:11,context:0,key:1,disabled:2})}}function Nl(n,e,t){const r=n.slice();return r[17]=e[t],r[19]=t,r}function Bl(n){let e,t;function r(...i){return n[14](n[19],...i)}return e=new xn({props:{min:n[1],max:n[2],step:n[3],suffix:n[0],disabled:n[5],context:n[6],key:n[7],label:n[9][n[19]],value:n[17]}}),e.$on("change",r),{c(){D(e.$$.fragment)},m(i,l){z(e,i,l),t=!0},p(i,l){n=i;const s={};l&2&&(s.min=n[1]),l&4&&(s.max=n[2]),l&8&&(s.step=n[3]),l&1&&(s.suffix=n[0]),l&32&&(s.disabled=n[5]),l&64&&(s.context=n[6]),l&128&&(s.key=n[7]),l&512&&(s.label=n[9][n[19]]),l&256&&(s.value=n[17]),e.$set(s)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){A(e.$$.fragment,i),t=!1},d(i){P(e,i)}}}function mh(n){let e,t,r=Fe(n[8]),i=[];for(let s=0;s<r.length;s+=1)i[s]=Bl(Nl(n,r,s));const l=s=>A(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Me()},m(s,a){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(s,a);L(s,e,a),t=!0},p(s,a){if(a&2031){r=Fe(s[8]);let o;for(o=0;o<r.length;o+=1){const u=Nl(s,r,o);i[o]?(i[o].p(u,a),v(i[o],1)):(i[o]=Bl(u),i[o].c(),v(i[o],1),i[o].m(e.parentNode,e))}for(me(),o=r.length;o<i.length;o+=1)l(o);ge()}},i(s){if(!t){for(let a=0;a<r.length;a+=1)v(i[a]);t=!0}},o(s){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)A(i[a]);t=!1},d(s){s&&N(e),Wt(i,s)}}}function gh(n){let e,t,r,i,l,s;return t=new dn({props:{$$slots:{default:[mh]},$$scope:{ctx:n}}}),{c(){e=O("div"),r=O("div"),D(t.$$.fragment),fe(r,"display","contents"),fe(r,"--grid-template-columns",i=n[8].map(Ll).join(" ")),E(e,"class",l="vector-container vec"+n[8].length+" svelte-j2y37l"),W(e,"locked",n[4])},m(a,o){L(a,e,o),j(e,r),z(t,r,null),s=!0},p(a,[o]){o&256&&i!==(i=a[8].map(Ll).join(" "))&&fe(r,"--grid-template-columns",i);const u={};o&1049583&&(u.$$scope={dirty:o,ctx:a}),t.$set(u),(!s||o&256&&l!==(l="vector-container vec"+a[8].length+" svelte-j2y37l"))&&E(e,"class",l),(!s||o&272)&&W(e,"locked",a[4])},i(a){s||(v(t.$$.fragment,a),s=!0)},o(a){A(t.$$.fragment,a),s=!1},d(a){a&&N(e),P(t)}}}const Ll=()=>"1fr";function ph(n,e,t){let r,i,l,s,{value:a}=e,{suffix:o=""}=e,{min:u=-1/0}=e,{max:c=1/0}=e,{step:f=.1}=e,{locked:d=!1}=e,{disabled:m=!1}=e,{context:h=null}=e,{key:_=""}=e;const g=at();function p(){let k=!1;for(let T=0;T<l.length;T++){const C=r?T:s[T];a[C]!==l[T]&&(t(11,a[C]=l[T],a),k=!0)}k&&g("change",a)}function w(k,T){let C=k/l[T];isFinite(C)||(C=1),t(8,l=l.map((M,R)=>R===T?k:d?Math.round(M*C*(1/f))/(1/f):M)),p()}const I=(k,T)=>w(T.detail,k);return n.$$set=k=>{"value"in k&&t(11,a=k.value),"suffix"in k&&t(0,o=k.suffix),"min"in k&&t(1,u=k.min),"max"in k&&t(2,c=k.max),"step"in k&&t(3,f=k.step),"locked"in k&&t(4,d=k.locked),"disabled"in k&&t(5,m=k.disabled),"context"in k&&t(6,h=k.context),"key"in k&&t(7,_=k.key)},n.$$.update=()=>{n.$$.dirty&2048&&t(12,r=Array.isArray(a)),n.$$.dirty&6144&&t(13,i=!r&&typeof a=="object"),n.$$.dirty&10240&&t(8,l=i?Object.values(a):a),n.$$.dirty&10240&&t(9,s=i?Object.keys(a):a.map(()=>{}))},[o,u,c,f,d,m,h,_,l,s,w,a,r,i,I]}class _h extends he{constructor(e){super(),de(this,e,ph,gh,ce,{value:11,suffix:0,min:1,max:2,step:3,locked:4,disabled:5,context:6,key:7})}}function bh(n){let e,t,r,i,l,s,a;return{c(){e=O("div"),t=O("input"),i=$(),l=O("div"),E(t,"class","input svelte-awgqbc"),E(t,"type","checkbox"),t.disabled=r=n[1]?"disabled":null,E(l,"class","checked svelte-awgqbc"),E(e,"class","checkbox svelte-awgqbc")},m(o,u){L(o,e,u),j(e,t),t.checked=n[0],j(e,i),j(e,l),s||(a=[be(t,"change",n[5]),be(t,"change",n[2])],s=!0)},p(o,[u]){u&2&&r!==(r=o[1]?"disabled":null)&&(t.disabled=r),u&1&&(t.checked=o[0])},i:ae,o:ae,d(o){o&&N(e),s=!1,tt(a)}}}function wh(n,e,t){let{value:r}=e,{context:i=null}=e,{key:l=""}=e,{disabled:s=!1}=e;const a=at();function o(){a("change",r)}function u(){r=this.checked,t(0,r)}return n.$$set=c=>{"value"in c&&t(0,r=c.value),"context"in c&&t(3,i=c.context),"key"in c&&t(4,l=c.key),"disabled"in c&&t(1,s=c.disabled)},[r,s,o,i,l,u]}class yh extends he{constructor(e){super(),de(this,e,wh,bh,ce,{value:0,context:3,key:4,disabled:1})}}const vh=n=>({}),Ol=n=>({});function zl(n){let e;function t(l,s){return l[3]?Eh:kh}let r=t(n),i=r(n);return{c(){i.c(),e=Me()},m(l,s){i.m(l,s),L(l,e,s)},p(l,s){r===(r=t(l))&&i?i.p(l,s):(i.d(1),i=r(l),i&&(i.c(),i.m(e.parentNode,e)))},d(l){l&&N(e),i.d(l)}}}function kh(n){let e,t=(n[4]??n[0])+"",r;return{c(){e=O("span"),r=Pe(t),E(e,"class","field__label svelte-1y14zms")},m(i,l){L(i,e,l),j(e,r)},p(i,l){l&17&&t!==(t=(i[4]??i[0])+"")&&et(r,t)},d(i){i&&N(e)}}}function Eh(n){let e,t=(n[4]??n[0])+"",r,i,l;return{c(){e=O("button"),r=Pe(t),E(e,"class","field__label svelte-1y14zms"),e.disabled=n[5]},m(s,a){L(s,e,a),j(e,r),i||(l=be(e,"click",n[8]),i=!0)},p(s,a){a&17&&t!==(t=(s[4]??s[0])+"")&&et(r,t),a&32&&(e.disabled=s[5])},d(s){s&&N(e),i=!1,l()}}}function Ah(n){let e,t,r,i,l,s,a=n[4]!==null&&zl(n);const o=n[7].infos,u=Ge(o,n,n[6],Ol),c=n[7].default,f=Ge(c,n,n[6],null);return{c(){e=O("div"),t=O("div"),a&&a.c(),r=$(),u&&u.c(),i=$(),l=O("div"),f&&f.c(),E(t,"class","field__infos svelte-1y14zms"),E(l,"class","field__input svelte-1y14zms"),E(e,"class","field__section svelte-1y14zms"),W(e,"visible",n[1]),W(e,"secondary",n[2]),W(e,"nameless",n[4]===null)},m(d,m){L(d,e,m),j(e,t),a&&a.m(t,null),j(t,r),u&&u.m(t,null),j(e,i),j(e,l),f&&f.m(l,null),s=!0},p(d,[m]){d[4]!==null?a?a.p(d,m):(a=zl(d),a.c(),a.m(t,r)):a&&(a.d(1),a=null),u&&u.p&&(!s||m&64)&&qe(u,o,d,d[6],s?We(o,d[6],m,vh):Ke(d[6]),Ol),f&&f.p&&(!s||m&64)&&qe(f,c,d,d[6],s?We(c,d[6],m,null):Ke(d[6]),null),(!s||m&2)&&W(e,"visible",d[1]),(!s||m&4)&&W(e,"secondary",d[2]),(!s||m&16)&&W(e,"nameless",d[4]===null)},i(d){s||(v(u,d),v(f,d),s=!0)},o(d){A(u,d),A(f,d),s=!1},d(d){d&&N(e),a&&a.d(),u&&u.d(d),f&&f.d(d)}}}function Sh(n,e,t){let{$$slots:r={},$$scope:i}=e,{key:l}=e,{visible:s=!0}=e,{secondary:a=!1}=e,{interactive:o=!1}=e,{displayName:u=void 0}=e,{disabled:c=!1}=e;function f(d){st.call(this,n,d)}return n.$$set=d=>{"key"in d&&t(0,l=d.key),"visible"in d&&t(1,s=d.visible),"secondary"in d&&t(2,a=d.secondary),"interactive"in d&&t(3,o=d.interactive),"displayName"in d&&t(4,u=d.displayName),"disabled"in d&&t(5,c=d.disabled),"$$scope"in d&&t(6,i=d.$$scope)},[l,s,a,o,u,c,i,r,f]}class Bo extends he{constructor(e){super(),de(this,e,Sh,Ah,ce,{key:0,visible:1,secondary:2,interactive:3,displayName:4,disabled:5})}}function Pl(n){let e,t,r;function i(s){n[20](s)}let l={options:n[5],disabled:n[0]===void 0};return n[1]!==void 0&&(l.value=n[1]),e=new un({props:l}),Ae.push(()=>lt(e,"value",i)),e.$on("change",n[8]),{c(){D(e.$$.fragment)},m(s,a){z(e,s,a),r=!0},p(s,a){const o={};a&32&&(o.options=s[5]),a&1&&(o.disabled=s[0]===void 0),!t&&a&2&&(t=!0,o.value=s[1],it(()=>t=!1)),e.$set(o)},i(s){r||(v(e.$$.fragment,s),r=!0)},o(s){A(e.$$.fragment,s),r=!1},d(s){P(e,s)}}}function Dl(n){let e,t,r;function i(s){n[21](s)}let l={label:"key"};return n[3]!==void 0&&(l.value=n[3]),e=new Cn({props:l}),Ae.push(()=>lt(e,"value",i)),e.$on("input",n[9]),{c(){D(e.$$.fragment)},m(s,a){z(e,s,a),r=!0},p(s,a){const o={};!t&&a&8&&(t=!0,o.value=s[3],it(()=>t=!1)),e.$set(o)},i(s){r||(v(e.$$.fragment,s),r=!0)},o(s){A(e.$$.fragment,s),r=!1},d(s){P(e,s)}}}function Ul(n){let e,t,r;function i(s){n[22](s)}let l={label:["onNoteOn","onNoteOff"].includes(n[1])?"note":"number"};return n[3]!==void 0&&(l.value=n[3]),e=new Cn({props:l}),Ae.push(()=>lt(e,"value",i)),e.$on("input",n[9]),{c(){D(e.$$.fragment)},m(s,a){z(e,s,a),r=!0},p(s,a){const o={};a&2&&(o.label=["onNoteOn","onNoteOff"].includes(s[1])?"note":"number"),!t&&a&8&&(t=!0,o.value=s[3],it(()=>t=!1)),e.$set(o)},i(s){r||(v(e.$$.fragment,s),r=!0)},o(s){A(e.$$.fragment,s),r=!1},d(s){P(e,s)}}}function Th(n){let e,t;return e=new vs({}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Ch(n){let e,t,r,i,l,s,a,o,u,c,f,d;r=new un({props:{name:"trigger-input",value:n[0],options:n[6]}}),r.$on("change",n[7]);let m=n[0]&&Pl(n),h=n[0]==="Keyboard"&&Dl(n),_=n[0]==="MIDI"&&Ul(n);return o=new Lt({props:{label:"delete",showLabel:!1,$$slots:{default:[Th]},$$scope:{ctx:n}}}),o.$on("click",n[10]),{c(){e=O("button"),t=$(),D(r.$$.fragment),i=$(),m&&m.c(),l=$(),h&&h.c(),s=$(),_&&_.c(),a=$(),u=O("div"),D(o.$$.fragment),E(e,"class","activity svelte-1h798nu"),W(e,"valid",n[4]),W(e,"enabled",n[2]&&n[2].enabled),W(e,"disabled",!n[2]||!n[2].enabled),fe(u,"display","contents"),fe(u,"--color-text","white"),fe(u,"--background-color","var(--color-red)"),fe(u,"--box-shadow-color-active","var(--color-lightred)")},m(g,p){L(g,e,p),L(g,t,p),z(r,g,p),L(g,i,p),m&&m.m(g,p),L(g,l,p),h&&h.m(g,p),L(g,s,p),_&&_.m(g,p),L(g,a,p),L(g,u,p),z(o,u,null),c=!0,f||(d=be(e,"click",n[11]),f=!0)},p(g,p){(!c||p&16)&&W(e,"valid",g[4]),(!c||p&4)&&W(e,"enabled",g[2]&&g[2].enabled),(!c||p&4)&&W(e,"disabled",!g[2]||!g[2].enabled);const w={};p&1&&(w.value=g[0]),p&64&&(w.options=g[6]),r.$set(w),g[0]?m?(m.p(g,p),p&1&&v(m,1)):(m=Pl(g),m.c(),v(m,1),m.m(l.parentNode,l)):m&&(me(),A(m,1,1,()=>{m=null}),ge()),g[0]==="Keyboard"?h?(h.p(g,p),p&1&&v(h,1)):(h=Dl(g),h.c(),v(h,1),h.m(s.parentNode,s)):h&&(me(),A(h,1,1,()=>{h=null}),ge()),g[0]==="MIDI"?_?(_.p(g,p),p&1&&v(_,1)):(_=Ul(g),_.c(),v(_,1),_.m(a.parentNode,a)):_&&(me(),A(_,1,1,()=>{_=null}),ge());const I={};p&33554432&&(I.$$scope={dirty:p,ctx:g}),o.$set(I)},i(g){c||(v(r.$$.fragment,g),v(m),v(h),v(_),v(o.$$.fragment,g),c=!0)},o(g){A(r.$$.fragment,g),A(m),A(h),A(_),A(o.$$.fragment,g),c=!1},d(g){g&&(N(e),N(t),N(i),N(l),N(s),N(a)),P(r,g),m&&m.d(g),h&&h.d(g),_&&_.d(g),g&&o&&N(u),P(o,g),f=!1,d()}}}function Rh(n){let e,t,r,i,l;return t=new dn({props:{$$slots:{default:[Ch]},$$scope:{ctx:n}}}),{c(){e=O("div"),r=O("div"),D(t.$$.fragment),fe(r,"display","contents"),fe(r,"--grid-template-columns","var(--width-activity) var(--width-cols) var(--width-delete)"),E(e,"class",i="field-trigger "+(n[0]?n[0].toLowerCase():"")+" svelte-1h798nu")},m(s,a){L(s,e,a),j(e,r),z(t,r,null),l=!0},p(s,[a]){const o={};a&33554559&&(o.$$scope={dirty:a,ctx:s}),t.$set(o),(!l||a&1&&i!==(i="field-trigger "+(s[0]?s[0].toLowerCase():"")+" svelte-1h798nu"))&&E(e,"class",i)},i(s){l||(v(t.$$.fragment,s),l=!0)},o(s){A(t.$$.fragment,s),l=!1},d(s){s&&N(e),P(t)}}}const Fl={Mouse:{events:[{name:"onMouseDown",triggerable:!0,controllable:!1},{name:"onMouseUp",triggerable:!0,controllable:!1},{name:"onMouseMove",triggerable:!0,controllable:!1},{name:"onClick",triggerable:!0,controllable:!1}]},Keyboard:{events:[{name:"onKeyDown",triggerable:!0,controllable:!1},{name:"onKeyPress",triggerable:!0,controllable:!1},{name:"onKeyUp",triggerable:!0,controllable:!1}]},MIDI:{events:[{name:"onNoteOn",triggerable:!0,controllable:!1},{name:"onNoteOff",triggerable:!0,controllable:!1},{name:"onNumberOn",triggerable:!0,controllable:!1},{name:"onNumberOff",triggerable:!0,controllable:!1},{name:"onControlChange",triggerable:!1,controllable:!0}]}};function Ih(n,e,t){let r,i,l,s,a,{index:o}=e,{inputType:u=void 0}=e,{eventName:c=void 0}=e,{enabled:f=!0}=e,{controllable:d=!1}=e,{triggerable:m=!1}=e,{context:h}=e,{onTrigger:_=()=>{}}=e,{params:g={key:[]}}=e,p,w=at();function I(){p&&(t(13,f=p.enabled),p.destroy(),t(2,p=null));const H=Zu[c];t(2,p=H(_,{...g,context:h,hot:!1,enabled:f}))}function k(H){t(0,u=H.detail),l.includes(c)||(t(1,c=void 0),t(12,g.key=null,g)),p&&(p.destroy(),t(2,p=null))}function T(H){const re=u==="MIDI"&&c!==void 0&&(c.includes("Number")&&H.detail.includes("Note")||c.includes("Note")&&H.detail.includes("Number"));t(1,c=H.detail),re&&t(12,g.key="",g),u==="Mouse"&&I()}function C(H){t(12,g.key=H.detail,g),I()}function M(){w("delete",o)}function R(){p&&t(2,p.enabled=!p.enabled,p)}qt(()=>{(u==="Mouse"&&c||u&&c&&g.key)&&I()}),St(()=>{p&&(p.destroy(),t(2,p=null))});function U(H){c=H,t(1,c)}function G(H){a=H,t(3,a),t(12,g)}function le(H){a=H,t(3,a),t(12,g)}return n.$$set=H=>{"index"in H&&t(14,o=H.index),"inputType"in H&&t(0,u=H.inputType),"eventName"in H&&t(1,c=H.eventName),"enabled"in H&&t(13,f=H.enabled),"controllable"in H&&t(15,d=H.controllable),"triggerable"in H&&t(16,m=H.triggerable),"context"in H&&t(17,h=H.context),"onTrigger"in H&&t(18,_=H.onTrigger),"params"in H&&t(12,g=H.params)},n.$$.update=()=>{n.$$.dirty&98304&&t(19,r=[...Object.keys(Fl)].reduce((H,re)=>{const V=Fl[re],{disabled:X,events:ee}=V,oe=ee.filter(we=>we.triggerable===m&&we.controllable===d);return oe.length>0&&(H[re]={events:oe,disabled:X}),H},{})),n.$$.dirty&524288&&t(6,i=[{label:"Select input",value:void 0,disabled:!0},...Object.keys(r).map(H=>({value:H,disabled:r[H].disabled}))]),n.$$.dirty&524289&&t(5,l=u?[{label:"-",value:void 0,disabled:!0},...r[u].events.map(H=>({value:H.name}))]:[]),n.$$.dirty&3&&t(4,s=u&&c),n.$$.dirty&4096&&t(3,a=g.key)},[u,c,p,a,s,l,i,k,T,C,M,R,g,f,o,d,m,h,_,r,U,G,le]}class Mh extends he{constructor(e){super(),de(this,e,Ih,Rh,ce,{index:14,inputType:0,eventName:1,enabled:13,controllable:15,triggerable:16,context:17,onTrigger:18,params:12})}}function jl(n,e,t){const r=n.slice();return r[12]=e[t],r[13]=e,r[14]=t,r}function Hl(n){let e,t,r,i;e=new Lt({props:{label:"add trigger"}}),e.$on("click",n[7]);let l=Fe(n[5]),s=[];for(let o=0;o<l.length;o+=1)s[o]=Vl(jl(n,l,o));const a=o=>A(s[o],1,1,()=>{s[o]=null});return{c(){D(e.$$.fragment),t=$(),r=O("div");for(let o=0;o<s.length;o+=1)s[o].c();E(r,"class","field-triggers svelte-113x73v")},m(o,u){z(e,o,u),L(o,t,u),L(o,r,u);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(r,null);i=!0},p(o,u){if(u&123){l=Fe(o[5]);let c;for(c=0;c<l.length;c+=1){const f=jl(o,l,c);s[c]?(s[c].p(f,u),v(s[c],1)):(s[c]=Vl(f),s[c].c(),v(s[c],1),s[c].m(r,null))}for(me(),c=l.length;c<s.length;c+=1)a(c);ge()}},i(o){if(!i){v(e.$$.fragment,o);for(let u=0;u<l.length;u+=1)v(s[u]);i=!0}},o(o){A(e.$$.fragment,o),s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)A(s[u]);i=!1},d(o){o&&(N(t),N(r)),P(e,o),Wt(s,o)}}}function Vl(n){let e,t,r,i,l,s;function a(d){n[8](d,n[12])}function o(d){n[9](d,n[12])}function u(d){n[10](d,n[12])}function c(d){n[11](d,n[12])}let f={index:n[14],onTrigger:n[1],context:n[0],controllable:n[4],triggerable:n[3]};return n[12].inputType!==void 0&&(f.inputType=n[12].inputType),n[12].eventName!==void 0&&(f.eventName=n[12].eventName),n[12].params!==void 0&&(f.params=n[12].params),n[12].enabled!==void 0&&(f.enabled=n[12].enabled),e=new Mh({props:f}),Ae.push(()=>lt(e,"inputType",a)),Ae.push(()=>lt(e,"eventName",o)),Ae.push(()=>lt(e,"params",u)),Ae.push(()=>lt(e,"enabled",c)),e.$on("delete",n[6]),{c(){D(e.$$.fragment)},m(d,m){z(e,d,m),s=!0},p(d,m){n=d;const h={};m&2&&(h.onTrigger=n[1]),m&1&&(h.context=n[0]),m&16&&(h.controllable=n[4]),m&8&&(h.triggerable=n[3]),!t&&m&32&&(t=!0,h.inputType=n[12].inputType,it(()=>t=!1)),!r&&m&32&&(r=!0,h.eventName=n[12].eventName,it(()=>r=!1)),!i&&m&32&&(i=!0,h.params=n[12].params,it(()=>i=!1)),!l&&m&32&&(l=!0,h.enabled=n[12].enabled,it(()=>l=!1)),e.$set(h)},i(d){s||(v(e.$$.fragment,d),s=!0)},o(d){A(e.$$.fragment,d),s=!1},d(d){P(e,d)}}}function Nh(n){let e,t,r=n[1]&&Hl(n);return{c(){r&&r.c(),e=Me()},m(i,l){r&&r.m(i,l),L(i,e,l),t=!0},p(i,[l]){i[1]?r?(r.p(i,l),l&2&&v(r,1)):(r=Hl(i),r.c(),v(r,1),r.m(e.parentNode,e)):r&&(me(),A(r,1,1,()=>{r=null}),ge())},i(i){t||(v(r),t=!0)},o(i){A(r),t=!1},d(i){i&&N(e),r&&r.d(i)}}}function Bh(n,e,t){let r,i=ae,l=()=>(i(),i=tr(o,p=>t(5,r=p)),o);n.$$.on_destroy.push(()=>i());let{context:s}=e,{onTrigger:a}=e,{triggers:o}=e;l();let{triggerable:u=!1}=e,{controllable:c=!1}=e;function f(p){const w=p.detail;ve(o,r=r.filter((I,k)=>k!==w),r)}function d(){o.update(p=>[...p,{inputType:void 0,eventName:void 0}])}function m(p,w){n.$$.not_equal(w.inputType,p)&&(w.inputType=p,o.set(r))}function h(p,w){n.$$.not_equal(w.eventName,p)&&(w.eventName=p,o.set(r))}function _(p,w){n.$$.not_equal(w.params,p)&&(w.params=p,o.set(r))}function g(p,w){n.$$.not_equal(w.enabled,p)&&(w.enabled=p,o.set(r))}return n.$$set=p=>{"context"in p&&t(0,s=p.context),"onTrigger"in p&&t(1,a=p.onTrigger),"triggers"in p&&l(t(2,o=p.triggers)),"triggerable"in p&&t(3,u=p.triggerable),"controllable"in p&&t(4,c=p.controllable)},[s,a,o,u,c,r,f,d,m,h,_,g]}class Lh extends he{constructor(e){super(),de(this,e,Bh,Nh,ce,{context:0,onTrigger:1,triggers:2,triggerable:3,controllable:4})}}function Oh(n,e=100){let t=performance.now(),r=!1,i,l;function s(){const a=performance.now();r&&(r=!1,t=a,n.apply(this,l),t=a),a-t>e&&i>-1?(cancelAnimationFrame(i),i=null):i=requestAnimationFrame(s)}return(...a)=>{r=!0,l=a,i||s()}}function zh(n){let e,t,r;const i=[{value:n[0]},n[15]];var l=n[17];function s(u,c){let f={};for(let d=0;d<i.length;d+=1)f=Or(f,i[d]);return c!==void 0&&c[0]&32769&&(f=Or(f,Fi(i,[c[0]&1&&{value:u[0]},c[0]&32768&&ji(u[15])]))),{props:f}}l&&(e=qn(l,s(n)),e.$on("change",n[26]),e.$on("click",function(){yn(n[18])&&n[18].apply(this,arguments)}));const a=n[24].default,o=Ge(a,n,n[28],null);return{c(){e&&D(e.$$.fragment),t=$(),o&&o.c()},m(u,c){e&&z(e,u,c),L(u,t,c),o&&o.m(u,c),r=!0},p(u,c){if(n=u,c[0]&131072&&l!==(l=n[17])){if(e){me();const f=e;A(f.$$.fragment,1,0,()=>{P(f,1)}),ge()}l?(e=qn(l,s(n,c)),e.$on("change",n[26]),e.$on("click",function(){yn(n[18])&&n[18].apply(this,arguments)}),D(e.$$.fragment),v(e.$$.fragment,1),z(e,t.parentNode,t)):e=null}else if(l){const f=c[0]&32769?Fi(i,[c[0]&1&&{value:n[0]},c[0]&32768&&ji(n[15])]):{};e.$set(f)}o&&o.p&&(!r||c[0]&268435456)&&qe(o,a,n,n[28],r?We(a,n[28],c,null):Ke(n[28]),null)},i(u){r||(e&&v(e.$$.fragment,u),v(o,u),r=!0)},o(u){e&&A(e.$$.fragment,u),A(o,u),r=!1},d(u){u&&N(t),e&&P(e,u),o&&o.d(u)}}}function Gl(n){let e,t,r;return{c(){e=O("button"),e.innerHTML='<svg width="16" height="16" fill="none" viewBox="0 0 24 24" class="svelte-y0xuan"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4.75 8H7.25"></path><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12.75 8H19.25"></path><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4.75 16H12.25"></path><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.75 16H19.25"></path><circle cx="10" cy="8" r="2.25" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></circle><circle cx="15" cy="16" r="2.25" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></circle></svg>',E(e,"class","field__action field__action--triggers svelte-y0xuan"),W(e,"active",n[13])},m(i,l){L(i,e,l),t||(r=be(e,"click",n[21]),t=!0)},p(i,l){l[0]&8192&&W(e,"active",i[13])},d(i){i&&N(e),t=!1,r()}}}function Wl(n){let e,t,r;function i(a,o){return a[1].locked?Dh:Ph}let l=i(n),s=l(n);return{c(){e=O("button"),s.c(),E(e,"class","field__action field__action--lock svelte-y0xuan")},m(a,o){L(a,e,o),s.m(e,null),t||(r=be(e,"click",n[25]),t=!0)},p(a,o){l!==(l=i(a))&&(s.d(1),s=l(a),s&&(s.c(),s.m(e,null)))},d(a){a&&N(e),s.d(),t=!1,r()}}}function Ph(n){let e,t,r;return{c(){e=Ve("svg"),t=Ve("path"),r=Ve("path"),E(t,"stroke","currentColor"),E(t,"stroke-linecap","round"),E(t,"stroke-linejoin","round"),E(t,"stroke-width","1.5"),E(t,"d","M5.75 11.75C5.75 11.1977 6.19772 10.75 6.75 10.75H17.25C17.8023 10.75 18.25 11.1977 18.25 11.75V17.25C18.25 18.3546 17.3546 19.25 16.25 19.25H7.75C6.64543 19.25 5.75 18.3546 5.75 17.25V11.75Z"),E(r,"stroke","currentColor"),E(r,"stroke-linecap","round"),E(r,"stroke-linejoin","round"),E(r,"stroke-width","1.5"),E(r,"d","M7.75 10.5V9.84343C7.75 8.61493 7.70093 7.29883 8.42416 6.30578C8.99862 5.51699 10.0568 4.75 12 4.75C14 4.75 15.25 6.25 15.25 6.25"),E(e,"class","action__icon"),E(e,"width","16"),E(e,"height","16"),E(e,"fill","none"),E(e,"viewBox","0 0 24 24")},m(i,l){L(i,e,l),j(e,t),j(e,r)},d(i){i&&N(e)}}}function Dh(n){let e,t,r;return{c(){e=Ve("svg"),t=Ve("path"),r=Ve("path"),E(t,"stroke","currentColor"),E(t,"stroke-linecap","round"),E(t,"stroke-linejoin","round"),E(t,"stroke-width","1.5"),E(t,"d","M5.75 11.75C5.75 11.1977 6.19772 10.75 6.75 10.75H17.25C17.8023 10.75 18.25 11.1977 18.25 11.75V17.25C18.25 18.3546 17.3546 19.25 16.25 19.25H7.75C6.64543 19.25 5.75 18.3546 5.75 17.25V11.75Z"),E(r,"stroke","currentColor"),E(r,"stroke-linecap","round"),E(r,"stroke-linejoin","round"),E(r,"stroke-width","1.5"),E(r,"d","M7.75 10.5V10.3427C7.75 8.78147 7.65607 7.04125 8.74646 5.9239C9.36829 5.2867 10.3745 4.75 12 4.75C13.6255 4.75 14.6317 5.2867 15.2535 5.9239C16.3439 7.04125 16.25 8.78147 16.25 10.3427V10.5"),E(e,"class","action__icon"),E(e,"width","16"),E(e,"height","16"),E(e,"fill","none"),E(e,"viewBox","0 0 24 24")},m(i,l){L(i,e,l),j(e,t),j(e,r)},d(i){i&&N(e)}}}function Uh(n){let e,t,r=n[16]&&!n[5]&&Gl(n),i=n[11]==="vec"&&!n[5]&&Wl(n);return{c(){e=O("div"),r&&r.c(),t=$(),i&&i.c(),E(e,"slot","infos"),E(e,"class","field__actions svelte-y0xuan")},m(l,s){L(l,e,s),r&&r.m(e,null),j(e,t),i&&i.m(e,null)},p(l,s){l[16]&&!l[5]?r?r.p(l,s):(r=Gl(l),r.c(),r.m(e,t)):r&&(r.d(1),r=null),l[11]==="vec"&&!l[5]?i?i.p(l,s):(i=Wl(l),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(l){l&&N(e),r&&r.d(),i&&i.d()}}}function ql(n){let e,t;return e=new Bo({props:{key:n[2],visible:n[12],secondary:!0,$$slots:{default:[Fh]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i[0]&4&&(l.key=r[2]),i[0]&4096&&(l.visible=r[12]),i[0]&268699664&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Fh(n){let e,t;return e=new Lh({props:{triggers:n[20],onTrigger:n[18],context:n[4],triggerable:n[11]==="button",controllable:n[11]==="number"}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i[0]&262144&&(l.onTrigger=r[18]),i[0]&16&&(l.context=r[4]),i[0]&2048&&(l.triggerable=r[11]==="button"),i[0]&2048&&(l.controllable=r[11]==="number"),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function jh(n){let e,t,r,i,l;t=new Bo({props:{key:n[2],displayName:n[6],interactive:n[16],disabled:n[5],$$slots:{infos:[Uh],default:[zh]},$$scope:{ctx:n}}}),t.$on("click",n[21]);let s=n[16]&&ql(n);return{c(){e=O("div"),D(t.$$.fragment),r=$(),s&&s.c(),E(e,"class","field svelte-y0xuan"),fe(e,"--index",n[7]),an(()=>n[27].call(e)),W(e,"disabled",n[5]),W(e,"xxsmall",n[10]),W(e,"xsmall",n[9]),W(e,"small",n[14]),W(e,"changed",!n[5]&&Yr(n[3],n[0]))},m(a,o){L(a,e,o),z(t,e,null),j(e,r),s&&s.m(e,null),i=ms(e,n[27].bind(e)),l=!0},p(a,o){const u={};o[0]&4&&(u.key=a[2]),o[0]&64&&(u.displayName=a[6]),o[0]&65536&&(u.interactive=a[16]),o[0]&32&&(u.disabled=a[5]),o[0]&268937251&&(u.$$scope={dirty:o,ctx:a}),t.$set(u),a[16]?s?(s.p(a,o),o[0]&65536&&v(s,1)):(s=ql(a),s.c(),v(s,1),s.m(e,null)):s&&(me(),A(s,1,1,()=>{s=null}),ge()),(!l||o[0]&128)&&fe(e,"--index",a[7]),(!l||o[0]&32)&&W(e,"disabled",a[5]),(!l||o[0]&1024)&&W(e,"xxsmall",a[10]),(!l||o[0]&512)&&W(e,"xsmall",a[9]),(!l||o[0]&16384)&&W(e,"small",a[14]),(!l||o[0]&41)&&W(e,"changed",!a[5]&&Yr(a[3],a[0]))},i(a){l||(v(t.$$.fragment,a),v(s),l=!0)},o(a){A(t.$$.fragment,a),A(s),l=!1},d(a){a&&N(e),P(t),s&&s.d(),i()}}}const Hh={[`${Ce.SELECT}`]:un,[`${Ce.NUMBER}`]:xn,[`${Ce.VEC}`]:_h,[`${Ce.CHECKBOX}`]:yh,[`${Ce.TEXT}`]:Cn,[`${Ce.LIST}`]:fh,[`${Ce.COLOR}`]:hh,[`${Ce.BUTTON}`]:Lt,[`${Ce.DOWNLOAD}`]:Lt,[`${Ce.IMAGE}`]:lh,[`${Ce.INTERVAL}`]:$d};function Vh(n,e,t){let r,i,l,s,a,o,u,c,f,d,m,{$$slots:h={},$$scope:_}=e,{key:g=""}=e,{value:p=null}=e,{initialValue:w=p}=e,{context:I=null}=e,{params:k={}}=e,{type:T=null}=e,{disabled:C=!1}=e,{displayName:M=void 0}=e,{index:R=null}=e,U,G=!1;const le=Qr(I,{props:{}},{persist:I!==null});ne(n,le,te=>t(29,m=te)),m.props[g]||ve(le,m.props[g]={triggers:[]},m);let H=mt(m.props[g].triggers.filter(te=>te.inputType!==void 0));ne(n,H,te=>t(23,d=te)),H.subscribe(te=>{le.update(se=>(se.props[g].triggers=te,se))});const re=at(),V={checkbox:()=>{t(0,p=!p),re("change",p)},button:te=>{p(te),re("click",te)},download:te=>{let[se,Re]=p(te);Xf(se,Re)},number:(te={})=>{if(te.value>=0&&te.value<=1&&isFinite(k.min)&&isFinite(k.max)){let Re=$e(te.value,0,1,k.min,k.max),Xe=k.step?k.step:1,ie=Math.round(Re*(1/Xe))/(1/Xe);re("change",ie)}}};function X(te){te.preventDefault(),t(12,G=!G)}function ee(te,se){const{triggerable:Re,controllable:Xe,...ie}=te;return{...ie,disabled:se,key:g,context:I}}const oe=()=>t(1,k.locked=!k.locked,k);function we(te){st.call(this,n,te)}function Ye(){U=this.offsetWidth,t(8,U)}return n.$$set=te=>{"key"in te&&t(2,g=te.key),"value"in te&&t(0,p=te.value),"initialValue"in te&&t(3,w=te.initialValue),"context"in te&&t(4,I=te.context),"params"in te&&t(1,k=te.params),"type"in te&&t(22,T=te.type),"disabled"in te&&t(5,C=te.disabled),"displayName"in te&&t(6,M=te.displayName),"index"in te&&t(7,R=te.index),"$$scope"in te&&t(28,_=te.$$scope)},n.$$.update=()=>{if(n.$$.dirty[0]&4194311&&t(11,r=Pd({type:T,value:p,params:k,key:g})),n.$$.dirty[0]&34&&t(15,i=ee(k,C)),n.$$.dirty[0]&2048&&t(18,l=Oh(V[r])),n.$$.dirty[0]&2048&&t(17,s=Hh[r]),n.$$.dirty[0]&2050&&t(16,a=k.triggerable!==!1&&(r===Ce.NUMBER&&isFinite(k.min)&&isFinite(k.max)||r===Ce.BUTTON)),n.$$.dirty[0]&2050){const te=r===Ce.DOWNLOAD,se=r===Ce.BUTTON;(te||se)&&k.label==null&&t(15,i.label=te?"download":"run",i)}n.$$.dirty[0]&256&&t(10,o=U<200),n.$$.dirty[0]&1280&&t(9,u=!o&&U<260),n.$$.dirty[0]&1792&&t(14,c=!o&&!u&&U<320),n.$$.dirty[0]&8388608&&t(13,f=d.length>0)},[p,k,g,w,I,C,M,R,U,u,o,r,G,f,c,i,a,s,l,le,H,X,T,d,h,oe,we,Ye,_]}class xe extends he{constructor(e){super(),de(this,e,Vh,jh,ce,{key:2,value:0,initialValue:3,context:4,params:1,type:22,disabled:5,displayName:6,index:7},null,[-1,-1])}}function Gh(n){let e,t,r,i,l,s,a,o,u,c,f,d,m,h;const _=n[4].default,g=Ge(_,n,n[3],null);return{c(){e=O("div"),t=O("header"),r=O("button"),i=Ve("svg"),l=Ve("path"),s=$(),a=O("span"),o=Pe(n[1]),u=$(),c=O("div"),g&&g.c(),E(l,"stroke","currentColor"),E(l,"stroke-linecap","round"),E(l,"stroke-linejoin","round"),E(l,"stroke-width","1.5"),E(l,"d","M10.75 8.75L14.25 12L10.75 15.25"),E(i,"class","header__icon svelte-gfakxd"),E(i,"width","24"),E(i,"height","24"),E(i,"fill","none"),E(i,"viewBox","0 0 24 24"),E(a,"class","field-group__name svelte-gfakxd"),E(r,"class","header__action svelte-gfakxd"),E(t,"class","header svelte-gfakxd"),E(c,"class","content svelte-gfakxd"),E(e,"class",f="field-group "+(n[0]?"collapsed":"")+" svelte-gfakxd")},m(p,w){L(p,e,w),j(e,t),j(t,r),j(r,i),j(i,l),j(r,s),j(r,a),j(a,o),j(e,u),j(e,c),g&&g.m(c,null),d=!0,m||(h=be(r,"click",n[2]),m=!0)},p(p,[w]){(!d||w&2)&&et(o,p[1]),g&&g.p&&(!d||w&8)&&qe(g,_,p,p[3],d?We(_,p[3],w,null):Ke(p[3]),null),(!d||w&1&&f!==(f="field-group "+(p[0]?"collapsed":"")+" svelte-gfakxd"))&&E(e,"class",f)},i(p){d||(v(g,p),d=!0)},o(p){A(g,p),d=!1},d(p){p&&N(e),g&&g.d(p),m=!1,h()}}}function Wh(n,e,t){let{$$slots:r={},$$scope:i}=e,{name:l}=e,{collapsed:s=!1}=e;function a(){t(0,s=!s)}return n.$$set=o=>{"name"in o&&t(1,l=o.name),"collapsed"in o&&t(0,s=o.collapsed),"$$scope"in o&&t(3,i=o.$$scope)},[s,l,a,i,r]}class Kl extends he{constructor(e){super(),de(this,e,Wh,Gh,ce,{name:1,collapsed:0})}}function qh(n){let e,t,r,i;return e=new xe({props:{key:"sampler0",value:n[0],params:{options:n[2]},disabled:n[3]}}),e.$on("change",n[8]),r=new xe({props:{key:"sampler1",value:n[1],params:{options:n[2]},disabled:n[3]}}),r.$on("change",n[9]),{c(){D(e.$$.fragment),t=$(),D(r.$$.fragment)},m(l,s){z(e,l,s),L(l,t,s),z(r,l,s),i=!0},p(l,s){const a={};s&1&&(a.value=l[0]),s&4&&(a.params={options:l[2]}),s&8&&(a.disabled=l[3]),e.$set(a);const o={};s&2&&(o.value=l[1]),s&4&&(o.params={options:l[2]}),s&8&&(o.disabled=l[3]),r.$set(o)},i(l){i||(v(e.$$.fragment,l),v(r.$$.fragment,l),i=!0)},o(l){A(e.$$.fragment,l),A(r.$$.fragment,l),i=!1},d(l){l&&N(t),P(e,l),P(r,l)}}}function Kh(n){let e,t,r,i,l,s;return e=new xe({props:{key:"type",value:n[4],params:{options:n[6]}}}),e.$on("change",n[10]),r=new xe({props:{key:"threshold",value:n[5],params:{step:.01,min:0,max:1}}}),r.$on("change",n[11]),l=new xe({props:{key:"switch",value:n[12],params:{label:`switch ${Math.round(n[5])>0?"<":">"}`}}}),{c(){D(e.$$.fragment),t=$(),D(r.$$.fragment),i=$(),D(l.$$.fragment)},m(a,o){z(e,a,o),L(a,t,o),z(r,a,o),L(a,i,o),z(l,a,o),s=!0},p(a,o){const u={};o&16&&(u.value=a[4]),e.$set(u);const c={};o&32&&(c.value=a[5]),r.$set(c);const f={};o&32&&(f.value=a[12]),o&32&&(f.params={label:`switch ${Math.round(a[5])>0?"<":">"}`}),l.$set(f)},i(a){s||(v(e.$$.fragment,a),v(r.$$.fragment,a),v(l.$$.fragment,a),s=!0)},o(a){A(e.$$.fragment,a),A(r.$$.fragment,a),A(l.$$.fragment,a),s=!1},d(a){a&&(N(t),N(i)),P(e,a),P(r,a),P(l,a)}}}function Yh(n){let e,t,r,i;return e=new Kl({props:{name:"monitors",$$slots:{default:[qh]},$$scope:{ctx:n}}}),r=new Kl({props:{name:"transition",$$slots:{default:[Kh]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment),t=$(),D(r.$$.fragment)},m(l,s){z(e,l,s),L(l,t,s),z(r,l,s),i=!0},p(l,[s]){const a={};s&16399&&(a.$$scope={dirty:s,ctx:l}),e.$set(a);const o={};s&16432&&(o.$$scope={dirty:s,ctx:l}),r.$set(o)},i(l){i||(v(e.$$.fragment,l),v(r.$$.fragment,l),i=!0)},o(l){A(e.$$.fragment,l),A(r.$$.fragment,l),i=!1},d(l){l&&N(t),P(e,l),P(r,l)}}}function Xh(n,e,t){let r,i,l,s,a;ne(n,Zn,p=>t(13,i=p)),ne(n,rt,p=>t(7,l=p)),ne(n,Vn,p=>t(4,s=p)),ne(n,Hn,p=>t(5,a=p));let o=!1,u=-1,c=-1;const f=Object.keys(Wr).map(p=>{const w=Wr[p],I=w.name?w.name:p;return{value:p,label:I}});s||ve(Vn,s=f[0].value,s);const d=p=>{t(0,u=Number(p.detail))},m=p=>{t(1,c=Number(p.detail))},h=p=>{ve(Vn,s=p.detail,s)},_=p=>ve(Hn,a=p.detail,a),g=()=>ve(Hn,a=1-Math.round(a),a);return n.$$.update=()=>{n.$$.dirty&128&&t(2,r=l.map((p,w)=>({label:`monitor ${w+1}`,value:p.id})).filter(p=>l.find(I=>I.id===p.value).selected!=="output")),n.$$.dirty&7&&(t(3,o=r.length===0),r.length===0?(t(2,r=[{label:"No monitor available.",value:-1}]),t(0,u=r[0].value),t(1,c=r[0].value)):(u<0&&t(0,u=r[0].value),c<0&&t(1,c=r.length>1?r[1].value:-1)),ve(Zn,i=[u,c],i))},[u,c,r,o,s,a,f,l,d,m,h,_,g]}class Jh extends he{constructor(e){super(),de(this,e,Xh,Yh,ce,{})}}function Yl(n){let e,t;return e=new xe({props:{key:"aspectRatio",value:n[0].aspectRatio,params:{step:.01}}}),e.$on("change",n[8]),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&1&&(l.value=r[0].aspectRatio),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Xl(n){let e,t;return e=new xe({props:{key:"zoom",value:n[0].scale,params:{step:.01}}}),e.$on("change",n[9]),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&1&&(l.value=r[0].scale),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Jl(n){let e,t;return e=new xe({props:{key:"preset",$$slots:{default:[Zh]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&32769&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Qh(n){let e,t,r,i;return e=new un({props:{value:n[0].preset,options:Hu}}),e.$on("change",n[10]),r=new un({props:{value:n[0].presetOrientation,options:[kn.PORTRAIT,kn.LANDSCAPE]}}),r.$on("change",n[11]),{c(){D(e.$$.fragment),t=$(),D(r.$$.fragment)},m(l,s){z(e,l,s),L(l,t,s),z(r,l,s),i=!0},p(l,s){const a={};s&1&&(a.value=l[0].preset),e.$set(a);const o={};s&1&&(o.value=l[0].presetOrientation),r.$set(o)},i(l){i||(v(e.$$.fragment,l),v(r.$$.fragment,l),i=!0)},o(l){A(e.$$.fragment,l),A(r.$$.fragment,l),i=!1},d(l){l&&N(t),P(e,l),P(r,l)}}}function Zh(n){let e,t,r;return e=new dn({props:{$$slots:{default:[Qh]},$$scope:{ctx:n}}}),{c(){t=O("div"),D(e.$$.fragment),fe(t,"display","contents"),fe(t,"--grid-template-columns","1fr 1fr")},m(i,l){L(i,t,l),z(e,t,null),r=!0},p(i,l){const s={};l&32769&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){r||(v(e.$$.fragment,i),r=!0)},o(i){A(e.$$.fragment,i),r=!1},d(i){i&&e&&N(t),P(e,i)}}}function Ql(n){let e,t;return e=new xe({props:{key:"pixelRatio",value:Number(n[0].pixelRatio),params:{step:.1}}}),e.$on("change",n[12]),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&1&&(l.value=Number(r[0].pixelRatio)),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Zl(n){let e,t;return e=new Jh({}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function $h(n){let e,t,r,i,l,s,a,o,u,c;e=new xe({props:{key:"dimensions",value:[n[0].width,n[0].height],params:{step:1,suffix:"px",locked:!1},disabled:!n[1]}}),e.$on("change",n[5]),r=new xe({props:{key:"canvasSize",value:n[0].resizing,params:{options:n[6]}}}),r.$on("change",n[7]);let f=n[0].resizing===ke.ASPECT_RATIO&&Yl(n),d=n[0].resizing===ke.SCALE&&Xl(n),m=n[0].resizing===ke.PRESET&&Jl(n),h=n[0].resizing!==ke.PRESET&&Ql(n),_=n[3]>1&&n[4].length>1&&Zl();return{c(){D(e.$$.fragment),t=$(),D(r.$$.fragment),i=$(),f&&f.c(),l=$(),d&&d.c(),s=$(),m&&m.c(),a=$(),h&&h.c(),o=$(),_&&_.c(),u=Me()},m(g,p){z(e,g,p),L(g,t,p),z(r,g,p),L(g,i,p),f&&f.m(g,p),L(g,l,p),d&&d.m(g,p),L(g,s,p),m&&m.m(g,p),L(g,a,p),h&&h.m(g,p),L(g,o,p),_&&_.m(g,p),L(g,u,p),c=!0},p(g,[p]){const w={};p&1&&(w.value=[g[0].width,g[0].height]),p&2&&(w.disabled=!g[1]),e.$set(w);const I={};p&1&&(I.value=g[0].resizing),r.$set(I),g[0].resizing===ke.ASPECT_RATIO?f?(f.p(g,p),p&1&&v(f,1)):(f=Yl(g),f.c(),v(f,1),f.m(l.parentNode,l)):f&&(me(),A(f,1,1,()=>{f=null}),ge()),g[0].resizing===ke.SCALE?d?(d.p(g,p),p&1&&v(d,1)):(d=Xl(g),d.c(),v(d,1),d.m(s.parentNode,s)):d&&(me(),A(d,1,1,()=>{d=null}),ge()),g[0].resizing===ke.PRESET?m?(m.p(g,p),p&1&&v(m,1)):(m=Jl(g),m.c(),v(m,1),m.m(a.parentNode,a)):m&&(me(),A(m,1,1,()=>{m=null}),ge()),g[0].resizing!==ke.PRESET?h?(h.p(g,p),p&1&&v(h,1)):(h=Ql(g),h.c(),v(h,1),h.m(o.parentNode,o)):h&&(me(),A(h,1,1,()=>{h=null}),ge()),g[3]>1&&g[4].length>1?_?p&24&&v(_,1):(_=Zl(),_.c(),v(_,1),_.m(u.parentNode,u)):_&&(me(),A(_,1,1,()=>{_=null}),ge())},i(g){c||(v(e.$$.fragment,g),v(r.$$.fragment,g),v(f),v(d),v(m),v(h),v(_),c=!0)},o(g){A(e.$$.fragment,g),A(r.$$.fragment,g),A(f),A(d),A(m),A(h),A(_),c=!1},d(g){g&&(N(t),N(i),N(l),N(s),N(a),N(o),N(u)),P(e,g),P(r,g),f&&f.d(g),d&&d.d(g),m&&m.d(g),h&&h.d(g),_&&_.d(g)}}}function xh(n,e,t){let r,i,l,s,a;ne(n,ze,w=>t(0,i=w)),ne(n,Jn,w=>t(2,l=w)),ne(n,vi,w=>t(3,s=w)),ne(n,rt,w=>t(4,a=w));let o=i.width,u=i.height;function c(w){const[I,k]=w.detail;(o!==I||u!==k)&&(o=I,u=k,ze.update(C=>({...C,width:I,height:k})))}let f=Object.values(ke);const d=w=>{const I=w.detail;let k=1;I===ke.ASPECT_RATIO&&(k=i.width/i.height),ve(Jn,l.pixelsPerInch=I===ke.PRESET?300:72,l),ze.update(T=>({...T,resizing:I,aspectRatio:k}))},m=w=>{ve(ze,i.aspectRatio=w.detail,i)},h=w=>{ve(ze,i.scale=w.detail,i)},_=w=>{ve(ze,i.preset=w.detail,i)},g=w=>{ve(ze,i.presetOrientation=w.detail,i)},p=w=>ve(ze,i.pixelRatio=w.detail,i);return n.$$.update=()=>{if(n.$$.dirty&1&&t(1,r=[ke.FIXED,ke.SCALE].includes(i.resizing)),n.$$.dirty&1&&i.resizing===ke.PRESET){const{preset:w}=i,[I,k]=Cs(w,{pixelsPerInch:300,orientation:i.presetOrientation});ze.update(T=>({...T,width:I,height:k}))}},[i,r,l,s,a,c,f,d,m,h,_,g,p]}class em extends he{constructor(e){super(),de(this,e,xh,$h,ce,{})}}function $l(n,e,t){const r=n.slice();r[20]=e[t],r[29]=e,r[30]=t;const i=r[7][r[20]];r[21]=i;const l=r[21];r[22]=l.hidden,r[23]=l.displayName,r[24]=l.value,r[25]=l.type,r[26]=l.disabled,r[27]=l.__initialValue;const s=typeof r[26]=="function"?r[26]():r[26];return r[28]=s,r}function xl(n){let e,t;return e=new em({}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function es(n){let e,t,r=typeof At=="object"&&tm(n);return{c(){r&&r.c(),e=Me()},m(i,l){r&&r.m(i,l),L(i,e,l),t=!0},p(i,l){typeof At=="object"&&r.p(i,l)},i(i){t||(v(r),t=!0)},o(i){A(r),t=!1},d(i){i&&N(e),r&&r.d(i)}}}function tm(n){let e,t,r=[],i=new Map,l,s,a=n[2]&&ts(n),o=n[6].duration&&n[6].duration>0&&n[2]&&ns(n),u=Fe(Object.keys(n[7]));const c=f=>f[20];for(let f=0;f<u.length;f+=1){let d=$l(n,u,f),m=c(d);i.set(m,r[f]=is(m,d))}return{c(){a&&a.c(),e=$(),o&&o.c(),t=$();for(let f=0;f<r.length;f+=1)r[f].c();l=Me()},m(f,d){a&&a.m(f,d),L(f,e,d),o&&o.m(f,d),L(f,t,d);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(f,d);L(f,l,d),s=!0},p(f,d){f[2]?a?(a.p(f,d),d[0]&4&&v(a,1)):(a=ts(f),a.c(),v(a,1),a.m(e.parentNode,e)):a&&(me(),A(a,1,1,()=>{a=null}),ge()),f[6].duration&&f[6].duration>0&&f[2]?o?(o.p(f,d),d[0]&68&&v(o,1)):(o=ns(f),o.c(),v(o,1),o.m(t.parentNode,t)):o&&(me(),A(o,1,1,()=>{o=null}),ge()),d[0]&1200&&(u=Fe(Object.keys(f[7])),me(),r=ps(r,d,c,1,f,u,i,l.parentNode,gs,is,l,$l),ge())},i(f){if(!s){v(a),v(o);for(let d=0;d<u.length;d+=1)v(r[d]);s=!0}},o(f){A(a),A(o);for(let d=0;d<r.length;d+=1)A(r[d]);s=!1},d(f){f&&(N(e),N(t),N(l)),a&&a.d(f),o&&o.d(f);for(let d=0;d<r.length;d+=1)r[d].d(f)}}}function ts(n){let e,t;return e=new xe({props:{key:"framerate",value:isFinite(n[6].fps)?n[6].fps:60,disabled:!0}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i[0]&64&&(l.value=isFinite(r[6].fps)?r[6].fps:60),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function ns(n){let e,t;return e=new xe({props:{key:"duration",value:n[6].duration,params:{suffix:"s"},disabled:!0}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i[0]&64&&(l.value=r[6].duration),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function rs(n){let e,t,r;function i(o){n[16](o,n[20])}function l(){return n[17](n[20])}function s(...o){return n[18](n[20],...o)}let a={context:n[4],key:n[20],displayName:n[23],value:n[24],initialValue:n[27],type:n[25],index:n[30],disabled:n[28]};return n[7][n[20]].params!==void 0&&(a.params=n[7][n[20]].params),e=new xe({props:a}),Ae.push(()=>lt(e,"params",i)),e.$on("click",l),e.$on("change",s),{c(){D(e.$$.fragment)},m(o,u){z(e,o,u),r=!0},p(o,u){n=o;const c={};u[0]&16&&(c.context=n[4]),u[0]&128&&(c.key=n[20]),u[0]&128&&(c.displayName=n[23]),u[0]&128&&(c.value=n[24]),u[0]&128&&(c.initialValue=n[27]),u[0]&128&&(c.type=n[25]),u[0]&128&&(c.index=n[30]),u[0]&128&&(c.disabled=n[28]),!t&&u[0]&128&&(t=!0,c.params=n[7][n[20]].params,it(()=>t=!1)),e.$set(c)},i(o){r||(v(e.$$.fragment,o),r=!0)},o(o){A(e.$$.fragment,o),r=!1},d(o){P(e,o)}}}function is(n,e){let t,r=typeof e[22]=="function"?!e[22]():!e[22],i,l,s=r&&rs(e);return{key:n,first:null,c(){t=Me(),s&&s.c(),i=Me(),this.first=t},m(a,o){L(a,t,o),s&&s.m(a,o),L(a,i,o),l=!0},p(a,o){e=a,o[0]&128&&(r=typeof e[22]=="function"?!e[22]():!e[22]),r?s?(s.p(e,o),o[0]&128&&v(s,1)):(s=rs(e),s.c(),v(s,1),s.m(i.parentNode,i)):s&&(me(),A(s,1,1,()=>{s=null}),ge())},i(a){l||(v(s),l=!0)},o(a){A(s),l=!1},d(a){a&&(N(t),N(i)),s&&s.d(a)}}}function nm(n){let e,t,r,i=n[8]&&n[2]&&xl(),l=n[6]&&es(n);return{c(){i&&i.c(),e=$(),l&&l.c(),t=Me()},m(s,a){i&&i.m(s,a),L(s,e,a),l&&l.m(s,a),L(s,t,a),r=!0},p(s,a){s[8]&&s[2]?i?a[0]&260&&v(i,1):(i=xl(),i.c(),v(i,1),i.m(e.parentNode,e)):i&&(me(),A(i,1,1,()=>{i=null}),ge()),s[6]?l?(l.p(s,a),a[0]&64&&v(l,1)):(l=es(s),l.c(),v(l,1),l.m(t.parentNode,t)):l&&(me(),A(l,1,1,()=>{l=null}),ge())},i(s){r||(v(i),v(l),r=!0)},o(s){A(i),A(l),r=!1},d(s){s&&(N(e),N(t)),i&&i.d(s),l&&l.d(s)}}}function ls(n){let e,t;return e=new po({props:{value:n[3],permanent:!0,border:!0,options:n[9]}}),e.$on("change",n[15]),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i[0]&8&&(l.value=r[3]),i[0]&512&&(l.options=r[9]),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function rm(n){let e,t,r=n[9].length>1&&ls(n);return{c(){e=O("div"),r&&r.c(),E(e,"slot","header-right")},m(i,l){L(i,e,l),r&&r.m(e,null),t=!0},p(i,l){i[9].length>1?r?(r.p(i,l),l[0]&512&&v(r,1)):(r=ls(i),r.c(),v(r,1),r.m(e,null)):r&&(me(),A(r,1,1,()=>{r=null}),ge())},i(i){t||(v(r),t=!0)},o(i){A(r),t=!1},d(i){i&&N(e),r&&r.d()}}}function im(n){let e,t;return e=new ir({props:{mID:n[0],hasHeader:n[1],name:"Parameters",slug:"params",$$slots:{"header-right":[rm],default:[nm]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i[0]&1&&(l.mID=r[0]),i[0]&2&&(l.hasHeader=r[1]),i[0]&2044|i[1]&1&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}const Wn=mt([]);let lm=0;function sm(n,e,t){let r,i,l=ae,s,a,o,u;ne(n,Wn,R=>t(12,i=R)),ne(n,At,R=>t(5,s=R)),ne(n,Gt,R=>t(13,a=R)),ne(n,rt,R=>t(14,o=R)),ne(n,ze,R=>t(10,u=R)),n.$$.on_destroy.push(()=>l());let{mID:c}=e,{hasHeader:f=!0}=e,{output:d=!0}=e,m=lm++,h=m,_,g,p={},w,I;qt(()=>{ve(Wn,i=[...i,{id:m}],i)}),St(()=>{ve(Wn,i=i.filter(R=>R.id!==m),i)}),rt.subscribe(R=>{t(11,w=o[Math.min(h,o.length-1)]),t(4,g=w?w.selected:void 0)});const k=R=>t(3,h=R.detail);function T(R,U){n.$$.not_equal(p[U].params,R)&&(p[U].params=R,t(7,p),t(13,a),t(4,g),t(5,s))}const C=R=>{ve(At,s[g][R].value._refresh=!0,s)},M=(R,U)=>{sf(g,R,U.detail,{width:u.width,height:u.height,pixelRatio:u.pixelRatio})};return n.$$set=R=>{"mID"in R&&t(0,c=R.mID),"hasHeader"in R&&t(1,f=R.hasHeader),"output"in R&&t(2,d=R.output)},n.$$.update=()=>{n.$$.dirty[0]&20480&&t(9,r=[...o.map((R,U)=>({value:U,label:`monitor ${U+1}`})),...i.length>1?[{value:"output",label:"output"}]:[]]),n.$$.dirty[0]&8240&&(t(6,_=a[g]),t(7,p=s[g])),n.$$.dirty[0]&6152&&t(8,I=w&&w.selected==="output"||i.length===1||h==="output")},[c,f,d,h,g,s,_,p,I,r,u,w,i,a,o,k,T,C,M]}class gr extends he{constructor(e){super(),de(this,e,sm,im,ce,{mID:0,hasHeader:1,output:2},null,[-1,-1])}}const om=Object.freeze(Object.defineProperty({__proto__:null,default:gr,params:Wn},Symbol.toStringTag,{value:"Module"}));function am(n){let e,t,r,i,l,s;return t=new gr({props:{output:n[1]}}),l=new ln({props:{key:"h"}}),l.$on("trigger",n[6]),{c(){e=O("div"),D(t.$$.fragment),i=$(),D(l.$$.fragment),E(e,"class","container svelte-1ojbmmb"),E(e,"style",r=`width: ${n[2]};`),W(e,"hidden",!n[3]),W(e,"align-left",n[0]==="left"),W(e,"align-right",n[0]==="right")},m(a,o){L(a,e,o),z(t,e,null),L(a,i,o),z(l,a,o),s=!0},p(a,[o]){const u={};o&2&&(u.output=a[1]),t.$set(u),(!s||o&4&&r!==(r=`width: ${a[2]};`))&&E(e,"style",r),(!s||o&8)&&W(e,"hidden",!a[3]),(!s||o&1)&&W(e,"align-left",a[0]==="left"),(!s||o&1)&&W(e,"align-right",a[0]==="right")},i(a){s||(v(t.$$.fragment,a),v(l.$$.fragment,a),s=!0)},o(a){A(t.$$.fragment,a),A(l.$$.fragment,a),s=!1},d(a){a&&(N(e),N(i)),P(t),P(l,a)}}}function um(n,e,t){let r,i,{size:l=.3}=e,{align:s="right"}=e,{output:a=!1}=e,{hidden:o=!1}=e;const u=()=>t(3,r=!r);return n.$$set=c=>{"size"in c&&t(4,l=c.size),"align"in c&&t(0,s=c.align),"output"in c&&t(1,a=c.output),"hidden"in c&&t(5,o=c.hidden)},n.$$.update=()=>{n.$$.dirty&32&&t(3,r=!o),n.$$.dirty&16&&t(2,i=typeof l=="number"?`${l*100}%`:l)},[s,a,i,r,l,o,u]}class fm extends he{constructor(e){super(),de(this,e,um,am,ce,{size:4,align:0,output:1,hidden:5})}}function cm(n){let e;const t=n[1].default,r=Ge(t,n,n[2],null);return{c(){r&&r.c()},m(i,l){r&&r.m(i,l),e=!0},p(i,l){r&&r.p&&(!e||l&4)&&qe(r,t,i,i[2],e?We(t,i[2],l,null):Ke(i[2]),null)},i(i){e||(v(r,i),e=!0)},o(i){A(r,i),e=!1},d(i){r&&r.d(i)}}}function dm(n){let e,t;return e=new pr({props:{size:n[0],type:"column",$$slots:{default:[cm]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,[i]){const l={};i&1&&(l.size=r[0]),i&4&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function hm(n,e,t){let{$$slots:r={},$$scope:i}=e,{size:l=1}=e;return n.$$set=s=>{"size"in s&&t(0,l=s.size),"$$scope"in s&&t(2,i=s.$$scope)},[l,r,i]}class fn extends he{constructor(e){super(),de(this,e,hm,dm,ce,{size:0})}}function mm(n){let e;const t=n[1].default,r=Ge(t,n,n[2],null);return{c(){r&&r.c()},m(i,l){r&&r.m(i,l),e=!0},p(i,l){r&&r.p&&(!e||l&4)&&qe(r,t,i,i[2],e?We(t,i[2],l,null):Ke(i[2]),null)},i(i){e||(v(r,i),e=!0)},o(i){A(r,i),e=!1},d(i){r&&r.d(i)}}}function gm(n){let e,t;return e=new pr({props:{size:n[0],type:"row",$$slots:{default:[mm]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,[i]){const l={};i&1&&(l.size=r[0]),i&4&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function pm(n,e,t){let{$$slots:r={},$$scope:i}=e,{size:l=1}=e;return n.$$set=s=>{"size"in s&&t(0,l=s.size),"$$scope"in s&&t(2,i=s.$$scope)},[l,r,i]}class er extends he{constructor(e){super(),de(this,e,pm,gm,ce,{size:0})}}function _m(n){let e,t;return e=new Tn({props:{hasHeader:!1}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p:ae,i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function bm(n){let e,t,r,i;const l=[ym,wm],s=[];function a(o,u){return o[2].position==="fixed"?0:1}return e=a(n),t=s[e]=l[e](n),{c(){t.c(),r=Me()},m(o,u){s[e].m(o,u),L(o,r,u),i=!0},p(o,u){let c=e;e=a(o),e===c?s[e].p(o,u):(me(),A(s[c],1,1,()=>{s[c]=null}),ge(),t=s[e],t?t.p(o,u):(t=s[e]=l[e](o),t.c()),v(t,1),t.m(r.parentNode,r))},i(o){i||(v(t),i=!0)},o(o){A(t),i=!1},d(o){o&&N(r),s[e].d(o)}}}function wm(n){let e,t,r,i;return e=new Tn({props:{hasHeader:!1,sketchKey:n[1]}}),r=new fm({props:{output:n[2].output,align:n[2].align,size:n[2].size,hidden:n[2].hidden}}),{c(){D(e.$$.fragment),t=$(),D(r.$$.fragment)},m(l,s){z(e,l,s),L(l,t,s),z(r,l,s),i=!0},p(l,s){const a={};s&2&&(a.sketchKey=l[1]),e.$set(a);const o={};s&4&&(o.output=l[2].output),s&4&&(o.align=l[2].align),s&4&&(o.size=l[2].size),s&4&&(o.hidden=l[2].hidden),r.$set(o)},i(l){i||(v(e.$$.fragment,l),v(r.$$.fragment,l),i=!0)},o(l){A(e.$$.fragment,l),A(r.$$.fragment,l),i=!1},d(l){l&&N(t),P(e,l),P(r,l)}}}function ym(n){let e,t;return e=new er({props:{$$slots:{default:[Cm]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&2054&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function vm(n){let e,t,r,i;return e=new fn({props:{size:n[2].size,$$slots:{default:[Em]},$$scope:{ctx:n}}}),r=new fn({props:{size:1-n[2].size,$$slots:{default:[Am]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment),t=$(),D(r.$$.fragment)},m(l,s){z(e,l,s),L(l,t,s),z(r,l,s),i=!0},p(l,s){const a={};s&4&&(a.size=l[2].size),s&2048&&(a.$$scope={dirty:s,ctx:l}),e.$set(a);const o={};s&4&&(o.size=1-l[2].size),s&2050&&(o.$$scope={dirty:s,ctx:l}),r.$set(o)},i(l){i||(v(e.$$.fragment,l),v(r.$$.fragment,l),i=!0)},o(l){A(e.$$.fragment,l),A(r.$$.fragment,l),i=!1},d(l){l&&N(t),P(e,l),P(r,l)}}}function km(n){let e,t,r,i;return e=new fn({props:{size:1-n[2].size,$$slots:{default:[Sm]},$$scope:{ctx:n}}}),r=new fn({props:{size:n[2].size,$$slots:{default:[Tm]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment),t=$(),D(r.$$.fragment)},m(l,s){z(e,l,s),L(l,t,s),z(r,l,s),i=!0},p(l,s){const a={};s&4&&(a.size=1-l[2].size),s&2050&&(a.$$scope={dirty:s,ctx:l}),e.$set(a);const o={};s&4&&(o.size=l[2].size),s&2048&&(o.$$scope={dirty:s,ctx:l}),r.$set(o)},i(l){i||(v(e.$$.fragment,l),v(r.$$.fragment,l),i=!0)},o(l){A(e.$$.fragment,l),A(r.$$.fragment,l),i=!1},d(l){l&&N(t),P(e,l),P(r,l)}}}function Em(n){let e,t;return e=new gr({props:{hasHeader:!1}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p:ae,i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Am(n){let e,t;return e=new Tn({props:{hasHeader:!1,sketchKey:n[1]}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&2&&(l.sketchKey=r[1]),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Sm(n){let e,t;return e=new Tn({props:{hasHeader:!1,sketchKey:n[1]}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&2&&(l.sketchKey=r[1]),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Tm(n){let e,t;return e=new gr({props:{hasHeader:!1}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p:ae,i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Cm(n){let e,t,r,i;const l=[km,vm],s=[];function a(o,u){return o[2].align==="right"?0:1}return e=a(n),t=s[e]=l[e](n),{c(){t.c(),r=Me()},m(o,u){s[e].m(o,u),L(o,r,u),i=!0},p(o,u){let c=e;e=a(o),e===c?s[e].p(o,u):(me(),A(s[c],1,1,()=>{s[c]=null}),ge(),t=s[e],t?t.p(o,u):(t=s[e]=l[e](o),t.c()),v(t,1),t.m(r.parentNode,r))},i(o){i||(v(t),i=!0)},o(o){A(t),i=!1},d(o){o&&N(r),s[e].d(o)}}}function Rm(n){let e,t,r,i;const l=[bm,_m],s=[];function a(o,u){return o[0]?0:1}return e=a(n),t=s[e]=l[e](n),{c(){t.c(),r=Me()},m(o,u){s[e].m(o,u),L(o,r,u),i=!0},p(o,[u]){let c=e;e=a(o),e===c?s[e].p(o,u):(me(),A(s[c],1,1,()=>{s[c]=null}),ge(),t=s[e],t?t.p(o,u):(t=s[e]=l[e](o),t.c()),v(t,1),t.m(r.parentNode,r))},i(o){i||(v(t),i=!0)},o(o){A(t),i=!1},d(o){o&&N(r),s[e].d(o)}}}function Im(n,e,t){let r,i,l,s,a,o;ne(n,Gt,h=>t(6,l=h)),ne(n,Ot,h=>t(7,s=h)),ne(n,Xn,h=>t(8,a=h)),ne(n,kt,h=>t(9,o=h)),console.log("Made with Fragment. https://fragment.tools");let u,c,f,d={position:"float",align:"right",size:.3,output:!1,hidden:!1},m=d;return St(()=>{c&&f&&f.removeChild(c)}),n.$$.update=()=>{if(n.$$.dirty&896&&t(1,r=o.previewing&&a?a:s[0]),n.$$.dirty&66&&t(5,i=l[r]),n.$$.dirty&57&&i){i.buildConfig&&Vu(i.buildConfig);const h=i.buildConfig?i.buildConfig:{};t(0,u=h.gui),u&&typeof u=="object"&&t(2,m={...d,...u});const{styles:_=""}=h;_!==""&&(t(4,f=document.getElementsByTagName("head")[0]),c&&f.removeChild(c),t(3,c=document.createElement("style")),c.setAttribute("type","text/css"),c.appendChild(document.createTextNode(_)),f.appendChild(c))}},[u,r,m,c,f,i,l,s,a,o]}class Lo extends he{constructor(e){super(),de(this,e,Im,Rm,ce,{})}}function Mm(n){let e,t;return e=new Lo({}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p:ae,i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Nm(n,e,t){let r;ne(n,ze,l=>t(0,r=l));let i=r;return St(()=>{ve(ze,r=i,r)}),[]}class Bm extends he{constructor(e){super(),de(this,e,Nm,Mm,ce,{})}}function ss(n,e,t){const r=n.slice();return r[28]=e[t],r}function Lm(n){let e;const t=n[20].default,r=Ge(t,n,n[19],null);return{c(){r&&r.c()},m(i,l){r&&r.m(i,l),e=!0},p(i,l){r&&r.p&&(!e||l&524288)&&qe(r,t,i,i[19],e?We(t,i[19],l,null):Ke(i[19]),null)},i(i){e||(v(r,i),e=!0)},o(i){A(r,i),e=!1},d(i){r&&r.d(i)}}}function Om(n){let e=[],t=new Map,r,i,l=Fe(n[0].children);const s=a=>a[28].id;for(let a=0;a<l.length;a+=1){let o=ss(n,l,a),u=s(o);t.set(u,e[a]=os(u,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=Me()},m(a,o){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(a,o);L(a,r,o),i=!0},p(a,o){o&1&&(l=Fe(a[0].children),me(),e=ps(e,o,s,1,a,l,t,r.parentNode,gs,os,r,ss),ge())},i(a){if(!i){for(let o=0;o<l.length;o+=1)v(e[o]);i=!0}},o(a){for(let o=0;o<e.length;o+=1)A(e[o]);i=!1},d(a){a&&N(r);for(let o=0;o<e.length;o+=1)e[o].d(a)}}}function zm(n){let e,t;return e=new Bm({}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p:ae,i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Pm(n){let e,t;return e=new lr({props:{name:n[28].name,mID:n[28].mID,hasHeader:n[28].hasHeader}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&1&&(l.name=r[28].name),i&1&&(l.mID=r[28].mID),i&1&&(l.hasHeader=r[28].hasHeader),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Dm(n){let e,t;return e=new pr({props:{type:n[28].type,size:n[28].size,tree:n[28]}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&1&&(l.type=r[28].type),i&1&&(l.size=r[28].size),i&1&&(l.tree=r[28]),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function os(n,e){let t,r,i,l,s;const a=[Dm,Pm],o=[];function u(c,f){return c[28].type==="column"||c[28].type==="row"?0:c[28].type==="module"?1:-1}return~(r=u(e))&&(i=o[r]=a[r](e)),{key:n,first:null,c(){t=Me(),i&&i.c(),l=Me(),this.first=t},m(c,f){L(c,t,f),~r&&o[r].m(c,f),L(c,l,f),s=!0},p(c,f){e=c;let d=r;r=u(e),r===d?~r&&o[r].p(e,f):(i&&(me(),A(o[d],1,1,()=>{o[d]=null}),ge()),~r?(i=o[r],i?i.p(e,f):(i=o[r]=a[r](e),i.c()),v(i,1),i.m(l.parentNode,l)):i=null)},i(c){s||(v(i),s=!0)},o(c){A(i),s=!1},d(c){c&&(N(t),N(l)),~r&&o[r].d(c)}}}function as(n){let e,t;return e=new Tu({props:{isRoot:n[11],moduleName:n[7][0].name,vertical:n[4]<300}}),e.$on("change",n[16]),e.$on("add-row",n[14]),e.$on("add-column",n[13]),e.$on("delete",n[15]),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&128&&(l.moduleName=r[7][0].name),i&16&&(l.vertical=r[4]<300),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Um(n){let e,t;return e=new Iu({props:{direction:n[2]?"vertical":"horizontal",current:n[1],parent:n[9]}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,i){const l={};i&4&&(l.direction=r[2]?"vertical":"horizontal"),i&2&&(l.current=r[1]),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Fm(n){let e,t,r,i,l,s,a,o,u;const c=[zm,Om,Lm],f=[];function d(_,g){return g&1&&(t=null),_[11]&&_[8].previewing?0:(t==null&&(t=!!(_[0]&&Array.isArray(_[0].children)&&_[0].children.length>0)),t?1:2)}r=d(n,-1),i=f[r]=c[r](n);let m=n[8].editing&&(n[7].length===1&&n[7][0].type==="module"||n[11])&&as(n),h=!n[11]&&Um(n);return{c(){e=O("div"),i.c(),l=$(),m&&m.c(),a=$(),h&&h.c(),o=Me(),E(e,"style",n[3]),E(e,"class","svelte-1a1bdka"),an(()=>n[22].call(e)),W(e,"column",n[2]),W(e,"root",n[11]),W(e,"row",n[6]),W(e,"minimized",n[5])},m(_,g){L(_,e,g),f[r].m(e,null),j(e,l),m&&m.m(e,null),n[21](e),s=ms(e,n[22].bind(e)),L(_,a,g),h&&h.m(_,g),L(_,o,g),u=!0},p(_,[g]){let p=r;r=d(_,g),r===p?f[r].p(_,g):(me(),A(f[p],1,1,()=>{f[p]=null}),ge(),i=f[r],i?i.p(_,g):(i=f[r]=c[r](_),i.c()),v(i,1),i.m(e,l)),_[8].editing&&(_[7].length===1&&_[7][0].type==="module"||_[11])?m?(m.p(_,g),g&384&&v(m,1)):(m=as(_),m.c(),v(m,1),m.m(e,null)):m&&(me(),A(m,1,1,()=>{m=null}),ge()),(!u||g&8)&&E(e,"style",_[3]),(!u||g&4)&&W(e,"column",_[2]),(!u||g&64)&&W(e,"row",_[6]),(!u||g&32)&&W(e,"minimized",_[5]),_[11]||h.p(_,g)},i(_){u||(v(i),v(m),v(h),u=!0)},o(_){A(i),A(m),A(h),u=!1},d(_){_&&(N(e),N(a),N(o)),f[r].d(),m&&m.d(),n[21](null),s(),h&&h.d(_)}}}let tn=0;function jm(n,e,t){let r,i,l,s,a,o;ne(n,kt,X=>t(8,o=X));let{$$slots:u={},$$scope:c}=e,{size:f=1}=e,{type:d="column"}=e,{tree:m={children:[]}}=e,h=Di("parent")?Kn("parent"):null,_=Di("depth")?Kn("depth")+1:0,g=mt({});ne(n,g,X=>t(23,s=X)),Sr("depth",_),Sr("module",g);let p=h===null,w=mt([]);ne(n,w,X=>t(7,a=X));let I="";function k({id:X,parent:ee=null,root:oe=!1,node:we=null,depth:Ye,size:te=1,minimized:se=!1,type:Re,children:Xe=[]}){return{id:X,root:oe,node:we,depth:Ye,size:te,minimized:se,parent:ee?ee.id:null,type:Re,children:Xe}}let T=k({id:isNaN(m.id)?tn++:m.id,root:p,depth:_,size:f,parent:h,type:d});tn=Math.max(tn,isNaN(T.id)?0:T.id+1);const C={id:T.id,children:w,registerChild:X=>{ve(w,a=[...a,X],a),St(()=>{ve(w,a=a.filter(ee=>ee!==X),a)})}};Sr("parent",C),h&&h.registerChild(T);function M(X){const ee=X===d,oe=k({id:tn++,parent:ee?h:C,depth:ee?_:_+1,type:X,children:[{mID:fu(),type:"module"}]});if(ee)if(p){const we=k({id:tn++,depth:oe.depth,type:oe.type,children:T.children});t(1,T.children=[we,oe],T),t(1,T.type=T.type==="column"?"row":"column",T),qa(T)}else Ka(T,oe);else a.length===1&&a[0].type==="module"?(Wa(T,[...a.map((we,Ye)=>k({id:tn++,type:d==="row"?"column":"row",depth:_+1,children:[we]})),oe]),g.set({})):Ya(T,oe)}function R(){M("column")}function U(){M("row")}function G(){_s(T),ve(w,a=T.children,a)}function le(X){const ee=X.detail;ve(w,a[0].name=ee,a),Xa(s,{name:ee})}let H;function re(X){Ae[X?"unshift":"push"](()=>{T.node=X,t(1,T)})}function V(){H=this.offsetWidth,t(4,H)}return n.$$set=X=>{"size"in X&&t(17,f=X.size),"type"in X&&t(18,d=X.type),"tree"in X&&t(0,m=X.tree),"$$scope"in X&&t(19,c=X.$$scope)},n.$$.update=()=>{if(n.$$.dirty&262144&&t(2,r=d==="column"),n.$$.dirty&4&&t(6,i=!r),n.$$.dirty&5){let X="",ee="";const oe=m.children;Array.isArray(oe)&&oe.length>1?(r?(X="grid-template-rows",ee=oe.map((we,Ye)=>`minmax(25px, ${`${we.size}fr`}) 0px`).join(" ")):(X="grid-template-columns",ee=oe.map((we,Ye)=>`minmax(25px, ${`${we.size}fr`}) 0px`).join(" ")),t(3,I=`${X}:${ee}`)):t(3,I="")}n.$$.dirty&2&&t(5,l=T.minimized)},[m,T,r,I,H,l,i,a,o,h,g,p,w,R,U,G,le,f,d,c,u,re,V]}class pr extends he{constructor(e){super(),de(this,e,jm,Fm,ce,{size:17,type:18,tree:0})}}function Hm(n){let e;const t=n[3].default,r=Ge(t,n,n[4],null);return{c(){r&&r.c()},m(i,l){r&&r.m(i,l),e=!0},p(i,l){r&&r.p&&(!e||l&16)&&qe(r,t,i,i[4],e?We(t,i[4],l,null):Ke(i[4]),null)},i(i){e||(v(r,i),e=!0)},o(i){A(r,i),e=!1},d(i){r&&r.d(i)}}}function Vm(n){let e,t;return e=new pr({props:{tree:n[0],type:n[2],size:n[1],$$slots:{default:[Hm]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p(r,[i]){const l={};i&1&&(l.tree=r[0]),i&4&&(l.type=r[2]),i&2&&(l.size=r[1]),i&16&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Gm(n,e,t){let r,i,l;ne(n,ht,o=>t(0,l=o));let{$$slots:s={},$$scope:a}=e;return n.$$set=o=>{"$$scope"in o&&t(4,a=o.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&t(2,r=l.type),n.$$.dirty&1&&t(1,i=l.size)},[l,i,r,s,a]}class Wm extends he{constructor(e){super(),de(this,e,Gm,Vm,ce,{})}}function qm(n){let e,t;return e=new er({props:{size:1,$$slots:{default:[Zm]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Km(n){let e,t;return e=new Lo({}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Ym(n){let e,t;return e=new lr({props:{name:"monitor"}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p:ae,i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Xm(n){let e,t;return e=new lr({props:{name:"exports"}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p:ae,i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Jm(n){let e,t;return e=new lr({props:{name:"params"}}),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p:ae,i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Qm(n){let e,t,r,i;return e=new er({props:{size:1,$$slots:{default:[Xm]},$$scope:{ctx:n}}}),r=new er({props:{size:1,$$slots:{default:[Jm]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment),t=$(),D(r.$$.fragment)},m(l,s){z(e,l,s),L(l,t,s),z(r,l,s),i=!0},p(l,s){const a={};s&32&&(a.$$scope={dirty:s,ctx:l}),e.$set(a);const o={};s&32&&(o.$$scope={dirty:s,ctx:l}),r.$set(o)},i(l){i||(v(e.$$.fragment,l),v(r.$$.fragment,l),i=!0)},o(l){A(e.$$.fragment,l),A(r.$$.fragment,l),i=!1},d(l){l&&N(t),P(e,l),P(r,l)}}}function Zm(n){let e,t,r,i;return e=new fn({props:{size:.65,$$slots:{default:[Ym]},$$scope:{ctx:n}}}),r=new fn({props:{size:.35,$$slots:{default:[Qm]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment),t=$(),D(r.$$.fragment)},m(l,s){z(e,l,s),L(l,t,s),z(r,l,s),i=!0},p(l,s){const a={};s&32&&(a.$$scope={dirty:s,ctx:l}),e.$set(a);const o={};s&32&&(o.$$scope={dirty:s,ctx:l}),r.$set(o)},i(l){i||(v(e.$$.fragment,l),v(r.$$.fragment,l),i=!0)},o(l){A(e.$$.fragment,l),A(r.$$.fragment,l),i=!1},d(l){l&&N(t),P(e,l),P(r,l)}}}function $m(n){let e,t,r,i;const l=[Km,qm],s=[];function a(o,u){return 0}return e=a(),t=s[e]=l[e](n),{c(){t.c(),r=Me()},m(o,u){s[e].m(o,u),L(o,r,u),i=!0},p(o,u){let c=e;e=a(),e!==c&&(me(),A(s[c],1,1,()=>{s[c]=null}),ge(),t=s[e],t||(t=s[e]=l[e](o),t.c()),v(t,1),t.m(r.parentNode,r))},i(o){i||(v(t),i=!0)},o(o){A(t),i=!1},d(o){o&&N(r),s[e].d(o)}}}function us(n){let e,t;return e=new ln({props:{key:"Escape",type:"down"}}),e.$on("trigger",n[1]),{c(){D(e.$$.fragment)},m(r,i){z(e,r,i),t=!0},p:ae,i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function xm(n){let e,t,r,i,l;e=new Wm({props:{$$slots:{default:[$m]},$$scope:{ctx:n}}});let s=!1,a=n[0].editing&&us(n);return{c(){D(e.$$.fragment),t=$(),r=$(),a&&a.c(),i=Me()},m(o,u){z(e,o,u),L(o,t,u),L(o,r,u),a&&a.m(o,u),L(o,i,u),l=!0},p(o,[u]){const c={};u&33&&(c.$$scope={dirty:u,ctx:o}),e.$set(c),o[0].editing?a?(a.p(o,u),u&1&&v(a,1)):(a=us(o),a.c(),v(a,1),a.m(i.parentNode,i)):a&&(me(),A(a,1,1,()=>{a=null}),ge())},i(o){l||(v(e.$$.fragment,o),v(s),v(a),l=!0)},o(o){A(e.$$.fragment,o),A(s),A(a),l=!1},d(o){o&&(N(t),N(r),N(i)),P(e,o),a&&a.d(o)}}}function eg(n,e,t){let r,i,l;ne(n,kt,o=>t(0,r=o)),ne(n,rt,o=>t(3,i=o)),ne(n,Xn,o=>t(4,l=o));function s(){ve(kt,r.editing=!r.editing,r)}function a(){i.length===1&&!r.previewing&&ve(Xn,l=i[0].selected,l),ve(kt,r.previewing=!r.previewing,r)}return[r,s,a]}class tg extends he{constructor(e){super(),de(this,e,eg,xm,ce,{})}}function Mi(n){const e=n.match(/<filepath:\/\/(.*)>/);return e&&e[1]}function ng(n,e=Mi(n)){return e?n.replace(`// <filepath://${e}>`,""):n}const fs=["attachShader"],Oo=[WebGLRenderingContext,WebGL2RenderingContext];for(let n=0;n<fs.length;n++){const e=fs[n];Oo.map(t=>t.prototype[e])}function Xr(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}function Rn(n,e){Oo.forEach(t=>{const r=t.prototype[n];t.prototype[n]=function(){var i=r.apply(this,arguments);return i=e.apply(this,[i,arguments])||i,i}})}const rg=35632,ig=35633;class lg extends Error{constructor({source:e,filename:t="",lineNumber:r,message:i=`Cannot compile ${t!==""?t:"shader"}`}={}){super(i,t,r),this.name="ShaderCompileError",this.source=e,this.lineNumber=r,this.stack=`at (${t}:${r})`}}Rn("createShader",function(n,e){this.__uuid||(this.__uuid=Xr()),n.__uuid=Xr(),n.__type=e[0]});Rn("attachShader",function(n,e){const t=e[0],r=e[1];r.__type===rg?t.__fragmentShader=r:r.__type===ig&&(t.__vertexShader=r)});Rn("shaderSource",function(n,e){const t=e[0],r=e[1];t.__source=r;const i=Mi(r);if(i){const l=i.replace("C:\\laragon\\www\\kikk-24-generator/","");t.__filepath=i,t.__filename=l}});Rn("createProgram",function(n,e){n.__uuid=Xr()});Rn("compileShader",function(n,e){const t=this,r=e[0],i=r.__filename;if(!t.getShaderParameter(r,t.COMPILE_STATUS)){const{source:l,lineNumber:s,message:a}=sg(t,r,r.__type),o=new lg({source:l,message:a,filename:i,lineNumber:s});yi(o,this.__uuid)}});function sg(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const l=i.match(/ERROR: 0:(\d+):([\s\S]*$)/);if(l){const s=parseInt(l[1]),a=l[2],o=n.getShaderSource(e),u=og(o,s);return{message:a,source:u,lineNumber:s}}else return i}function og(n,e){const r=(Mi(n)?ng(n):n).split(`
`),i=[],l=Math.max(e-6,0),s=Math.min(e+6,r.length);for(let a=l;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${r[a]}`)}return i.join(`
`)}function ag(n){let e;return document.title=e=n[0],{c:ae,m:ae,p(t,[r]){r&1&&e!==(e=t[0])&&(document.title=e)},i:ae,o:ae,d:ae}}function ug(n,e,t){let r,i,l;return ne(n,Ot,s=>t(2,l=s)),Gt.subscribe(s=>{At.update(a=>(Object.keys(s).forEach(o=>{const u=s[o];u&&(a[o]=lf(u.props,a[o]))}),a))}),Ot.subscribe(s=>{s.length>0&&ja(s)}),n.$$.update=()=>{n.$$.dirty&4&&t(1,r=l.length===1?`${Jf(l[0])} | `:""),n.$$.dirty&2&&t(0,i=`${r}fragment`)},[i,r,l]}class fg extends he{constructor(e){super(),de(this,e,ug,ag,ce,{})}}function cg(n){let e,t,r,i;return e=new fg({}),r=new tg({}),{c(){D(e.$$.fragment),t=$(),D(r.$$.fragment)},m(l,s){z(e,l,s),L(l,t,s),z(r,l,s),i=!0},p:ae,i(l){i||(v(e.$$.fragment,l),v(r.$$.fragment,l),i=!0)},o(l){A(e.$$.fragment,l),A(r.$$.fragment,l),i=!1},d(l){l&&N(t),P(e,l),P(r,l)}}}class dg extends he{constructor(e){super(),de(this,e,null,cg,ce,{})}}new dg({target:document.getElementById("app"),props:{}});export{tl as $,tr as A,ve as B,Ge as C,qe as D,Ke as E,xe as F,We as G,mt as H,me as I,ge as J,Fe as K,pg as L,ir as M,Wt as N,Pe as O,et as P,gg as Q,qn as R,he as S,Ua as T,fe as U,yn as V,Hi as W,Ma as X,po as Y,Ae as Z,Cr as _,Or as a,Jn as a0,Kl as a1,of as a2,rn as a3,Mc as a4,Gr as a5,el as a6,Mi as a7,En as a8,ji as b,D as c,A as d,P as e,Et as f,Fi as g,mg as h,de as i,$ as j,L as k,N as l,z as m,Kn as n,qt as o,Sr as p,Me as q,ae as r,ce as s,v as t,ne as u,O as v,E as w,W as x,j as y,be as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Console-BIUEKboJ.js","assets/Console-R4uTSnNb.css","assets/sketch-BEVtlB39.js","assets/three.module-vsZzOYtL.js","assets/THREERenderer-BXwAjF98.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}